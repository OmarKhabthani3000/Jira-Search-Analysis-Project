Index: /home/munrbra/hibernateext/HibernateExt/search/src/java/org/hibernate/search/util/DirectoryProviderHelper.java
===================================================================
--- /home/munrbra/hibernateext/HibernateExt/search/src/java/org/hibernate/search/util/DirectoryProviderHelper.java	(revision 11520)
+++ /home/munrbra/hibernateext/HibernateExt/search/src/java/org/hibernate/search/util/DirectoryProviderHelper.java	(working copy)
@@ -57,7 +57,7 @@
 				}
 			}
 			else {
-				throw new SearchException(rootPropertyName + " does not exist");
+				rootDir.mkdirs();
 			}
 		}
 		return relative;
@@ -67,8 +67,8 @@
 		String indexBase = properties.getProperty( "indexBase", "." );
 		File indexDir = new File( indexBase );
 		if ( !( indexDir.exists() && indexDir.isDirectory() ) ) {
-			//TODO create the directory?
-			throw new HibernateException( MessageFormat.format( "Index directory does not exists: {0}", indexBase ) );
+			if(!indexDir.mkdirs())
+				throw new HibernateException( MessageFormat.format( "Index directory could not be created: {0}", indexBase ) );
 		}
 		if ( !indexDir.canWrite() ) {
 			throw new HibernateException( "Cannot write into index directory: " + indexBase );
