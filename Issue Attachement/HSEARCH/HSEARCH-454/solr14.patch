Index: hibernate-search/src/test/java/org/hibernate/search/test/analyzer/solr/Team.java
===================================================================
--- hibernate-search/src/test/java/org/hibernate/search/test/analyzer/solr/Team.java	(revision 19122)
+++ hibernate-search/src/test/java/org/hibernate/search/test/analyzer/solr/Team.java	(working copy)
@@ -150,7 +150,7 @@
 				filters = {
 						@TokenFilterDef(factory = PhoneticFilterFactory.class, params = {
 								@Parameter(name = "encoder", value = "Metaphone"),
-								@Parameter(name = "inject", value = "true")
+								@Parameter(name = "inject", value = "false")
 						})
 				})
 })
Index: hibernate-search/src/test/java/org/hibernate/search/test/analyzer/Article.java
===================================================================
--- hibernate-search/src/test/java/org/hibernate/search/test/analyzer/Article.java	(revision 19122)
+++ hibernate-search/src/test/java/org/hibernate/search/test/analyzer/Article.java	(working copy)
@@ -24,18 +24,10 @@
  */
 package org.hibernate.search.test.analyzer;
 
-import java.util.Set;
-import javax.persistence.CascadeType;
-import javax.persistence.Entity;
-import javax.persistence.GeneratedValue;
-import javax.persistence.Id;
-import javax.persistence.OneToMany;
-
-import org.apache.solr.analysis.EnglishPorterFilterFactory;
 import org.apache.solr.analysis.GermanStemFilterFactory;
 import org.apache.solr.analysis.LowerCaseFilterFactory;
+import org.apache.solr.analysis.SnowballPorterFilterFactory;
 import org.apache.solr.analysis.StandardTokenizerFactory;
-
 import org.hibernate.search.annotations.AnalyzerDef;
 import org.hibernate.search.annotations.AnalyzerDefs;
 import org.hibernate.search.annotations.AnalyzerDiscriminator;
@@ -43,10 +35,18 @@
 import org.hibernate.search.annotations.Field;
 import org.hibernate.search.annotations.Indexed;
 import org.hibernate.search.annotations.IndexedEmbedded;
+import org.hibernate.search.annotations.Parameter;
 import org.hibernate.search.annotations.Store;
 import org.hibernate.search.annotations.TokenFilterDef;
 import org.hibernate.search.annotations.TokenizerDef;
 
+import javax.persistence.CascadeType;
+import javax.persistence.Entity;
+import javax.persistence.GeneratedValue;
+import javax.persistence.Id;
+import javax.persistence.OneToMany;
+import java.util.Set;
+
 /**
  * @author Hardy Ferentschik
  */
@@ -57,8 +57,9 @@
 				tokenizer = @TokenizerDef(factory = StandardTokenizerFactory.class),
 				filters = {
 						@TokenFilterDef(factory = LowerCaseFilterFactory.class),
-						@TokenFilterDef(factory = EnglishPorterFilterFactory.class
-						)
+						@TokenFilterDef(factory = SnowballPorterFilterFactory.class, params =   {
+                          @Parameter(name = "language", value = "English")
+                        })
 				}),
 		@AnalyzerDef(name = "de",
 				tokenizer = @TokenizerDef(factory = StandardTokenizerFactory.class),
Index: hibernate-search/pom.xml
===================================================================
--- hibernate-search/pom.xml	(revision 19122)
+++ hibernate-search/pom.xml	(working copy)
@@ -59,10 +59,6 @@
         </dependency>
         <dependency>
             <groupId>org.apache.solr</groupId>
-            <artifactId>solr-common</artifactId>
-        </dependency>
-        <dependency>
-            <groupId>org.apache.solr</groupId>
             <artifactId>solr-core</artifactId>
         </dependency>
         <dependency>
Index: hibernate-search-archetype/pom.xml
===================================================================
--- hibernate-search-archetype/pom.xml	(revision 19122)
+++ hibernate-search-archetype/pom.xml	(working copy)
@@ -32,10 +32,6 @@
         </dependency>
         <dependency>
             <groupId>org.apache.solr</groupId>
-            <artifactId>solr-common</artifactId>
-        </dependency>
-        <dependency>
-            <groupId>org.apache.solr</groupId>
             <artifactId>solr-core</artifactId>
             <exclusions>
                 <exclusion>
@@ -43,10 +39,6 @@
                     <artifactId>commons-httpclient</artifactId>
                 </exclusion>
                 <exclusion>
-                    <groupId>org.apache.solr</groupId>
-                    <artifactId>solr-solrj</artifactId>
-                </exclusion>
-                <exclusion>
                     <groupId>woodstox</groupId>
                     <artifactId>wstx-asl</artifactId>
                 </exclusion>
Index: pom.xml
===================================================================
--- pom.xml	(revision 19122)
+++ pom.xml	(working copy)
@@ -144,6 +144,11 @@
             <version>${slf4jVersion}</version>
             <scope>test</scope>
         </dependency>
+        <dependency>
+            <groupId>org.apache.solr</groupId>
+            <artifactId>solr-core</artifactId>
+            <version>1.4.0</version>
+        </dependency>
     </dependencies>    
     
     <dependencyManagement>
@@ -196,13 +201,8 @@
             </dependency>
             <dependency>
                 <groupId>org.apache.solr</groupId>
-                <artifactId>solr-common</artifactId>
-                <version>1.3.0</version>
-            </dependency>
-            <dependency>
-                <groupId>org.apache.solr</groupId>
                 <artifactId>solr-core</artifactId>
-                <version>1.3.0</version>
+                <version>1.4.0</version>
                 <optional>true</optional>
                 <exclusions>
                     <exclusion>
@@ -210,10 +210,6 @@
                         <artifactId>commons-httpclient</artifactId>
                     </exclusion>
                     <exclusion>
-                        <groupId>org.apache.solr</groupId>
-                        <artifactId>solr-solrj</artifactId>
-                    </exclusion>
-                    <exclusion>
                         <groupId>woodstox</groupId>
                         <artifactId>wstx-asl</artifactId>
                     </exclusion>
