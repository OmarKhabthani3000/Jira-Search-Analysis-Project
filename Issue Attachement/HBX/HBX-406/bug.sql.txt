--
-- PostgreSQL database dump
--

-- Started on 2005-09-11 09:11:08 Alaskan Daylight Time

SET client_encoding = 'UNICODE';
SET check_function_bodies = false;
SET client_min_messages = warning;

--
-- TOC entry 1521 (class 0 OID 0)
-- Dependencies: 2
-- Name: SCHEMA public; Type: COMMENT; Schema: -; Owner: postgres
--

COMMENT ON SCHEMA public IS 'Standard public schema';


SET search_path = public, pg_catalog;

--
-- TOC entry 17 (class 1255 OID 17230)
-- Dependencies: 2
-- Name: plpgsql_call_handler(); Type: FUNCTION; Schema: public; Owner: postgres
--

CREATE FUNCTION plpgsql_call_handler() RETURNS language_handler
    AS '$libdir/plpgsql', 'plpgsql_call_handler'
    LANGUAGE c;


ALTER FUNCTION public.plpgsql_call_handler() OWNER TO postgres;

--
-- TOC entry 18 (class 1255 OID 17231)
-- Dependencies: 2
-- Name: plpgsql_validator(oid); Type: FUNCTION; Schema: public; Owner: postgres
--

CREATE FUNCTION plpgsql_validator(oid) RETURNS void
    AS '$libdir/plpgsql', 'plpgsql_validator'
    LANGUAGE c;


ALTER FUNCTION public.plpgsql_validator(oid) OWNER TO postgres;

--
-- TOC entry 267 (class 16402 OID 17232)
-- Dependencies: 17 18
-- Name: plpgsql; Type: PROCEDURAL LANGUAGE; Schema: public; Owner: 
--

CREATE TRUSTED PROCEDURAL LANGUAGE plpgsql HANDLER plpgsql_call_handler VALIDATOR plpgsql_validator;


--
-- TOC entry 19 (class 1255 OID 17233)
-- Dependencies: 2
-- Name: database_size(name); Type: FUNCTION; Schema: public; Owner: postgres
--

CREATE FUNCTION database_size(name) RETURNS bigint
    AS '$libdir/dbsize', 'database_size'
    LANGUAGE c STRICT;


ALTER FUNCTION public.database_size(name) OWNER TO postgres;

--
-- TOC entry 22 (class 1255 OID 17236)
-- Dependencies: 2
-- Name: pg_database_size(oid); Type: FUNCTION; Schema: public; Owner: postgres
--

CREATE FUNCTION pg_database_size(oid) RETURNS bigint
    AS '$libdir/dbsize', 'pg_database_size'
    LANGUAGE c STRICT;


ALTER FUNCTION public.pg_database_size(oid) OWNER TO postgres;

--
-- TOC entry 32 (class 1255 OID 17246)
-- Dependencies: 2
-- Name: pg_dir_ls(text, boolean); Type: FUNCTION; Schema: public; Owner: postgres
--

CREATE FUNCTION pg_dir_ls(text, boolean) RETURNS SETOF text
    AS '$libdir/admin', 'pg_dir_ls'
    LANGUAGE c STRICT;


ALTER FUNCTION public.pg_dir_ls(text, boolean) OWNER TO postgres;

--
-- TOC entry 26 (class 1255 OID 17240)
-- Dependencies: 2
-- Name: pg_file_length(text); Type: FUNCTION; Schema: public; Owner: postgres
--

CREATE FUNCTION pg_file_length(text) RETURNS bigint
    AS $_$SELECT len FROM pg_file_stat($1) AS s(len int8, c timestamp, a timestamp, m timestamp, i bool)$_$
    LANGUAGE sql STRICT;


ALTER FUNCTION public.pg_file_length(text) OWNER TO postgres;

--
-- TOC entry 27 (class 1255 OID 17241)
-- Dependencies: 2
-- Name: pg_file_read(text, bigint, bigint); Type: FUNCTION; Schema: public; Owner: postgres
--

CREATE FUNCTION pg_file_read(text, bigint, bigint) RETURNS text
    AS '$libdir/admin', 'pg_file_read'
    LANGUAGE c STRICT;


ALTER FUNCTION public.pg_file_read(text, bigint, bigint) OWNER TO postgres;

--
-- TOC entry 29 (class 1255 OID 17243)
-- Dependencies: 2
-- Name: pg_file_rename(text, text, text); Type: FUNCTION; Schema: public; Owner: postgres
--

CREATE FUNCTION pg_file_rename(text, text, text) RETURNS boolean
    AS '$libdir/admin', 'pg_file_rename'
    LANGUAGE c;


ALTER FUNCTION public.pg_file_rename(text, text, text) OWNER TO postgres;

--
-- TOC entry 31 (class 1255 OID 17245)
-- Dependencies: 2
-- Name: pg_file_rename(text, text); Type: FUNCTION; Schema: public; Owner: postgres
--

CREATE FUNCTION pg_file_rename(text, text) RETURNS boolean
    AS $_$SELECT pg_file_rename($1, $2, NULL); $_$
    LANGUAGE sql STRICT;


ALTER FUNCTION public.pg_file_rename(text, text) OWNER TO postgres;

--
-- TOC entry 25 (class 1255 OID 17239)
-- Dependencies: 2
-- Name: pg_file_stat(text); Type: FUNCTION; Schema: public; Owner: postgres
--

CREATE FUNCTION pg_file_stat(text) RETURNS record
    AS '$libdir/admin', 'pg_file_stat'
    LANGUAGE c STRICT;


ALTER FUNCTION public.pg_file_stat(text) OWNER TO postgres;

--
-- TOC entry 30 (class 1255 OID 17244)
-- Dependencies: 2
-- Name: pg_file_unlink(text); Type: FUNCTION; Schema: public; Owner: postgres
--

CREATE FUNCTION pg_file_unlink(text) RETURNS boolean
    AS '$libdir/admin', 'pg_file_unlink'
    LANGUAGE c STRICT;


ALTER FUNCTION public.pg_file_unlink(text) OWNER TO postgres;

--
-- TOC entry 28 (class 1255 OID 17242)
-- Dependencies: 2
-- Name: pg_file_write(text, text, boolean); Type: FUNCTION; Schema: public; Owner: postgres
--

CREATE FUNCTION pg_file_write(text, text, boolean) RETURNS bigint
    AS '$libdir/admin', 'pg_file_write'
    LANGUAGE c STRICT;


ALTER FUNCTION public.pg_file_write(text, text, boolean) OWNER TO postgres;

--
-- TOC entry 35 (class 1255 OID 17249)
-- Dependencies: 2
-- Name: pg_logdir_ls(); Type: FUNCTION; Schema: public; Owner: postgres
--

CREATE FUNCTION pg_logdir_ls() RETURNS SETOF record
    AS '$libdir/admin', 'pg_logdir_ls'
    LANGUAGE c STRICT;


ALTER FUNCTION public.pg_logdir_ls() OWNER TO postgres;

--
-- TOC entry 34 (class 1255 OID 17248)
-- Dependencies: 2
-- Name: pg_postmaster_starttime(); Type: FUNCTION; Schema: public; Owner: postgres
--

CREATE FUNCTION pg_postmaster_starttime() RETURNS timestamp without time zone
    AS '$libdir/admin', 'pg_postmaster_starttime'
    LANGUAGE c STRICT;


ALTER FUNCTION public.pg_postmaster_starttime() OWNER TO postgres;

--
-- TOC entry 23 (class 1255 OID 17237)
-- Dependencies: 2
-- Name: pg_relation_size(oid); Type: FUNCTION; Schema: public; Owner: postgres
--

CREATE FUNCTION pg_relation_size(oid) RETURNS bigint
    AS '$libdir/dbsize', 'pg_relation_size'
    LANGUAGE c STRICT;


ALTER FUNCTION public.pg_relation_size(oid) OWNER TO postgres;

--
-- TOC entry 33 (class 1255 OID 17247)
-- Dependencies: 2
-- Name: pg_reload_conf(); Type: FUNCTION; Schema: public; Owner: postgres
--

CREATE FUNCTION pg_reload_conf() RETURNS integer
    AS '$libdir/admin', 'pg_reload_conf'
    LANGUAGE c STABLE STRICT;


ALTER FUNCTION public.pg_reload_conf() OWNER TO postgres;

--
-- TOC entry 24 (class 1255 OID 17238)
-- Dependencies: 2
-- Name: pg_size_pretty(bigint); Type: FUNCTION; Schema: public; Owner: postgres
--

CREATE FUNCTION pg_size_pretty(bigint) RETURNS text
    AS '$libdir/dbsize', 'pg_size_pretty'
    LANGUAGE c STRICT;


ALTER FUNCTION public.pg_size_pretty(bigint) OWNER TO postgres;

--
-- TOC entry 21 (class 1255 OID 17235)
-- Dependencies: 2
-- Name: pg_tablespace_size(oid); Type: FUNCTION; Schema: public; Owner: postgres
--

CREATE FUNCTION pg_tablespace_size(oid) RETURNS bigint
    AS '$libdir/dbsize', 'pg_tablespace_size'
    LANGUAGE c STRICT;


ALTER FUNCTION public.pg_tablespace_size(oid) OWNER TO postgres;

--
-- TOC entry 20 (class 1255 OID 17234)
-- Dependencies: 2
-- Name: relation_size(text); Type: FUNCTION; Schema: public; Owner: postgres
--

CREATE FUNCTION relation_size(text) RETURNS bigint
    AS '$libdir/dbsize', 'relation_size'
    LANGUAGE c STRICT;


ALTER FUNCTION public.relation_size(text) OWNER TO postgres;

SET default_tablespace = '';

SET default_with_oids = true;

--
-- TOC entry 1182 (class 1259 OID 99663)
-- Dependencies: 2
-- Name: game; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE game (
    game_id bigint NOT NULL,
    away_team_score integer,
    home_team_score integer,
    home_team_id bigint,
    away_team_id bigint
);


ALTER TABLE public.game OWNER TO postgres;

--
-- TOC entry 1186 (class 1259 OID 99709)
-- Dependencies: 2
-- Name: hibernate_sequence; Type: SEQUENCE; Schema: public; Owner: postgres
--

CREATE SEQUENCE hibernate_sequence
    START WITH 1
    INCREMENT BY 1
    NO MAXVALUE
    NO MINVALUE
    CACHE 1;


ALTER TABLE public.hibernate_sequence OWNER TO postgres;

--
-- TOC entry 1523 (class 0 OID 0)
-- Dependencies: 1186
-- Name: hibernate_sequence; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('hibernate_sequence', 1, false);


--
-- TOC entry 1183 (class 1259 OID 99667)
-- Dependencies: 2
-- Name: person; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE person (
    person_id bigint NOT NULL,
    person_name character varying(255),
    height real,
    weight real,
    player_number integer,
    team_id bigint,
    rookie boolean
);


ALTER TABLE public.person OWNER TO postgres;

--
-- TOC entry 1180 (class 1259 OID 17250)
-- Dependencies: 1248 2
-- Name: pg_logdir_ls; Type: VIEW; Schema: public; Owner: postgres
--

CREATE VIEW pg_logdir_ls AS
    SELECT a.filetime, a.filename FROM pg_logdir_ls() a(filetime timestamp without time zone, filename text);


ALTER TABLE public.pg_logdir_ls OWNER TO postgres;

--
-- TOC entry 1181 (class 1259 OID 79115)
-- Dependencies: 2
-- Name: ras_global_seq; Type: SEQUENCE; Schema: public; Owner: ras
--

CREATE SEQUENCE ras_global_seq
    INCREMENT BY 1
    NO MAXVALUE
    NO MINVALUE
    CACHE 1;


ALTER TABLE public.ras_global_seq OWNER TO ras;

--
-- TOC entry 1524 (class 0 OID 0)
-- Dependencies: 1181
-- Name: ras_global_seq; Type: SEQUENCE SET; Schema: public; Owner: ras
--

SELECT pg_catalog.setval('ras_global_seq', 4592, true);


--
-- TOC entry 1184 (class 1259 OID 99671)
-- Dependencies: 2
-- Name: season; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE season (
    season_id bigint NOT NULL,
    "year" bigint
);


ALTER TABLE public.season OWNER TO postgres;

--
-- TOC entry 1185 (class 1259 OID 99679)
-- Dependencies: 2
-- Name: team; Type: TABLE; Schema: public; Owner: postgres; Tablespace: 
--

CREATE TABLE team (
    team_id bigint NOT NULL,
    team_name character varying(255),
    nb_won integer,
    nb_lost integer,
    nb_played integer,
    coach_id bigint
);


ALTER TABLE public.team OWNER TO postgres;

--
-- TOC entry 1515 (class 0 OID 99663)
-- Dependencies: 1182
-- Data for Name: game; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY game (game_id, away_team_score, home_team_score, home_team_id, away_team_id) FROM stdin;
\.


--
-- TOC entry 1516 (class 0 OID 99667)
-- Dependencies: 1183
-- Data for Name: person; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY person (person_id, person_name, height, weight, player_number, team_id, rookie) FROM stdin;
\.


--
-- TOC entry 1517 (class 0 OID 99671)
-- Dependencies: 1184
-- Data for Name: season; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY season (season_id, "year") FROM stdin;
\.


--
-- TOC entry 1518 (class 0 OID 99679)
-- Dependencies: 1185
-- Data for Name: team; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY team (team_id, team_name, nb_won, nb_lost, nb_played, coach_id) FROM stdin;
\.


--
-- TOC entry 1502 (class 16386 OID 99666)
-- Dependencies: 1182 1182
-- Name: game_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY game
    ADD CONSTRAINT game_pkey PRIMARY KEY (game_id);


ALTER INDEX public.game_pkey OWNER TO postgres;

--
-- TOC entry 1504 (class 16386 OID 99670)
-- Dependencies: 1183 1183
-- Name: person_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY person
    ADD CONSTRAINT person_pkey PRIMARY KEY (person_id);


ALTER INDEX public.person_pkey OWNER TO postgres;

--
-- TOC entry 1506 (class 16386 OID 99674)
-- Dependencies: 1184 1184
-- Name: season_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY season
    ADD CONSTRAINT season_pkey PRIMARY KEY (season_id);


ALTER INDEX public.season_pkey OWNER TO postgres;

--
-- TOC entry 1508 (class 16386 OID 99684)
-- Dependencies: 1185 1185
-- Name: team_coach_id_key; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY team
    ADD CONSTRAINT team_coach_id_key UNIQUE (coach_id);


ALTER INDEX public.team_coach_id_key OWNER TO postgres;

--
-- TOC entry 1510 (class 16386 OID 99682)
-- Dependencies: 1185 1185
-- Name: team_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY team
    ADD CONSTRAINT team_pkey PRIMARY KEY (team_id);


ALTER INDEX public.team_pkey OWNER TO postgres;

--
-- TOC entry 1511 (class 16386 OID 99693)
-- Dependencies: 1185 1182 1509
-- Name: fk2143f2924d8092; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY game
    ADD CONSTRAINT fk2143f2924d8092 FOREIGN KEY (away_team_id) REFERENCES team(team_id);


--
-- TOC entry 1512 (class 16386 OID 99689)
-- Dependencies: 1509 1185 1182
-- Name: fk2143f2ff1c1183; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY game
    ADD CONSTRAINT fk2143f2ff1c1183 FOREIGN KEY (home_team_id) REFERENCES team(team_id);


--
-- TOC entry 1514 (class 16386 OID 99705)
-- Dependencies: 1503 1185 1183
-- Name: fk273a5d6fc3051; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY team
    ADD CONSTRAINT fk273a5d6fc3051 FOREIGN KEY (coach_id) REFERENCES person(person_id);


--
-- TOC entry 1513 (class 16386 OID 99697)
-- Dependencies: 1509 1185 1183
-- Name: fk8c768f5540f2c4e3; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY person
    ADD CONSTRAINT fk8c768f5540f2c4e3 FOREIGN KEY (team_id) REFERENCES team(team_id);


--
-- TOC entry 1522 (class 0 OID 0)
-- Dependencies: 2
-- Name: public; Type: ACL; Schema: -; Owner: postgres
--

REVOKE ALL ON SCHEMA public FROM PUBLIC;
REVOKE ALL ON SCHEMA public FROM postgres;
GRANT ALL ON SCHEMA public TO postgres;
GRANT ALL ON SCHEMA public TO PUBLIC;


-- Completed on 2005-09-11 09:11:09 Alaskan Daylight Time

--
-- PostgreSQL database dump complete
--

