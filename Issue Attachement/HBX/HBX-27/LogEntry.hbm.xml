<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD//EN"
          "http://hibernate.sourceforge.net/hibernate-mapping-2.0.dtd">

<hibernate-mapping>
   <class name="com.agedwards.statistics.log.LogEntry" table="log_entries">
      <meta attribute="implement-equals">true</meta>
      <id name="id" column="log_entry_id" type="long" unsaved-value="0">
         <generator class="native"/>
      </id>
      <joined-subclass name="com.agedwards.statistics.log.weblogic.AccessLogEntry" table="access_log_entries">
        <key column="log_entry_id"/>
        <property name="proxy" column="proxy_ip_addr" index="true" type="string" length="16">
      	  <meta attribute="use-in-equals">true</meta>
        </property>
        <property name="identity" column="identd_info" type="string" size="256"/>
        <property name="auth" column="auth" index="true" type="string" size="16">
        	<meta attribute="use-in-equals">true</meta>
        </property>
        <property name="time" column="time" type="date">
        	<meta attribute="use-in-equals">true</meta>
        </property>
        <property name="method" column="request_method" index="true" type="string" length="4"/>
        <property name="resource" column="requested_resource" index="true" type="string" length="256">
        	<meta attribute="use-in-equals">true</meta>
        </property>
        <property name="query" column="request_query" type="string" length="256">
        	<meta attribute="use-in-equals">true</meta>
        </property>
        <property name="protocol" column="protocol" type="string" length="12"/>
        <property name="responseCode" column="response_code" index="true" type="int" length="3"/>
        <property name="size" column="response_size" type="int"/>
        <joined-subclass name="com.agedwards.statistics.log.weblogic.ontrack.OnTrackAccessLogEntry" table="ontrack_access_log_entries">
           <key column="access_id"/>
           <property name="userId" column="user_id" type="string" size="16"/>
           <property name="fcNumber" column="fc_number" type="string" size="16"/>
           <property name="application" column="application" type="string" size="20"/>
           <property name="function" column="function" type="string" size="25"/>
           <property name="subfunction" column="subfunction" type="string" size="25"/>
        </joined-subclass>
      </joined-subclass>
   </class>
</hibernate-mapping>
