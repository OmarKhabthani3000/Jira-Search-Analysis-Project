### Eclipse Workspace Patch 1.0
#P org.hibernate.eclipse.console
Index: plugin.xml
===================================================================
RCS file: /cvsroot/jboss/jbosside/hibernatetools/plugins/org.hibernate.eclipse.console/plugin.xml,v
retrieving revision 1.59
diff -u -r1.59 plugin.xml
--- plugin.xml	22 Dec 2006 15:38:47 -0000	1.59
+++ plugin.xml	30 Jan 2007 13:33:03 -0000
@@ -198,19 +198,10 @@
        </actionSet>
         <actionSet 
             label="Hibernate Code Generation" 
-            visible="true" 
             id="org.hibernate.eclipse.launch.actionset"> 
-         <menu 
-               label="Hibernate Code Generation..." 
-               path="additions" 
-               id="org.hibernate.eclipse.launch.generate"> 
-            <separator 
-                  name="HibernateToolsGroup"> 
-            </separator> 
-         </menu> 
          <action 
                label="Hibernate Code Generation..." 
-               pulldown="true" 
+               style="pulldown" 
                icon="icons/images/hibernate_launch.png" 
                class="org.hibernate.eclipse.launch.LaunchMenuDelegate" 
                menubarPath="org.eclipse.ui.run/HibernateToolsGroup" 
@@ -218,7 +209,7 @@
          </action> 
          <action 
                label="Hibernate Code Generation..." 
-               pulldown="true" 
+               style="pulldown" 
                icon="icons/images/hibernate_launch.png" 
                tooltip="Generate code via Hibernate Tools" 
                class="org.hibernate.eclipse.launch.LaunchMenuDelegate" 
@@ -238,7 +229,7 @@
     <extension
       point="org.eclipse.ui.commands">
    <command
-         category="org.eclipse.ui.category.edit"
+         categoryId="org.eclipse.ui.category.edit"
          id="org.hibernate.eclipse.console.actions.ExecuteHQLActionCommand"
          name="Run Query command"/>
 </extension>
@@ -291,9 +282,20 @@
             class="org.hibernate.eclipse.criteriaeditor.CriteriaEditorInputFactory"> 
          </factory> 
    </extension>
+   <!-- Only Show Hibernate Launch Action Set in the following perspectives (as well as the Hibernate Console perspective-->
+   <extension
+         point="org.eclipse.ui.perspectiveExtensions">
+      <perspectiveExtension targetID="org.eclipse.jdt.ui.JavaPerspective">
+         <actionSet id="org.hibernate.eclipse.launch.actionset"/>
+      </perspectiveExtension>
+      <perspectiveExtension targetID="org.eclipse.jdt.ui.JavaBrowsingPerspective">
+         <actionSet id="org.hibernate.eclipse.launch.actionset"/>
+      </perspectiveExtension>
+   </extension>
    <extension
          point="org.eclipse.ui.perspectiveExtensions">
       <perspectiveExtension targetID="org.hibernate.eclipse.console.HibernateConsolePerspective">
+      	 <actionSet id="org.hibernate.eclipse.launch.actionset"/>
          <newWizardShortcut id="org.hibernate.eclipse.console.wizards.NewHibernateMappingFileWizard"/>
          <newWizardShortcut id="org.hibernate.eclipse.console.wizards.NewConfigurationWizard"/>
          <newWizardShortcut id="org.hibernate.eclipse.console.wizards.ConsoleConfigurationCreationWizard"/>
