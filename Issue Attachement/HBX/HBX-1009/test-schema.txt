CREATE DATABASE  `test`.`test` /*!40100 DEFAULT CHARACTER SET latin1 */

CREATE TABLE  `test`.`Make` (
  `name` varchar(20) NOT NULL,
  `country` varchar(20) default NULL,
  PRIMARY KEY  (`name`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1

CREATE TABLE  `test`.`Person` (
  `id` bigint(20) NOT NULL auto_increment,
  `name` varchar(100) NOT NULL,
  `address` text,
  `city` varchar(20) default NULL,
  `state` varchar(2) default NULL,
  `zip` varchar(5) default NULL,
  PRIMARY KEY  (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=latin1

CREATE TABLE  `test`.`ModelYear` (
  `make` varchar(20) NOT NULL,
  `model` varchar(30) NOT NULL,
  `year` int(4) NOT NULL,
  PRIMARY KEY  USING BTREE (`make`,`model`,`year`),
  KEY `FKFF9C5AE64B9C2C4A` (`make`),
  CONSTRAINT `FKFF9C5AE64B9C2C4A` FOREIGN KEY (`make`) REFERENCES `make` (`name`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1

CREATE TABLE  `test`.`Vehicle` (
  `state` varchar(2) NOT NULL,
  `registration` varchar(8) NOT NULL,
  `make` varchar(20) default NULL,
  `model` varchar(30) default NULL,
  `year` int(4) default NULL,
  `owner` bigint(20) default NULL,
  PRIMARY KEY  (`registration`),
  KEY `FK779C270C47606EA9` (`make`,`model`,`year`),
  KEY `FK779C270CF16A259C` (`owner`),
  CONSTRAINT `FK779C270CF16A259C` FOREIGN KEY (`owner`) REFERENCES `person` (`id`),
  CONSTRAINT `FK779C270C47606EA9` FOREIGN KEY (`make`, `model`, `year`) REFERENCES `modelyear` (`make`, `model`, `year`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1

CREATE TABLE  `test`.`Job` (
  `id` bigint(20) NOT NULL auto_increment,
  `hours` int(3) default NULL,
  `amount` float default NULL,
  `date` date default NULL,
  `vehicleRegistration` varchar(8) NOT NULL,
  `description` varchar(1000) default NULL,
  PRIMARY KEY  (`id`),
  KEY `FK1239DC3FAF1F8` (`vehicleRegistration`),
  CONSTRAINT `FK1239DC3FAF1F8` FOREIGN KEY (`vehicleRegistration`) REFERENCES `vehicle` (`registration`)
) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=latin1