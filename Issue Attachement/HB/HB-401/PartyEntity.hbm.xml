<?xml version="1.0"?>

<!DOCTYPE hibernate-mapping PUBLIC
    "-//Hibernate/Hibernate Mapping DTD 2.0//EN" 
    "http://hibernate.sourceforge.net/hibernate-mapping-2.0.dtd">

<hibernate-mapping>
    <class
        name="si.marand.maf.server.jastreb.party.module.entity.PartyEntity"
        table="Party"
        dynamic-update="false"
        dynamic-insert="false"
    >

        <jcs-cache usage="read-write" />

        <id
            name="id"
            column="Party_ID"
            type="java.lang.Long"
        >
            <generator class="si.marand.maf.server.common.persistent.hibernate.id.SequenceHiLoGenerator">
                <param name="sequence">Party_ID</param>
            </generator>
        </id>

        <version
            name="mafVersion"
            type="java.lang.Long"
            column="MAF_Version"
        />

        <property
            name="code"
            type="java.lang.String"
            update="true"
            insert="true"
            column="Code"
        />

        <property
            name="partyIdentNo"
            type="java.lang.String"
            update="true"
            insert="true"
            column="Party_Ident_No"
        />

        <property
            name="taxNo"
            type="java.lang.Integer"
            update="true"
            insert="true"
            column="Tax_No"
        />

        <property
            name="note"
            type="java.lang.String"
            update="true"
            insert="true"
            column="Note"
        />

        <many-to-one
            name="partyType"
            class="si.marand.maf.server.jastreb.party.module.entity.PartyTypeEntity"
            cascade="none"
            outer-join="auto"
            update="true"
            insert="true"
            column="Party_Type_ID"
        />

        <many-to-one
            name="communicationLanguage"
            class="si.marand.maf.server.jastreb.party.module.entity.LanguageEntity"
            cascade="none"
            outer-join="auto"
            update="true"
            insert="true"
            column="Communication_Language_ID"
        />

        <many-to-one
            name="addressLayoutImpl"
            class="si.marand.maf.server.jastreb.address.module.entity.AddressLayoutImplEntity"
            cascade="none"
            outer-join="auto"
            update="true"
            insert="true"
            column="Address_Layout_Impl_ID"
        />

        <set
            name="fromPartyRoleTimelineSet"
            lazy="true"
            inverse="true"
            cascade="all"
            sort="natural"
        >
            <jcs-cache 
                usage="read-write" 
             />

              <key
                  column="From_Party_ID"
              />

              <one-to-many
                  class="si.marand.maf.server.jastreb.party.module.entity.PartyRoleTimelineEntity"
              />
        </set>

        <set
            name="partyAddressSet"
            lazy="true"
            inverse="true"
            cascade="all"
            sort="natural"
        >
            <jcs-cache 
                usage="read-write" 
             />

              <key
                  column="Party_ID"
              />

              <one-to-many
                  class="si.marand.maf.server.jastreb.party.module.entity.PartyAddressEntity"
              />
        </set>

        <set
            name="partyCommunicationSet"
            lazy="true"
            inverse="true"
            cascade="all"
            sort="natural"
        >
            <jcs-cache 
                usage="read-write" 
             />

              <key
                  column="Party_ID"
              />

              <one-to-many
                  class="si.marand.maf.server.jastreb.party.module.entity.PartyCommunicationEntity"
              />
        </set>

        <set
            name="partyStatusTimelineSet"
            lazy="true"
            inverse="true"
            cascade="all"
            sort="natural"
        >
            <jcs-cache 
                usage="read-write" 
             />

              <key
                  column="Party_ID"
              />

              <one-to-many
                  class="si.marand.maf.server.jastreb.party.module.entity.PartyStatusTimelineEntity"
              />
        </set>

        <set
            name="bankAccountSet"
            lazy="true"
            inverse="true"
            cascade="all"
            sort="natural"
        >
            <jcs-cache 
                usage="read-write" 
             />

              <key
                  column="Party_ID"
              />

              <one-to-many
                  class="si.marand.maf.server.jastreb.party.module.entity.BankAccountEntity"
              />
        </set>

        <set
            name="partyCrossReferenceSet"
            lazy="true"
            inverse="true"
            cascade="all"
            sort="natural"
        >
            <jcs-cache 
                usage="read-write" 
             />

              <key
                  column="Entity_ID"
              />

              <one-to-many
                  class="si.marand.maf.server.jastreb.party.module.entity.PartyCrossReferenceEntity"
              />
        </set>

        <property
            name="mafDeleted"
            type="java.lang.Long"
            update="true"
            insert="true"
            column="MAF_Deleted"
        />

        <property
            name="auditInfo"
            type="si.marand.maf.server.common.persistent.hibernate.type.AuditInfoType"
            update="true"
            insert="true"
        >
            <column
                name="MAF_Creator_ID"
            />
            <column
                name="MAF_Create_Timestamp"
            />
            <column
                name="MAF_Editor_ID"
            />
            <column
                name="MAF_Edit_Timestamp"
            />
        </property>

        <!--
            To add non XDoclet property mappings, create a file named
                hibernate-properties-PartyEntity.xml
            containing the additional properties and place it in your merge dir.
        -->

        <joined-subclass
            name="si.marand.maf.server.jastreb.party.module.entity.PersonEntity"
            table="Person"
            dynamic-update="false"
            dynamic-insert="false"
            proxy="si.marand.maf.server.jastreb.party.module.entity.PersonEntity"
        >
        <key
            column="Person_ID"
        />
        <property
            name="firstName"
            type="java.lang.String"
            update="true"
            insert="true"
            column="First_Name"
        />

        <property
            name="middleNames"
            type="java.lang.String"
            update="true"
            insert="true"
            column="Middle_Names"
        />

        <property
            name="lastName"
            type="java.lang.String"
            update="true"
            insert="true"
            column="Last_Name"
        />

        <property
            name="birthName"
            type="java.lang.String"
            update="true"
            insert="true"
            column="Birth_Name"
        />

        <property
            name="initials"
            type="java.lang.String"
            update="true"
            insert="true"
            column="Initials"
        />

        <property
            name="gender"
            type="java.lang.String"
            update="true"
            insert="true"
            column="Gender"
        />

        <property
            name="birthDate"
            type="si.marand.maf.server.common.persistent.hibernate.type.TimestampType"
            update="true"
            insert="true"
            column="Birth_Date"
        />

        <property
            name="additionalPrefix"
            type="java.lang.String"
            update="true"
            insert="true"
            column="Additional_Prefix"
        />

        <property
            name="additionalSuffix"
            type="java.lang.String"
            update="true"
            insert="true"
            column="Additional_Suffix"
        />

        <many-to-one
            name="occupation"
            class="si.marand.maf.server.jastreb.party.module.entity.OccupationEntity"
            cascade="none"
            outer-join="auto"
            update="true"
            insert="true"
            column="Occupation_ID"
        />

        <many-to-one
            name="citizenship"
            class="si.marand.maf.server.jastreb.address.module.entity.CountryEntity"
            cascade="none"
            outer-join="auto"
            update="true"
            insert="true"
            column="Citizenship_ID"
        />

        <many-to-one
            name="countryOfResidence"
            class="si.marand.maf.server.jastreb.address.module.entity.CountryEntity"
            cascade="none"
            outer-join="auto"
            update="true"
            insert="true"
            column="Country_Of_Residence_ID"
        />

        <many-to-one
            name="titlePrefix1"
            class="si.marand.maf.server.jastreb.party.module.entity.TitleEntity"
            cascade="none"
            outer-join="auto"
            update="true"
            insert="true"
            column="Title_Prefix1_ID"
        />

        <many-to-one
            name="titlePrefix2"
            class="si.marand.maf.server.jastreb.party.module.entity.TitleEntity"
            cascade="none"
            outer-join="auto"
            update="true"
            insert="true"
            column="Title_Prefix2_ID"
        />

        <many-to-one
            name="titleSuffix1"
            class="si.marand.maf.server.jastreb.party.module.entity.TitleEntity"
            cascade="none"
            outer-join="auto"
            update="true"
            insert="true"
            column="Title_Suffix1_ID"
        />

        <many-to-one
            name="titleSuffix2"
            class="si.marand.maf.server.jastreb.party.module.entity.TitleEntity"
            cascade="none"
            outer-join="auto"
            update="true"
            insert="true"
            column="Title_Suffix2_ID"
        />

        </joined-subclass>
        <joined-subclass
            name="si.marand.maf.server.jastreb.party.module.entity.OrganizationEntity"
            table="Organization"
            dynamic-update="false"
            dynamic-insert="false"
        >
        <key
            column="Organization_ID"
        />
        <property
            name="shortName1"
            type="java.lang.String"
            update="true"
            insert="true"
            column="Short_Name_1"
        />

        <property
            name="shortName2"
            type="java.lang.String"
            update="true"
            insert="true"
            column="Short_Name_2"
        />

        <property
            name="name"
            type="java.lang.String"
            update="true"
            insert="true"
            column="Name"
        />

        <property
            name="businessFromTime"
            type="si.marand.maf.server.common.persistent.hibernate.type.TimeType"
            update="true"
            insert="true"
            column="Business_From_Time"
        />

        <property
            name="businessToTime"
            type="si.marand.maf.server.common.persistent.hibernate.type.TimeType"
            update="true"
            insert="true"
            column="Business_To_Time"
        />

        <many-to-one
            name="countryOfRegistration"
            class="si.marand.maf.server.jastreb.address.module.entity.CountryEntity"
            cascade="none"
            outer-join="auto"
            update="true"
            insert="true"
            column="Country_Of_Registration_ID"
        />

        <many-to-one
            name="economicActivity"
            class="si.marand.maf.server.jastreb.party.module.entity.EconomicActivityEntity"
            cascade="none"
            outer-join="auto"
            update="true"
            insert="true"
            column="Economic_Activity_ID"
        />

        <joined-subclass
            name="si.marand.maf.server.jastreb.party.module.entity.BankEntity"
            table="Bank"
            dynamic-update="false"
            dynamic-insert="false"
            proxy="si.marand.maf.server.jastreb.party.module.entity.BankEntity"
        >
        <key
            column="Bank_ID"
        />
        <property
            name="bankOrderFormat"
            type="java.lang.String"
            update="true"
            insert="true"
            column="Bank_Order_Format"
        />

        </joined-subclass>

        </joined-subclass>
        <joined-subclass
            name="si.marand.maf.server.jastreb.party.module.entity.PartyGroupEntity"
            table="Party_Group"
            dynamic-update="false"
            dynamic-insert="false"
            proxy="si.marand.maf.server.jastreb.party.module.entity.PartyGroupEntity"
        >
        <key
            column="Party_Group_ID"
        />
        <property
            name="name"
            type="java.lang.String"
            update="true"
            insert="true"
            column="Name"
        />

        <set
            name="membershipSet"
            lazy="true"
            inverse="true"
            cascade="all"
            sort="natural"
        >
            <jcs-cache 
                usage="read-write" 
             />

              <key
                  column="Group_ID"
              />

              <one-to-many
                  class="si.marand.maf.server.jastreb.party.module.entity.GroupMembershipEntity"
              />
        </set>

        </joined-subclass>

    </class>

</hibernate-mapping>
