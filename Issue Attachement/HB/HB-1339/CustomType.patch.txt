--- hibernate-2.1.6/src/net/sf/hibernate/type/CustomType.java	2004-08-08 23:38:22.000000000 +0100
+++ hibernate-2.1/src/net/sf/hibernate/type/CustomType.java	2004-12-02 11:41:38.520843700 +0000
@@ -2,6 +2,8 @@
 package net.sf.hibernate.type;
 
 import java.io.Serializable;
+import java.lang.reflect.Constructor;
+import java.lang.reflect.InvocationTargetException;
 import java.sql.PreparedStatement;
 import java.sql.ResultSet;
 import java.sql.SQLException;
@@ -14,6 +16,7 @@
 import net.sf.hibernate.engine.Mapping;
 import net.sf.hibernate.engine.SessionFactoryImplementor;
 import net.sf.hibernate.engine.SessionImplementor;
+import net.sf.hibernate.util.ReflectHelper;
 
 /**
  * Adapts <tt>UserType</tt> to the generic <tt>Type</tt> interface.
@@ -32,11 +35,15 @@
 		name = userTypeClass.getName();
 
 		try {
-			userType = (UserType) userTypeClass.newInstance();
+		    Constructor cons = ReflectHelper.getDefaultConstructor(userTypeClass);
+		    userType = (UserType) cons.newInstance(null);
 		}
 		catch (InstantiationException ie) {
 			throw new MappingException( "Cannot instantiate custom type: " + userTypeClass.getName() );
 		}
+		catch (InvocationTargetException ite) {
+		    throw new MappingException( "Cannot instantiate custom type: " + userTypeClass.getName() );
+		}
 		catch (IllegalAccessException iae) {
 			throw new MappingException( "IllegalAccessException trying to instantiate custom type: " + userTypeClass.getName() );
 		}
