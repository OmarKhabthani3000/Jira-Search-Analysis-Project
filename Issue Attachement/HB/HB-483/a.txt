starting...
[INFO] Environment - -Hibernate 2.1 beta 5
[INFO] Environment - -loaded properties from resource hibernate.properties: {hibernate.connection.driver_class=org.postgresql.Driver, hibernate.cglib.use_reflection_optimizer=true, hibernate.cache.provider_class=net.sf.hibernate.cache.HashtableCacheProvider, hibernate.cache.use_query_cache=true, hibernate.dialect=net.sf.hibernate.dialect.PostgreSQLDialect, hibernate.jdbc.use_streams_for_binary=true, hibernate.jdbc.batch_size=0, hibernate.query.substitutions=yes 'Y', no 'N', hibernate.query.imports=net.sf.hibernate.test, net.sf.hibernate.eg, hibernate.proxool.pool_alias=pool1, hibernate.connection.username=loren, hibernate.connection.url=jdbc:postgresql://127.0.0.1/template1, hibernate.show_sql=true, hibernate.connection.password=, hibernate.statement_cache.size=25, hibernate.connection.pool_size=1}
[INFO] Environment - -using java.io streams to persist binary types
[INFO] Environment - -using CGLIB reflection optimizer
[INFO] Environment - -JVM does not support LinkedHasMap, LinkedHashSet - ordered maps and sets disabled
[INFO] Environment - -using workaround for JVM bug in java.sql.Timestamp
[INFO] Configuration - -Mapping resource: com/loren/Document.hbm.xml
[DEBUG] DTDEntityResolver - -trying to locate http://hibernate.sourceforge.net/hibernate-mapping-2.0.dtd in classpath under net/sf/hibernate/
[DEBUG] DTDEntityResolver - -found http://hibernate.sourceforge.net/hibernate-mapping-2.0.dtd in classpath
[INFO] Binder - -Mapping class: com.loren.Document -> document
[DEBUG] Binder - -cache for: com.loren.Document usage strategy: read-only
[WARN] Binder - -read-only cache configured for mutable: com.loren.Document
[DEBUG] Binder - -Mapped property: id -> id, type: long
[DEBUG] Binder - -Mapped property: title -> title, type: string
[DEBUG] Binder - -Mapped property: subtitle -> subtitle, type: string
[DEBUG] Binder - -Mapped property: documentAuthors, type: java.util.SortedMap
[INFO] Binder - -Mapping collection: com.loren.Document.keywords -> document_keyword
[DEBUG] Binder - -Mapped property: keywords, type: java.util.Set
[DEBUG] Binder - -Mapped property: documentPublications, type: java.util.Set
[DEBUG] Binder - -Mapped property: description -> description, type: string
[DEBUG] Binder - -Mapped property: kind -> kind, type: com.loren.DocumentKind
[DEBUG] Binder - -Mapped property: comments, type: java.util.Set
[INFO] Configuration - -Mapping resource: com/loren/Author.hbm.xml
[DEBUG] DTDEntityResolver - -trying to locate http://hibernate.sourceforge.net/hibernate-mapping-2.0.dtd in classpath under net/sf/hibernate/
[DEBUG] DTDEntityResolver - -found http://hibernate.sourceforge.net/hibernate-mapping-2.0.dtd in classpath
[INFO] Binder - -Mapping class: com.loren.Author -> author
[DEBUG] Binder - -cache for: com.loren.Author usage strategy: read-only
[WARN] Binder - -read-only cache configured for mutable: com.loren.Author
[DEBUG] Binder - -Mapped property: id -> id, type: long
[DEBUG] Binder - -Mapped property: firstName -> firstName, type: string
[DEBUG] Binder - -Mapped property: preLast -> preLast, type: string
[DEBUG] Binder - -Mapped property: lastName -> lastName, type: string
[DEBUG] Binder - -Mapped property: lineage -> lineage, type: string
[DEBUG] Binder - -Mapped property: documentAuthors, type: java.util.Set
[INFO] Configuration - -Mapping resource: com/loren/Publisher.hbm.xml
[DEBUG] DTDEntityResolver - -trying to locate http://hibernate.sourceforge.net/hibernate-mapping-2.0.dtd in classpath under net/sf/hibernate/
[DEBUG] DTDEntityResolver - -found http://hibernate.sourceforge.net/hibernate-mapping-2.0.dtd in classpath
[INFO] Binder - -Mapping class: com.loren.Publisher -> publisher
[DEBUG] Binder - -Mapped property: id -> id, type: long
[DEBUG] Binder - -Mapped property: name -> name, type: string
[INFO] Configuration - -Mapping resource: com/loren/Publication.hbm.xml
[DEBUG] DTDEntityResolver - -trying to locate http://hibernate.sourceforge.net/hibernate-mapping-2.0.dtd in classpath under net/sf/hibernate/
[DEBUG] DTDEntityResolver - -found http://hibernate.sourceforge.net/hibernate-mapping-2.0.dtd in classpath
[INFO] Binder - -Mapping class: com.loren.Publication -> publication
[DEBUG] Binder - -Mapped property: id -> id, type: long
[DEBUG] Binder - -Mapped property: name -> name, type: string
[INFO] Configuration - -Mapping resource: com/loren/DocumentPublication.hbm.xml
[DEBUG] DTDEntityResolver - -trying to locate http://hibernate.sourceforge.net/hibernate-mapping-2.0.dtd in classpath under net/sf/hibernate/
[DEBUG] DTDEntityResolver - -found http://hibernate.sourceforge.net/hibernate-mapping-2.0.dtd in classpath
[INFO] Binder - -Mapping class: com.loren.DocumentPublication -> document_publication
[DEBUG] Binder - -cache for: com.loren.DocumentPublication usage strategy: read-only
[WARN] Binder - -read-only cache configured for mutable: com.loren.DocumentPublication
[DEBUG] Binder - -Mapped property: id -> id, type: long
[DEBUG] Binder - -Mapped property: volume -> volume, type: string
[DEBUG] Binder - -Mapped property: number -> number, type: string
[DEBUG] Binder - -Mapped property: pages -> pages, type: string
[DEBUG] Binder - -Mapped property: year -> year, type: string
[DEBUG] Binder - -Mapped property: publication -> publication, type: com.loren.Publication
[DEBUG] Binder - -Mapped property: document -> document, type: com.loren.Document
[INFO] Configuration - -Mapping resource: com/loren/DocumentAuthor.hbm.xml
[DEBUG] DTDEntityResolver - -trying to locate http://hibernate.sourceforge.net/hibernate-mapping-2.0.dtd in classpath under net/sf/hibernate/
[DEBUG] DTDEntityResolver - -found http://hibernate.sourceforge.net/hibernate-mapping-2.0.dtd in classpath
[INFO] Binder - -Mapping class: com.loren.DocumentAuthor -> document_author
[DEBUG] Binder - -cache for: com.loren.DocumentAuthor usage strategy: read-only
[WARN] Binder - -read-only cache configured for mutable: com.loren.DocumentAuthor
[DEBUG] Binder - -Mapped property: id -> id, type: long
[DEBUG] Binder - -Mapped property: place -> place, type: integer
[DEBUG] Binder - -Mapped property: document -> document, type: com.loren.Document
[DEBUG] Binder - -Mapped property: author -> author, type: com.loren.Author
[INFO] Configuration - -Mapping resource: com/loren/Keyword.hbm.xml
[DEBUG] DTDEntityResolver - -trying to locate http://hibernate.sourceforge.net/hibernate-mapping-2.0.dtd in classpath under net/sf/hibernate/
[DEBUG] DTDEntityResolver - -found http://hibernate.sourceforge.net/hibernate-mapping-2.0.dtd in classpath
[INFO] Binder - -Mapping class: com.loren.Keyword -> keyword
[DEBUG] Binder - -cache for: com.loren.Keyword usage strategy: read-write
[DEBUG] Binder - -Mapped property: id -> id, type: long
[DEBUG] Binder - -Mapped property: keyword -> keyword, type: string
[INFO] Binder - -Mapping collection: com.loren.Keyword.documents -> document_keyword
[DEBUG] Binder - -Mapped property: documents, type: java.util.Set
[INFO] Configuration - -Mapping resource: com/loren/Comment.hbm.xml
[DEBUG] DTDEntityResolver - -trying to locate http://hibernate.sourceforge.net/hibernate-mapping-2.0.dtd in classpath under net/sf/hibernate/
[DEBUG] DTDEntityResolver - -found http://hibernate.sourceforge.net/hibernate-mapping-2.0.dtd in classpath
[INFO] Binder - -Mapping class: com.loren.Comment -> comment
[DEBUG] Binder - -cache for: com.loren.Comment usage strategy: read-only
[WARN] Binder - -read-only cache configured for mutable: com.loren.Comment
[DEBUG] Binder - -Mapped property: id -> id, type: long
[DEBUG] Binder - -Mapped property: contents -> contents, type: string
[INFO] Configuration - -processing one-to-many association mappings
[DEBUG] Binder - -Second pass for collection: com.loren.Document.documentAuthors
[INFO] Binder - -Mapping collection: com.loren.Document.documentAuthors -> document_author
[DEBUG] Binder - -Mapped collection key: document, index: place, one-to-many: com.loren.DocumentAuthor
[DEBUG] Binder - -Second pass for collection: com.loren.Document.keywords
[DEBUG] Binder - -Mapped collection key: document_id, element: keyword_id, type: com.loren.Keyword
[DEBUG] Binder - -Second pass for collection: com.loren.Document.documentPublications
[INFO] Binder - -Mapping collection: com.loren.Document.documentPublications -> document_publication
[DEBUG] Binder - -Mapped collection key: document, one-to-many: com.loren.DocumentPublication
[DEBUG] Binder - -Second pass for collection: com.loren.Document.comments
[INFO] Binder - -Mapping collection: com.loren.Document.comments -> comment
[DEBUG] Binder - -Mapped collection key: doc_id, one-to-many: com.loren.Comment
[DEBUG] Binder - -Second pass for collection: com.loren.Author.documentAuthors
[INFO] Binder - -Mapping collection: com.loren.Author.documentAuthors -> document_author
[DEBUG] Binder - -Mapped collection key: author, one-to-many: com.loren.DocumentAuthor
[DEBUG] Binder - -Second pass for collection: com.loren.Keyword.documents
[DEBUG] Binder - -Mapped collection key: keyword_id, element: document_id, type: com.loren.Document
[INFO] Configuration - -processing one-to-one association property references
[INFO] Configuration - -processing foreign key constraints
[DEBUG] Configuration - -resolving reference to class: com.loren.Publication
[DEBUG] Configuration - -resolving reference to class: com.loren.Document
[DEBUG] Configuration - -resolving reference to class: com.loren.Document
[DEBUG] Configuration - -resolving reference to class: com.loren.Document
[DEBUG] Configuration - -resolving reference to class: com.loren.Keyword
[DEBUG] Configuration - -resolving reference to class: com.loren.Author
[DEBUG] Configuration - -resolving reference to class: com.loren.Document
[INFO] Dialect - -Using dialect: net.sf.hibernate.dialect.PostgreSQLDialect
[INFO] SettingsFactory - -Use outer join fetching: true
[INFO] DriverManagerConnectionProvider - -Using Hibernate built-in connection pool (not for production use!)
[INFO] DriverManagerConnectionProvider - -Hibernate connection pool size: 1
[INFO] DriverManagerConnectionProvider - -using driver: org.postgresql.Driver at URL: jdbc:postgresql://127.0.0.1/template1
[INFO] DriverManagerConnectionProvider - -connection properties: {user=loren, password=}
[INFO] TransactionManagerLookupFactory - -No TransactionManagerLookup configured (in JTA environment, use of process level read-write cache is not recommended)
[DEBUG] DriverManagerConnectionProvider - -opening new JDBC connection
[DEBUG] DriverManagerConnectionProvider - -created connection to: jdbc:postgresql://127.0.0.1/template1, Isolation Level: 2
[INFO] SettingsFactory - -Use scrollable result sets: true
[INFO] SettingsFactory - -echoing all SQL to stdout
[INFO] SettingsFactory - -Query language substitutions: {no='N', yes='Y'}
[INFO] SettingsFactory - -cache provider: net.sf.hibernate.cache.HashtableCacheProvider
[INFO] Configuration - -instantiating and configuring caches
[INFO] SessionFactoryImpl - -building session factory
[DEBUG] SessionFactoryImpl - -instantiating session factory with properties: {java.runtime.name=Java(TM) 2 Runtime Environment, Standard Edition, hibernate.connection.password=, hibernate.cache.provider_class=net.sf.hibernate.cache.HashtableCacheProvider, sun.boot.library.path=/System/Library/Frameworks/JavaVM.framework/Versions/1.3.1/Libraries, java.vm.version=1.3.1, hibernate.proxool.pool_alias=pool1, hibernate.connection.username=loren, gopherProxySet=false, java.vm.vendor=Apple Computer, Inc., java.vendor.url=http://apple.com/, path.separator=:, hibernate.cache.use_query_cache=true, java.vm.name=Java HotSpot(TM) Client VM, file.encoding.pkg=sun.io, java.vm.specification.name=Java Virtual Machine Specification, user.dir=/Users/loren/programming/book, java.runtime.version=1.3.1-root-020219-20:07, java.awt.graphicsenv=sun.awt.MacGraphicsEnvironment, os.arch=ppc, java.io.tmpdir=/tmp, line.separator=
, java.vm.specification.vendor=Sun Microsystems Inc., java.awt.fonts=, os.name=Mac OS X, org.apache.commons.logging.simplelog.defaultlog=debug, java.library.path=.:/usr/lib:/usr/lib/java:/lib:/System/Library/Frameworks/JavaVM.framework/Versions/1.3.1/Libraries, java.specification.name=Java Platform API Specification, java.class.version=47.0, hibernate.connection.pool_size=1, os.version=10.1.5, user.home=/Users/loren, user.timezone=, java.awt.printerjob=com.apple.mrj.internal.awt.printing.MacPrinterJob, file.encoding=MacRoman, java.specification.version=1.3, hibernate.connection.driver_class=org.postgresql.Driver, java.class.path=./src:/sw/jakarta-log4j-1.1.3/dist/lib/log4j.jar:/usr/local/pgsql/share/java/postgresql.jar:/sw/hibernate-2.1/lib/commons-logging.jar:/sw/hibernate-2.1/lib/commons-collections.jar:/sw/hibernate-2.1/lib/commons-lang.jar:/sw/hibernate-2.1/lib/commons-beanutils.jar:/sw/hibernate-2.1/lib/cglib.jar:/sw/hibernate-2.1/lib/cglib-asm.jar:/sw/hibernate-2.1/lib/bcel.jar:/sw/hibernate-2.1/lib/odmg.jar:/sw/hibernate-2.1/lib/jdom.jar:/sw/hibernate-2.1/lib/dom4j.jar:/sw/hibernate-2.1/lib/xml-apis.jar:/sw/hibernate-2.1/lib/xerces.jar:/sw/hibernate-2.1/lib/xalan.jar:/sw/hibernate-2.1/lib/jcs.jar:/sw/hibernate-2.1/lib/jta.jar:./lib/hibernate2.jar:./dist/book2.jar, user.name=loren, hibernate.query.substitutions=yes 'Y', no 'N', hibernate.show_sql=true, java.vm.specification.version=1.0, java.home=/System/Library/Frameworks/JavaVM.framework/Versions/1.3.1/Home, hibernate.dialect=net.sf.hibernate.dialect.PostgreSQLDialect, hibernate.connection.url=jdbc:postgresql://127.0.0.1/template1, user.language=en, java.specification.vendor=Sun Microsystems Inc., awt.toolkit=com.apple.mrj.internal.awt.publicpeers.VToolkit, hibernate.cglib.use_reflection_optimizer=true, java.vm.info=mixed mode, hibernate.jdbc.use_streams_for_binary=true, java.version=1.3.1, java.ext.dirs=/Library/Java/Extensions:/System/Library/Java/Extensions:/System/Library/Frameworks/JavaVM.framework/Versions/1.3.1/Home/lib/ext, sun.boot.class.path=/System/Library/Frameworks/JavaVM.framework/Versions/1.3.1/Classes/classes.jar:/System/Library/Frameworks/JavaVM.framework/Versions/1.3.1/Classes/ui.jar:/System/Library/Frameworks/JavaVM.framework/Versions/1.3.1/Classes/i18n.jar:/System/Library/Frameworks/JavaVM.framework/Versions/1.3.1/Classes/sunrsasign.jar, java.vendor=Apple Computer, Inc., hibernate.jdbc.batch_size=0, file.separator=/, hibernate.query.imports=net.sf.hibernate.test, net.sf.hibernate.eg, java.vendor.url.bug=http://developer.apple.com/java/, hibernate.statement_cache.size=25, sun.io.unicode.encoding=UnicodeBig, sun.cpu.endian=big, mrj.version=3.2, user.region=US, sun.cpu.isalist=}
[INFO] ReflectHelper - -reflection optimizer disabled for: com.loren.Publication, IllegalArgumentException: setName
[DEBUG] SessionFactoryObjectFactory - -initializing class SessionFactoryObjectFactory
[DEBUG] SessionFactoryObjectFactory - -registered: 402881f7f8ff3b6800f8ff3b74860000 (unnamed)
[INFO] SessionFactoryObjectFactory - -no JNDI name configured
[DEBUG] SessionFactoryImpl - -instantiated session factory
[INFO] UpdateTimestampsCache - -starting update timestamps cache at region: net.sf.hibernate.cache.UpdateTimestampsCache
[INFO] QueryCache - -starting query cache at region: net.sf.hibernate.cache.QueryCache
-----run query iteration 1 --------------
[DEBUG] SessionImpl - -opened session at timestamp 4380401565691904
****started session with timestamp A
[DEBUG] JDBCTransaction - -begin
[DEBUG] SessionImpl - -Flushed: 0 insertions, 0 updates, 0 deletions to 0 objects
[DEBUG] SessionImpl - -Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
[DEBUG] QueryCache - -checking cached query results in region: net.sf.hibernate.cache.QueryCache
[DEBUG] QueryCache - -query results were not found in cache
[DEBUG] QueryTranslator - -HQL: select from com.loren.Document doc where doc.id=:docId
[DEBUG] QueryTranslator - -SQL: select document0_.id as id, document0_.title as title, document0_.subtitle as subtitle, document0_.description as descript4_, document0_.kind as kind from document document0_ where (document0_.id=? )
[DEBUG] BatcherImpl - -prepared statement get: select document0_.id as id, document0_.title as title, document0_.subtitle as subtitle, document0_.description as descript4_, document0_.kind as kind from document document0_ where (document0_.id=? )
Hibernate: select document0_.id as id, document0_.title as title, document0_.subtitle as subtitle, document0_.description as descript4_, document0_.kind as kind from document document0_ where (document0_.id=? )
[DEBUG] Loader - -result row: 79
[DEBUG] SessionImpl - -resolving associations for [com.loren.Document#79]
[DEBUG] SessionImpl - -collection not cached
[DEBUG] SessionImpl - -collection not cached
[DEBUG] SessionImpl - -collection not cached
[DEBUG] SessionImpl - -collection not cached
[DEBUG] SessionImpl - -adding entity to process-level cache [com.loren.Document#79]
[DEBUG] ReadOnlyCache - -Caching: 79
[DEBUG] SessionImpl - -done materializing entity [com.loren.Document#79]
[DEBUG] SessionImpl - -initializing non-lazy collections
[DEBUG] QueryCache - -caching query results in region: net.sf.hibernate.cache.QueryCache
[DEBUG] QueryCache - -encaching query with timestamp 4380401565691904 for region net.sf.hibernate.cache.QueryCache
****iteration 1: encache the query with timestamp alpha
****note update timestamp is neither checked nor set
[DEBUG] JDBCTransaction - -commit
[DEBUG] SessionImpl - -Collection found: [com.loren.Document.documentAuthors#79], was: [com.loren.Document.documentAuthors#79]
[DEBUG] SessionImpl - -Collection found: [com.loren.Document.keywords#79], was: [com.loren.Document.keywords#79]
[DEBUG] SessionImpl - -Collection found: [com.loren.Document.documentPublications#79], was: [com.loren.Document.documentPublications#79]
[DEBUG] SessionImpl - -Collection found: [com.loren.Document.comments#79], was: [com.loren.Document.comments#79]
[DEBUG] SessionImpl - -Flushed: 0 insertions, 0 updates, 0 deletions to 1 objects
[DEBUG] SessionImpl - -Flushed: 0 (re)creations, 0 updates, 0 removals to 4 collections
[DEBUG] Printer - -listing entities:
[DEBUG] Printer - -com.loren.Document{id=79, kind=null, documentPublications=uninitialized, documentAuthors=uninitialized, keywords=uninitialized, comments=uninitialized, title=Fortifications and Military Tactics: Fulk Nerra's strongholds circa 1000, subtitle=null, description=null}
[DEBUG] SessionImpl - -disconnecting session
-----run query iteration 2 --------------
[DEBUG] SessionImpl - -opened session at timestamp 4380401569611776
****started session with timestamp B
[DEBUG] JDBCTransaction - -begin
[DEBUG] SessionImpl - -Flushed: 0 insertions, 0 updates, 0 deletions to 0 objects
[DEBUG] SessionImpl - -Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
[DEBUG] QueryCache - -checking cached query results in region: net.sf.hibernate.cache.QueryCache
[DEBUG] QueryCache - -retrieving query with timestamp 4380401565691904
****retrieved the query with timestamp alpha
[DEBUG] UpdateTimestampsCache - -isUpToDate: checking timestamp 4380401565691904
[DEBUG] UpdateTimestampsCache - -isUpToDate: checking retrieved timestamp null for space document
[DEBUG] UpdateTimestampsCache - -isUpToDate: adding update timestamp 4380401569632256
****no update timestamp found, so add one and return false
****added update timestamp beta
[DEBUG] UpdateTimestampsCache - -isUpToDate returning false
[DEBUG] QueryCache - -cached query results were not up to date
[DEBUG] QueryTranslator - -HQL: select from com.loren.Document doc where doc.id=:docId
[DEBUG] QueryTranslator - -SQL: select document0_.id as id, document0_.title as title, document0_.subtitle as subtitle, document0_.description as descript4_, document0_.kind as kind from document document0_ where (document0_.id=? )
[DEBUG] BatcherImpl - -prepared statement get: select document0_.id as id, document0_.title as title, document0_.subtitle as subtitle, document0_.description as descript4_, document0_.kind as kind from document document0_ where (document0_.id=? )
Hibernate: select document0_.id as id, document0_.title as title, document0_.subtitle as subtitle, document0_.description as descript4_, document0_.kind as kind from document document0_ where (document0_.id=? )
[DEBUG] Loader - -result row: 79
[DEBUG] SessionImpl - -resolving associations for [com.loren.Document#79]
[DEBUG] SessionImpl - -collection not cached
[DEBUG] SessionImpl - -collection not cached
[DEBUG] SessionImpl - -collection not cached
[DEBUG] SessionImpl - -collection not cached
[DEBUG] SessionImpl - -adding entity to process-level cache [com.loren.Document#79]
[DEBUG] ReadOnlyCache - -Caching: 79
[DEBUG] SessionImpl - -done materializing entity [com.loren.Document#79]
[DEBUG] SessionImpl - -initializing non-lazy collections
[DEBUG] QueryCache - -caching query results in region: net.sf.hibernate.cache.QueryCache
[DEBUG] QueryCache - -encaching query with timestamp 4380401569611776 for region net.sf.hibernate.cache.QueryCache
****encache the query with timestamp B
****note that B comes from the session, which was started before the last update timestamp beta was created
[DEBUG] JDBCTransaction - -commit
[DEBUG] SessionImpl - -Collection found: [com.loren.Document.documentAuthors#79], was: [com.loren.Document.documentAuthors#79]
[DEBUG] SessionImpl - -Collection found: [com.loren.Document.keywords#79], was: [com.loren.Document.keywords#79]
[DEBUG] SessionImpl - -Collection found: [com.loren.Document.documentPublications#79], was: [com.loren.Document.documentPublications#79]
[DEBUG] SessionImpl - -Collection found: [com.loren.Document.comments#79], was: [com.loren.Document.comments#79]
[DEBUG] SessionImpl - -Flushed: 0 insertions, 0 updates, 0 deletions to 1 objects
[DEBUG] SessionImpl - -Flushed: 0 (re)creations, 0 updates, 0 removals to 4 collections
[DEBUG] Printer - -listing entities:
[DEBUG] Printer - -com.loren.Document{id=79, kind=null, documentPublications=uninitialized, documentAuthors=uninitialized, keywords=uninitialized, comments=uninitialized, title=Fortifications and Military Tactics: Fulk Nerra's strongholds circa 1000, subtitle=null, description=null}
[DEBUG] SessionImpl - -disconnecting session
-----run query iteration 3 --------------
[DEBUG] SessionImpl - -opened session at timestamp 4380401569792000
****started session with timestamp C
[DEBUG] JDBCTransaction - -begin
[DEBUG] SessionImpl - -Flushed: 0 insertions, 0 updates, 0 deletions to 0 objects
[DEBUG] SessionImpl - -Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
[DEBUG] QueryCache - -checking cached query results in region: net.sf.hibernate.cache.QueryCache
[DEBUG] QueryCache - -retrieving query with timestamp 4380401569611776
****retrieved query with timestamp B
[DEBUG] UpdateTimestampsCache - -isUpToDate: checking timestamp 4380401569611776
[DEBUG] UpdateTimestampsCache - -isUpToDate: checking retrieved timestamp 4380401569632256 for space document
[DEBUG] UpdateTimestampsCache - -isUpToDate: last update timestamp 4380401569632256 later than given timestamp 4380401569611776
[DEBUG] UpdateTimestampsCache - -isUpToDate returning false
****compared query with timestamp B with update timestamp beta
****beta is later than B so the query appears to not be up to date
[DEBUG] QueryCache - -cached query results were not up to date
[DEBUG] QueryTranslator - -HQL: select from com.loren.Document doc where doc.id=:docId
[DEBUG] QueryTranslator - -SQL: select document0_.id as id, document0_.title as title, document0_.subtitle as subtitle, document0_.description as descript4_, document0_.kind as kind from document document0_ where (document0_.id=? )
[DEBUG] BatcherImpl - -prepared statement get: select document0_.id as id, document0_.title as title, document0_.subtitle as subtitle, document0_.description as descript4_, document0_.kind as kind from document document0_ where (document0_.id=? )
Hibernate: select document0_.id as id, document0_.title as title, document0_.subtitle as subtitle, document0_.description as descript4_, document0_.kind as kind from document document0_ where (document0_.id=? )
[DEBUG] Loader - -result row: 79
[DEBUG] SessionImpl - -resolving associations for [com.loren.Document#79]
[DEBUG] SessionImpl - -collection not cached
[DEBUG] SessionImpl - -collection not cached
[DEBUG] SessionImpl - -collection not cached
[DEBUG] SessionImpl - -collection not cached
[DEBUG] SessionImpl - -adding entity to process-level cache [com.loren.Document#79]
[DEBUG] ReadOnlyCache - -Caching: 79
[DEBUG] SessionImpl - -done materializing entity [com.loren.Document#79]
[DEBUG] SessionImpl - -initializing non-lazy collections
[DEBUG] QueryCache - -caching query results in region: net.sf.hibernate.cache.QueryCache
[DEBUG] QueryCache - -encaching query with timestamp 4380401569792000 for region net.sf.hibernate.cache.QueryCache
****encache the query with timestamp C
[DEBUG] JDBCTransaction - -commit
[DEBUG] SessionImpl - -Collection found: [com.loren.Document.documentAuthors#79], was: [com.loren.Document.documentAuthors#79]
[DEBUG] SessionImpl - -Collection found: [com.loren.Document.keywords#79], was: [com.loren.Document.keywords#79]
[DEBUG] SessionImpl - -Collection found: [com.loren.Document.documentPublications#79], was: [com.loren.Document.documentPublications#79]
[DEBUG] SessionImpl - -Collection found: [com.loren.Document.comments#79], was: [com.loren.Document.comments#79]
[DEBUG] SessionImpl - -Flushed: 0 insertions, 0 updates, 0 deletions to 1 objects
[DEBUG] SessionImpl - -Flushed: 0 (re)creations, 0 updates, 0 removals to 4 collections
[DEBUG] Printer - -listing entities:
[DEBUG] Printer - -com.loren.Document{id=79, kind=null, documentPublications=uninitialized, documentAuthors=uninitialized, keywords=uninitialized, comments=uninitialized, title=Fortifications and Military Tactics: Fulk Nerra's strongholds circa 1000, subtitle=null, description=null}
[DEBUG] SessionImpl - -disconnecting session
-----run query iteration 4 --------------
[DEBUG] SessionImpl - -running Session.finalize()
[DEBUG] SessionImpl - -running Session.finalize()
[DEBUG] SessionImpl - -running Session.finalize()
[DEBUG] SessionImpl - -opened session at timestamp 4380401569964032
****started session with timestamp D
[DEBUG] JDBCTransaction - -begin
[DEBUG] SessionImpl - -Flushed: 0 insertions, 0 updates, 0 deletions to 0 objects
[DEBUG] SessionImpl - -Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
[DEBUG] QueryCache - -checking cached query results in region: net.sf.hibernate.cache.QueryCache
[DEBUG] QueryCache - -retrieving query with timestamp 4380401569792000
[DEBUG] UpdateTimestampsCache - -isUpToDate: checking timestamp 4380401569792000
[DEBUG] UpdateTimestampsCache - -isUpToDate: checking retrieved timestamp 4380401569632256 for space document
****this time we compare timestamp C with update timestamp beta
****beta is before C so the query appears up to date
[DEBUG] UpdateTimestampsCache - -isUpToDate returning true
[DEBUG] QueryCache - -returning cached query results
[DEBUG] ReadOnlyCache - -Cache hit: 79
[DEBUG] SessionImpl - -collection not cached
[DEBUG] SessionImpl - -collection not cached
[DEBUG] SessionImpl - -collection not cached
[DEBUG] SessionImpl - -collection not cached
[DEBUG] SessionImpl - -initializing non-lazy collections
[DEBUG] JDBCTransaction - -commit
[DEBUG] SessionImpl - -Collection found: [com.loren.Document.documentAuthors#79], was: [com.loren.Document.documentAuthors#79]
[DEBUG] SessionImpl - -Collection found: [com.loren.Document.keywords#79], was: [com.loren.Document.keywords#79]
[DEBUG] SessionImpl - -Collection found: [com.loren.Document.documentPublications#79], was: [com.loren.Document.documentPublications#79]
[DEBUG] SessionImpl - -Collection found: [com.loren.Document.comments#79], was: [com.loren.Document.comments#79]
[DEBUG] SessionImpl - -Flushed: 0 insertions, 0 updates, 0 deletions to 1 objects
[DEBUG] SessionImpl - -Flushed: 0 (re)creations, 0 updates, 0 removals to 4 collections
[DEBUG] Printer - -listing entities:
[DEBUG] Printer - -com.loren.Document{id=79, kind=null, documentPublications=uninitialized, documentAuthors=uninitialized, keywords=uninitialized, comments=uninitialized, title=Fortifications and Military Tactics: Fulk Nerra's strongholds circa 1000, subtitle=null, description=null}
[DEBUG] SessionImpl - -disconnecting session
-----run query iteration 5 --------------
[DEBUG] SessionImpl - -opened session at timestamp 4380401570144256
[DEBUG] JDBCTransaction - -begin
[DEBUG] SessionImpl - -Flushed: 0 insertions, 0 updates, 0 deletions to 0 objects
[DEBUG] SessionImpl - -Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
[DEBUG] QueryCache - -checking cached query results in region: net.sf.hibernate.cache.QueryCache
[DEBUG] QueryCache - -retrieving query with timestamp 4380401569792000
[DEBUG] UpdateTimestampsCache - -isUpToDate: checking timestamp 4380401569792000
[DEBUG] UpdateTimestampsCache - -isUpToDate: checking retrieved timestamp 4380401569632256 for space document
[DEBUG] UpdateTimestampsCache - -isUpToDate returning true
[DEBUG] QueryCache - -returning cached query results
[DEBUG] ReadOnlyCache - -Cache hit: 79
[DEBUG] SessionImpl - -collection not cached
[DEBUG] SessionImpl - -collection not cached
[DEBUG] SessionImpl - -collection not cached
[DEBUG] SessionImpl - -collection not cached
[DEBUG] SessionImpl - -initializing non-lazy collections
[DEBUG] JDBCTransaction - -commit
[DEBUG] SessionImpl - -Collection found: [com.loren.Document.documentAuthors#79], was: [com.loren.Document.documentAuthors#79]
[DEBUG] SessionImpl - -Collection found: [com.loren.Document.keywords#79], was: [com.loren.Document.keywords#79]
[DEBUG] SessionImpl - -Collection found: [com.loren.Document.documentPublications#79], was: [com.loren.Document.documentPublications#79]
[DEBUG] SessionImpl - -Collection found: [com.loren.Document.comments#79], was: [com.loren.Document.comments#79]
[DEBUG] SessionImpl - -Flushed: 0 insertions, 0 updates, 0 deletions to 1 objects
[DEBUG] SessionImpl - -Flushed: 0 (re)creations, 0 updates, 0 removals to 4 collections
[DEBUG] Printer - -listing entities:
[DEBUG] Printer - -com.loren.Document{id=79, kind=null, documentPublications=uninitialized, documentAuthors=uninitialized, keywords=uninitialized, comments=uninitialized, title=Fortifications and Military Tactics: Fulk Nerra's strongholds circa 1000, subtitle=null, description=null}
[DEBUG] SessionImpl - -disconnecting session
