Index: Example.java
===================================================================
RCS file: /cvsroot/hibernate/Hibernate2/src/net/sf/hibernate/expression/Example.java,v
retrieving revision 1.5
diff -u -r1.5 Example.java
--- Example.java	4 Jun 2004 01:27:39 -0000	1.5
+++ Example.java	20 Jul 2004 22:13:45 -0000
@@ -35,6 +35,7 @@
 	private PropertySelector selector;
 	private boolean isLikeEnabled;
 	private boolean isIgnoreCaseEnabled;
+	private boolean isIgnoreAssociationsEnabled;
 	private MatchMode matchMode;
 	
 	/**
@@ -118,6 +119,14 @@
 	}
 	
 	/**
+	 * Ignore association properties
+	 */
+	public Example ignoreAssociations(boolean ignore) {
+	    isIgnoreAssociationsEnabled = ignore;
+		return this;
+	}
+	
+	/**
 	 * Exclude a particular named property
 	 */
 	public Example excludeProperty(String name) {
@@ -139,6 +148,7 @@
 	protected Example(Object entity, PropertySelector selector) {
 		this.entity = entity;
 		this.selector = selector;
+		isIgnoreAssociationsEnabled = true;
 	}
 
 	public String toString() {
@@ -146,12 +156,18 @@
 	}
 	
 	private boolean isPropertyIncluded(Object value, String name, Type type) {
-		return !excludedProperties.contains(name) &&
-			!type.isAssociationType() &&
+	    if (isIgnoreAssociationsEnabled) {
+	        return !excludedProperties.contains(name) &&
+	        !type.isAssociationType() &&
+			selector.include(value, name, type);
+	    }
+	    else {
+	        return !excludedProperties.contains(name) &&
 			selector.include(value, name, type);
+	    }
 	}
 
-	public String toSqlString(
+    public String toSqlString(
 		SessionFactoryImplementor sessionFactory,
 		Class persistentClass,
 		String alias,
