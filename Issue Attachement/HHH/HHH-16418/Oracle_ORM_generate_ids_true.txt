[WARN] Gradle does not support this JDK, because it is too recent; build is likely to fail. To avoid failures, you should use an older Java version when running Gradle, and rely on toolchains. To that end, specify the version of Java you want to run tests with using property 'test.jdk.version', and specify the path to JDK8 *and* a JDK of the test version using property 'org.gradle.java.installations.paths'. Example:./gradlew build -Ptest.jdk.version=15 -Porg.gradle.java.installations.paths=$SDKMAN_CANDIDATES_DIR/java/15.0.1-open,$SDKMAN_CANDIDATES_DIR/java/8
Java versions for main code: [compiler:17, release:11]
Java versions for tests: [compiler:17, release:17, launcher:17]
> Configure project :
Parsing ORM version
Hibernate ORM Version: 6.2.0.Final
Hibernate ORM Gradle plugin Version: 6.2.0.Final
Vert.x Version: 4.3.8
Hibernate Reactive: 2.0.0-SNAPSHOT
> Configure project :hibernate-reactive-core
Publishing groupId: 'org.hibernate.reactive', version: '2.0.0-SNAPSHOT'
> Configure project :documentation
Documentation groupId: 'org.hibernate.reactive', version: '2.0.0-SNAPSHOT'
> Task :spotlessInternalRegisterDependencies UP-TO-DATE
> Task :hibernate-reactive-core:spotlessJava
> Task :hibernate-reactive-core:spotlessJavaApply
> Task :hibernate-reactive-core:spotlessApply
> Task :hibernate-reactive-core:compileJava UP-TO-DATE
> Task :hibernate-reactive-core:processResources UP-TO-DATE
> Task :hibernate-reactive-core:classes UP-TO-DATE
> Task :hibernate-reactive-core:compileTestJava
> Task :hibernate-reactive-core:processTestResources UP-TO-DATE
> Task :hibernate-reactive-core:testClasses
> Task :hibernate-reactive-core:test
SLF4J: Failed to load class "org.slf4j.impl.StaticLoggerBinder".
SLF4J: Defaulting to no-operation (NOP) logger implementation
SLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.
Using database type: ORACLE
INFO Version [vert.x-worker-thread-0] HHH000412: Hibernate ORM core version 6.2.0.Final
INFO Environment [vert.x-worker-thread-0] HHH000406: Using bytecode reflection optimizer
CONTAINER: starting up...

CONTAINER: first database startup, initializing...

CONTAINER: starting up Oracle Database...



LSNRCTL for Linux: Version 21.0.0.0.0 - Production on 02-APR-2023 18:46:18



Copyright (c) 1991, 2021, Oracle.  All rights reserved.



Starting /opt/oracle/product/21c/dbhomeXE/bin/tnslsnr: please wait...



TNSLSNR for Linux: Version 21.0.0.0.0 - Production

System parameter file is /opt/oracle/homes/OraDBHome21cXE/network/admin/listener.ora

Log messages written to /opt/oracle/diag/tnslsnr/e23c52819a99/listener/alert/log.xml

Listening on: (DESCRIPTION=(ADDRESS=(PROTOCOL=ipc)(KEY=EXTPROC_FOR_XE)))

Listening on: (DESCRIPTION=(ADDRESS=(PROTOCOL=tcp)(HOST=0.0.0.0)(PORT=1521)))



Connecting to (DESCRIPTION=(ADDRESS=(PROTOCOL=IPC)(KEY=EXTPROC_FOR_XE)))

STATUS of the LISTENER

------------------------

Alias                     LISTENER

Version                   TNSLSNR for Linux: Version 21.0.0.0.0 - Production

Start Date                02-APR-2023 18:46:19

Uptime                    0 days 0 hr. 0 min. 1 sec

Trace Level               off

Security                  ON: Local OS Authentication

SNMP                      OFF

Default Service           XE

Listener Parameter File   /opt/oracle/homes/OraDBHome21cXE/network/admin/listener.ora

Listener Log File         /opt/oracle/diag/tnslsnr/e23c52819a99/listener/alert/log.xml

Listening Endpoints Summary...

  (DESCRIPTION=(ADDRESS=(PROTOCOL=ipc)(KEY=EXTPROC_FOR_XE)))

  (DESCRIPTION=(ADDRESS=(PROTOCOL=tcp)(HOST=0.0.0.0)(PORT=1521)))

The listener supports no services

The command completed successfully

ORACLE instance started.



Total System Global Area 1241512272 bytes

Fixed Size		    9685328 bytes

Variable Size		  603979776 bytes

Database Buffers	  620756992 bytes

Redo Buffers		    7090176 bytes

Database mounted.

Database opened.



CONTAINER: Resetting SYS and SYSTEM passwords.



User altered.





User altered.



CONTAINER: Creating pluggable database.



Pluggable database created.





Pluggable database altered.





Pluggable database altered.





System altered.



CONTAINER: DONE: Creating pluggable database, duration: 10 seconds.



Session altered.





User created.





Grant succeeded.





Session altered.





User created.





Grant succeeded.





#########################

DATABASE IS READY TO USE!

#########################



##################################################################

CONTAINER: The following output is now from the alert_XE.log file:

##################################################################

HREACT(4):SUPLOG: Set PDB SUPLOG SGA at PDB OPEN, old 0x18, new 0x0 (no suplog)

2023-04-02T18:47:04.244576+00:00

Thread 1 advanced to log sequence 20 (LGWR switch),  current SCN: 2952856

  Current log# 1 seq# 20 mem# 0: /opt/oracle/oradata/XE/redo01.log

2023-04-02T18:47:06.392320+00:00

HREACT(4):Opening pdb with Resource Manager plan: DEFAULT_PLAN

Pluggable database HREACT opened read write

Completed:      ALTER PLUGGABLE DATABASE hreact OPEN READ WRITE

     ALTER PLUGGABLE DATABASE hreact SAVE STATE

Completed:      ALTER PLUGGABLE DATABASE hreact SAVE STATE

INFO SQL dialect [vert.x-worker-thread-0] HHH000400: Using dialect: org.hibernate.dialect.OracleDialect
INFO BytecodeProviderInitiator [vert.x-worker-thread-0] HHH000021: Bytecode provider name : bytebuddy
INFO ReactiveIntegrator [vert.x-worker-thread-0] HR000001: Hibernate Reactive
INFO DefaultSqlClientPool [vert.x-worker-thread-0] HR000011: SQL Client URL [jdbc:oracle:thin:@localhost:33203/hreact?user=hreact&password=hreact]
INFO DefaultSqlClientPoolConfiguration [vert.x-worker-thread-0] HR000025: Connection pool size: 5
INFO DefaultSqlClientPool [vert.x-worker-thread-0] HR000013: Detected driver [io.vertx.pgclient.spi.PgDriver]
INFO DefaultSqlClientPool [vert.x-worker-thread-0] HR000013: Detected driver [io.vertx.mysqlclient.spi.MySQLDriver]
INFO DefaultSqlClientPool [vert.x-worker-thread-0] HR000013: Detected driver [io.vertx.db2client.spi.DB2Driver]
INFO DefaultSqlClientPool [vert.x-worker-thread-0] HR000013: Detected driver [io.vertx.mssqlclient.spi.MSSQLDriver]
INFO DefaultSqlClientPool [vert.x-worker-thread-0] HR000013: Detected driver [io.vertx.oracleclient.spi.OracleDriver]
io.vertx.oracleclient.OracleException: Error : 942, Position : 11, Sql = drop table Flour cascade constraints, OriginalSql = drop table Flour cascade constraints, Error Msg = ORA-00942: table or view does not exist

WARN ReactiveGenerationTarget [vert.x-eventloop-thread-0] HR000021: DDL command failed [io.vertx.oracleclient.OracleException: Error : 942, Position : 11, Sql = drop table Flour cascade constraints, OriginalSql = drop table Flour cascade constraints, Error Msg = ORA-00942: table or view does not exist
]
io.vertx.oracleclient.OracleException: Error : 942, Position : 11, Sql = drop table Flour cascade constraints, OriginalSql = drop table Flour cascade constraints, Error Msg = ORA-00942: table or view does not exist

WARN ReactiveGenerationTarget [vert.x-eventloop-thread-0] HR000021: DDL command failed [io.vertx.oracleclient.OracleException: Error : 942, Position : 11, Sql = drop table Flour cascade constraints, OriginalSql = drop table Flour cascade constraints, Error Msg = ORA-00942: table or view does not exist
]
WARN pooling [vert.x-eventloop-thread-0] HHH10001002: Using built-in connection pool (not intended for production use)
INFO pooling [vert.x-eventloop-thread-0] HHH10001005: Loaded JDBC driver class: oracle.jdbc.OracleDriver
INFO pooling [vert.x-eventloop-thread-0] HHH10001012: Connecting with JDBC URL [jdbc:oracle:thin:@localhost:33203/hreact?user=hreact&password=hreact]
INFO pooling [vert.x-eventloop-thread-0] HHH10001001: Connection properties: {}
INFO pooling [vert.x-eventloop-thread-0] HHH10001003: Autocommit mode: false
INFO pooling [vert.x-eventloop-thread-0] HHH10001115: Connection pool size: 20 (min=1)
INFO SQL dialect [vert.x-eventloop-thread-0] HHH000400: Using dialect: org.hibernate.dialect.OracleDialect
INFO BytecodeProviderInitiator [vert.x-eventloop-thread-0] HHH000021: Bytecode provider name : bytebuddy
INFO JtaPlatformInitiator [vert.x-eventloop-thread-0] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
[Hibernate] drop table EntityWithIdentity cascade constraints
INFO access [vert.x-eventloop-thread-0] HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@7132351a] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
WARN ExceptionHandlerLoggedImpl [vert.x-eventloop-thread-0] GenerationTarget encountered exception accepting command : Error executing DDL "drop table EntityWithIdentity cascade constraints" via JDBC [ORA-00942: table or view does not exist
]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "drop table EntityWithIdentity cascade constraints" via JDBC [ORA-00942: table or view does not exist
]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:92) ~[hibernate-core-6.2.0.Final.jar:6.2.0.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlString(Helper.java:235) ~[hibernate-core-6.2.0.Final.jar:6.2.0.Final]
	at org.hibernate.tool.schema.internal.Helper.applySqlStrings(Helper.java:219) ~[hibernate-core-6.2.0.Final.jar:6.2.0.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropTables(SchemaDropperImpl.java:362) ~[hibernate-core-6.2.0.Final.jar:6.2.0.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropConstraintsTablesSequences(SchemaDropperImpl.java:253) ~[hibernate-core-6.2.0.Final.jar:6.2.0.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:215) ~[hibernate-core-6.2.0.Final.jar:6.2.0.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:185) ~[hibernate-core-6.2.0.Final.jar:6.2.0.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:155) ~[hibernate-core-6.2.0.Final.jar:6.2.0.Final]
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:115) ~[hibernate-core-6.2.0.Final.jar:6.2.0.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:242) ~[hibernate-core-6.2.0.Final.jar:6.2.0.Final]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143) ~[hibernate-core-6.2.0.Final.jar:6.2.0.Final]
	at java.util.HashMap.forEach(HashMap.java:1421) ~[?:?]
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140) ~[hibernate-core-6.2.0.Final.jar:6.2.0.Final]
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37) ~[hibernate-core-6.2.0.Final.jar:6.2.0.Final]
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35) ~[hibernate-core-6.2.0.Final.jar:6.2.0.Final]
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:291) ~[hibernate-core-6.2.0.Final.jar:6.2.0.Final]
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:431) ~[hibernate-core-6.2.0.Final.jar:6.2.0.Final]
	at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:894) ~[hibernate-core-6.2.0.Final.jar:6.2.0.Final]
	at org.hibernate.reactive.ORMReactivePersistenceTest.prepareOrmFactory(ORMReactivePersistenceTest.java:71) ~[test/:?]
	at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]
	at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[?:?]
	at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:568) ~[?:?]
	at io.vertx.ext.unit.junit.VertxUnitRunner.invokeTestMethod(VertxUnitRunner.java:93) ~[vertx-unit-4.3.8.jar:4.3.8]
	at io.vertx.ext.unit.junit.VertxUnitRunner.lambda$invokeExplosively$0(VertxUnitRunner.java:114) ~[vertx-unit-4.3.8.jar:4.3.8]
	at io.vertx.ext.unit.impl.TestContextImpl.run(TestContextImpl.java:90) ~[vertx-unit-4.3.8.jar:4.3.8]
	at io.vertx.ext.unit.junit.VertxUnitRunner.lambda$invokeExplosively$1(VertxUnitRunner.java:127) ~[vertx-unit-4.3.8.jar:4.3.8]
	at io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:264) ~[vertx-core-4.3.8.jar:4.3.8]
	at io.vertx.core.impl.ContextInternal.dispatch(ContextInternal.java:246) ~[vertx-core-4.3.8.jar:4.3.8]
	at io.vertx.core.impl.EventLoopContext.lambda$runOnContext$0(EventLoopContext.java:43) ~[vertx-core-4.3.8.jar:4.3.8]
	at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174) ~[netty-common-4.1.87.Final.jar:4.1.87.Final]
	at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167) ~[netty-common-4.1.87.Final.jar:4.1.87.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470) ~[netty-common-4.1.87.Final.jar:4.1.87.Final]
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569) ~[netty-transport-4.1.87.Final.jar:4.1.87.Final]
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997) ~[netty-common-4.1.87.Final.jar:4.1.87.Final]
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74) ~[netty-common-4.1.87.Final.jar:4.1.87.Final]
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30) ~[netty-common-4.1.87.Final.jar:4.1.87.Final]
	at java.lang.Thread.run(Thread.java:833) ~[?:?]
Caused by: java.sql.SQLSyntaxErrorException: ORA-00942: table or view does not exist

	at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:630) ~[ojdbc11-21.4.0.0.jar:21.4.0.0.0]
	at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:564) ~[ojdbc11-21.4.0.0.jar:21.4.0.0.0]
	at oracle.jdbc.driver.T4C8Oall.processError(T4C8Oall.java:1231) ~[ojdbc11-21.4.0.0.jar:21.4.0.0.0]
	at oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:772) ~[ojdbc11-21.4.0.0.jar:21.4.0.0.0]
	at oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:299) ~[ojdbc11-21.4.0.0.jar:21.4.0.0.0]
	at oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:512) ~[ojdbc11-21.4.0.0.jar:21.4.0.0.0]
	at oracle.jdbc.driver.T4CStatement.doOall8(T4CStatement.java:123) ~[ojdbc11-21.4.0.0.jar:21.4.0.0.0]
	at oracle.jdbc.driver.T4CStatement.executeForRows(T4CStatement.java:1200) ~[ojdbc11-21.4.0.0.jar:21.4.0.0.0]
	at oracle.jdbc.driver.OracleStatement.executeSQLStatement(OracleStatement.java:1820) ~[ojdbc11-21.4.0.0.jar:21.4.0.0.0]
	at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1472) ~[ojdbc11-21.4.0.0.jar:21.4.0.0.0]
	at oracle.jdbc.driver.OracleStatement.executeInternal(OracleStatement.java:2505) ~[ojdbc11-21.4.0.0.jar:21.4.0.0.0]
	at oracle.jdbc.driver.OracleStatement.execute(OracleStatement.java:2460) ~[ojdbc11-21.4.0.0.jar:21.4.0.0.0]
	at oracle.jdbc.driver.OracleStatementWrapper.execute(OracleStatementWrapper.java:328) ~[ojdbc11-21.4.0.0.jar:21.4.0.0.0]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:78) ~[hibernate-core-6.2.0.Final.jar:6.2.0.Final]
	... 37 more
Caused by: oracle.jdbc.OracleDatabaseException: ORA-00942: table or view does not exist

	at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:637) ~[ojdbc11-21.4.0.0.jar:21.4.0.0.0]
	at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:564) ~[ojdbc11-21.4.0.0.jar:21.4.0.0.0]
	at oracle.jdbc.driver.T4C8Oall.processError(T4C8Oall.java:1231) ~[ojdbc11-21.4.0.0.jar:21.4.0.0.0]
	at oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:772) ~[ojdbc11-21.4.0.0.jar:21.4.0.0.0]
	at oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:299) ~[ojdbc11-21.4.0.0.jar:21.4.0.0.0]
	at oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:512) ~[ojdbc11-21.4.0.0.jar:21.4.0.0.0]
	at oracle.jdbc.driver.T4CStatement.doOall8(T4CStatement.java:123) ~[ojdbc11-21.4.0.0.jar:21.4.0.0.0]
	at oracle.jdbc.driver.T4CStatement.executeForRows(T4CStatement.java:1200) ~[ojdbc11-21.4.0.0.jar:21.4.0.0.0]
	at oracle.jdbc.driver.OracleStatement.executeSQLStatement(OracleStatement.java:1820) ~[ojdbc11-21.4.0.0.jar:21.4.0.0.0]
	at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1472) ~[ojdbc11-21.4.0.0.jar:21.4.0.0.0]
	at oracle.jdbc.driver.OracleStatement.executeInternal(OracleStatement.java:2505) ~[ojdbc11-21.4.0.0.jar:21.4.0.0.0]
	at oracle.jdbc.driver.OracleStatement.execute(OracleStatement.java:2460) ~[ojdbc11-21.4.0.0.jar:21.4.0.0.0]
	at oracle.jdbc.driver.OracleStatementWrapper.execute(OracleStatementWrapper.java:328) ~[ojdbc11-21.4.0.0.jar:21.4.0.0.0]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:78) ~[hibernate-core-6.2.0.Final.jar:6.2.0.Final]
	... 37 more
[Hibernate] drop table Flour cascade constraints
[Hibernate] create table EntityWithIdentity (position number(10,0), id number(19,0) generated as identity, name varchar2(255 char) unique, primary key (id))
INFO access [vert.x-eventloop-thread-0] HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@4248238] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
[Hibernate] create table Flour (id number(10,0) not null, description varchar2(255 char), name varchar2(255 char), type varchar2(255 char), primary key (id))
INFO GenerationTargetToDatabase [vert.x-eventloop-thread-0] HHH000476: Executing script '[injected ScriptSourceInputNonExistentImpl script]'
[Hibernate] insert into EntityWithIdentity (name,position,id) values (?,?,default)
[Hibernate] select e1_0.id,e1_0.name,e1_0.position from EntityWithIdentity e1_0 where e1_0.id=?
INFO pooling [vert.x-eventloop-thread-0] HHH10001008: Cleaning up connection pool [jdbc:oracle:thin:@localhost:33203/hreact?user=hreact&password=hreact]
Gradle Test Executor 46 > org.hibernate.reactive.ORMReactivePersistenceTest > testORMWithStageSession PASSED
-----------------------------------------------------------------
Oracle results: SUCCESS (1 tests, 1 passed, 0 failed, 0 skipped)
-----------------------------------------------------------------
BUILD SUCCESSFUL in 1m 3s
8 actionable tasks: 4 executed, 4 up-to-date
1:47:18 PM: Execution finished ':hibernate-reactive-core:test --tests "org.hibernate.reactive.ORMReactivePersistenceTest"'.

