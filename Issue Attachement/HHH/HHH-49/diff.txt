--- p:\code\sourceforge\hibernate\Hibernate3\src\org\hibernate\cfg\SettingsFactory.java	Sun Dec 05 21:13:20 2004
+++ src\org\hibernate\cfg\SettingsFactory.java	Mon Dec 06 15:54:08 2004
@@ -52,17 +52,15 @@
 
 		Dialect dialect;
 		final Properties properties = new Properties();
-		properties.putAll(props);
 		try {
 			dialect = Dialect.getDialect(props);
-			Properties temp;
-			//temp.putAll( Environment.getProperties() );
-			props.putAll( dialect.getDefaultProperties() );
+			properties.putAll( dialect.getDefaultProperties() );
 		}
 		catch (HibernateException he) {
 			log.warn( "No dialect set - using GenericDialect: " + he.getMessage() );
 			dialect = new GenericDialect();
 		}
+        	properties.putAll(props);
 		settings.setDialect(dialect);
 
 		SQLExceptionConverter sqlExceptionConverter;
