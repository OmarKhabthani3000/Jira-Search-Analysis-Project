Index: EntityType.java
===================================================================
RCS file: /cvsroot/hibernate/Hibernate3/src/org/hibernate/type/EntityType.java,v
retrieving revision 1.53
diff -b -r1.53 EntityType.java
4,8d3
< import java.io.Serializable;
< import java.sql.ResultSet;
< import java.sql.SQLException;
< import java.util.Map;
< 
15,20c10
< import org.hibernate.engine.EntityUniqueKey;
< import org.hibernate.engine.ForeignKeys;
< import org.hibernate.engine.Mapping;
< import org.hibernate.engine.PersistenceContext;
< import org.hibernate.engine.SessionFactoryImplementor;
< import org.hibernate.engine.SessionImplementor;
---
> import org.hibernate.engine.*;
28a19,23
> import java.io.Serializable;
> import java.sql.ResultSet;
> import java.sql.SQLException;
> import java.util.Map;
> 
394a390
>     Serializable id;
396c392,394
< 			return ( (HibernateProxy) x ).getHibernateLazyInitializer().getIdentifier().hashCode();
---
>       id = ( (HibernateProxy) x ).getHibernateLazyInitializer().getIdentifier();
>     } else {
>       id = persister.getIdentifier(x, entityMode);
399d396
< 		Serializable id = persister.getIdentifier(x, entityMode);
