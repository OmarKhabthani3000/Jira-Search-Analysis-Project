<?xml version="1.0" encoding="UTF-8" ?>
<testsuite tests="1" failures="0" name="org.hibernate.test.AppTest" time="0.267" errors="1" skipped="0">
  <properties>
    <property name="java.runtime.name" value="Java(TM) SE Runtime Environment"/>
    <property name="sun.boot.library.path" value="/home/gbadner/apps/jdk1.8.0_40/jre/lib/amd64"/>
    <property name="java.vm.version" value="25.40-b25"/>
    <property name="java.vm.vendor" value="Oracle Corporation"/>
    <property name="maven.multiModuleProjectDirectory" value="/home/gbadner/cases/HHH-12226"/>
    <property name="java.vendor.url" value="http://java.oracle.com/"/>
    <property name="path.separator" value=":"/>
    <property name="guice.disable.misplaced.annotation.check" value="true"/>
    <property name="java.vm.name" value="Java HotSpot(TM) 64-Bit Server VM"/>
    <property name="file.encoding.pkg" value="sun.io"/>
    <property name="user.country" value="US"/>
    <property name="sun.java.launcher" value="SUN_STANDARD"/>
    <property name="sun.os.patch.level" value="unknown"/>
    <property name="java.vm.specification.name" value="Java Virtual Machine Specification"/>
    <property name="user.dir" value="/home/gbadner/cases/HHH-12226"/>
    <property name="java.runtime.version" value="1.8.0_40-b26"/>
    <property name="java.awt.graphicsenv" value="sun.awt.X11GraphicsEnvironment"/>
    <property name="java.endorsed.dirs" value="/home/gbadner/apps/jdk1.8.0_40/jre/lib/endorsed"/>
    <property name="os.arch" value="amd64"/>
    <property name="java.io.tmpdir" value="/tmp"/>
    <property name="line.separator" value="
"/>
    <property name="java.vm.specification.vendor" value="Oracle Corporation"/>
    <property name="os.name" value="Linux"/>
    <property name="classworlds.conf" value="/home/gbadner/apps/apache-maven-3.3.9/bin/m2.conf"/>
    <property name="sun.jnu.encoding" value="UTF-8"/>
    <property name="java.library.path" value="/usr/lib/oracle/12.2/client64/lib::/usr/java/packages/lib/amd64:/usr/lib64:/lib64:/lib:/usr/lib"/>
    <property name="java.specification.name" value="Java Platform API Specification"/>
    <property name="java.class.version" value="52.0"/>
    <property name="sun.management.compiler" value="HotSpot 64-Bit Tiered Compilers"/>
    <property name="os.version" value="4.14.13-300.fc27.x86_64"/>
    <property name="user.home" value="/home/gbadner"/>
    <property name="user.timezone" value="America/Los_Angeles"/>
    <property name="java.awt.printerjob" value="sun.print.PSPrinterJob"/>
    <property name="file.encoding" value="UTF-8"/>
    <property name="java.specification.version" value="1.8"/>
    <property name="user.name" value="gbadner"/>
    <property name="java.class.path" value="/home/gbadner/apps/apache-maven-3.3.9/boot/plexus-classworlds-2.5.2.jar"/>
    <property name="java.vm.specification.version" value="1.8"/>
    <property name="sun.arch.data.model" value="64"/>
    <property name="java.home" value="/home/gbadner/apps/jdk1.8.0_40/jre"/>
    <property name="sun.java.command" value="org.codehaus.plexus.classworlds.launcher.Launcher clean test"/>
    <property name="java.specification.vendor" value="Oracle Corporation"/>
    <property name="user.language" value="en"/>
    <property name="awt.toolkit" value="sun.awt.X11.XToolkit"/>
    <property name="java.vm.info" value="mixed mode"/>
    <property name="java.version" value="1.8.0_40"/>
    <property name="java.ext.dirs" value="/home/gbadner/apps/jdk1.8.0_40/jre/lib/ext:/usr/java/packages/lib/ext"/>
    <property name="securerandom.source" value="file:/dev/./urandom"/>
    <property name="sun.boot.class.path" value="/home/gbadner/apps/jdk1.8.0_40/jre/lib/resources.jar:/home/gbadner/apps/jdk1.8.0_40/jre/lib/rt.jar:/home/gbadner/apps/jdk1.8.0_40/jre/lib/sunrsasign.jar:/home/gbadner/apps/jdk1.8.0_40/jre/lib/jsse.jar:/home/gbadner/apps/jdk1.8.0_40/jre/lib/jce.jar:/home/gbadner/apps/jdk1.8.0_40/jre/lib/charsets.jar:/home/gbadner/apps/jdk1.8.0_40/jre/lib/jfr.jar:/home/gbadner/apps/jdk1.8.0_40/jre/classes"/>
    <property name="java.vendor" value="Oracle Corporation"/>
    <property name="maven.home" value="/home/gbadner/apps/apache-maven-3.3.9"/>
    <property name="file.separator" value="/"/>
    <property name="java.vendor.url.bug" value="http://bugreport.sun.com/bugreport/"/>
    <property name="sun.cpu.endian" value="little"/>
    <property name="sun.io.unicode.encoding" value="UnicodeLittle"/>
    <property name="sun.desktop" value="gnome"/>
    <property name="sun.cpu.isalist" value=""/>
  </properties>
  <testcase classname="org.hibernate.test.AppTest" name="enhanceTest" time="0.267">
    <error message="No row with the given identifier exists: [org.hibernate.test.Lazy#4]" type="org.hibernate.ObjectNotFoundException">org.hibernate.ObjectNotFoundException: No row with the given identifier exists: [org.hibernate.test.Lazy#4]
	at org.hibernate.boot.internal.StandardEntityNotFoundDelegate.handleEntityNotFound(StandardEntityNotFoundDelegate.java:28)
	at org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:227)
	at org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:262)
	at org.hibernate.event.internal.DefaultLoadEventListener.doOnLoad(DefaultLoadEventListener.java:121)
	at org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:89)
	at org.hibernate.internal.SessionImpl.fireLoad(SessionImpl.java:1239)
	at org.hibernate.internal.SessionImpl.internalLoad(SessionImpl.java:1122)
	at org.hibernate.type.EntityType.resolveIdentifier(EntityType.java:646)
	at org.hibernate.type.EntityType.resolve(EntityType.java:431)
	at org.hibernate.type.EntityType.nullSafeGet(EntityType.java:262)
	at org.hibernate.persister.entity.AbstractEntityPersister.initializeLazyPropertiesFromDatastore(AbstractEntityPersister.java:1091)
	at org.hibernate.persister.entity.AbstractEntityPersister.initializeLazyProperty(AbstractEntityPersister.java:1002)
	at org.hibernate.bytecode.enhance.spi.interceptor.LazyAttributeLoadingInterceptor$1.doWork(LazyAttributeLoadingInterceptor.java:105)
	at org.hibernate.bytecode.enhance.spi.interceptor.Helper.performWork(Helper.java:97)
	at org.hibernate.bytecode.enhance.spi.interceptor.LazyAttributeLoadingInterceptor.loadAttribute(LazyAttributeLoadingInterceptor.java:76)
	at org.hibernate.bytecode.enhance.spi.interceptor.LazyAttributeLoadingInterceptor.fetchAttribute(LazyAttributeLoadingInterceptor.java:72)
	at org.hibernate.bytecode.enhance.spi.interceptor.LazyAttributeLoadingInterceptor.intercept(LazyAttributeLoadingInterceptor.java:61)
	at org.hibernate.bytecode.enhance.spi.interceptor.LazyAttributeLoadingInterceptor.readObject(LazyAttributeLoadingInterceptor.java:296)
	at org.hibernate.test.User.$$_hibernate_read_lazy(User.java)
	at org.hibernate.test.User.getLazy(User.java:35)
	at org.hibernate.test.AppTest.enhanceTest(AppTest.java:73)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.hibernate.testing.junit4.ExtendedFrameworkMethod.invokeExplosively(ExtendedFrameworkMethod.java:45)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:745)
</error>
    <system-out>2018-01-19 11:44:46 INFO  Version:45 - HHH000412: Hibernate Core {5.2.12.Final}
2018-01-19 11:44:46 INFO  Environment:198 - HHH000205: Loaded properties from resource hibernate.properties: {hibernate.connection.driver_class=org.h2.Driver, javax.persistence.validation.mode=NONE, hibernate.service.allow_crawling=false, hibernate.max_fetch_depth=5, hibernate.dialect=org.hibernate.dialect.H2Dialect, hibernate.format_sql=true, hibernate.cache.region.factory_class=org.hibernate.testing.cache.CachingRegionFactory, hibernate.connection.username=sa, hibernate.cache.region_prefix=hibernate.test, hibernate.connection.url=jdbc:h2:mem:db1;DB_CLOSE_DELAY=-1, hibernate.bytecode.use_reflection_optimizer=false, hibernate.show_sql=false, hibernate.session.events.log=true, hibernate.jdbc.batch_versioned_data=true, hibernate.connection.pool_size=5}
2018-01-19 11:44:46 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2018-01-19 11:44:47 INFO  CustomRunner:116 - BeforeClass: org.hibernate.test.AppTest
2018-01-19 11:44:47 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2018-01-19 11:44:47 WARN  CachingRegionFactory:52 - CachingRegionFactory should be only used for testing.
2018-01-19 11:44:47 INFO  Version:66 - HCANN000001: Hibernate Commons Annotations {5.0.1.Final}
2018-01-19 11:44:47 WARN  pooling:70 - HHH10001002: Using Hibernate built-in connection pool (not for production use!)
2018-01-19 11:44:47 INFO  pooling:126 - HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db1;DB_CLOSE_DELAY=-1]
2018-01-19 11:44:47 INFO  pooling:135 - HHH10001001: Connection properties: {user=sa}
2018-01-19 11:44:47 INFO  pooling:140 - HHH10001003: Autocommit mode: false
2018-01-19 11:44:47 INFO  DriverManagerConnectionProviderImpl:41 - HHH000115: Hibernate connection pool size: 5 (min=1)
2018-01-19 11:44:47 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2018-01-19 11:44:47 INFO  EntityMetamodel:316 - HHH000157: Lazy property fetching available for: org.hibernate.test.User
Hibernate: 
    
    drop table Lazy if exists
2018-01-19 11:44:47 INFO  access:47 - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@45905bff] for (non-JTA) DDL execution was not in auto-commit mode; the Connection &apos;local transaction&apos; will be committed and the Connection will be set into auto-commit mode.
Hibernate: 
    
    drop table User if exists
Hibernate: 
    
    create table Lazy (
       id integer generated by default as identity,
        primary key (id)
    )
2018-01-19 11:44:47 INFO  access:47 - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@7c541c15] for (non-JTA) DDL execution was not in auto-commit mode; the Connection &apos;local transaction&apos; will be committed and the Connection will be set into auto-commit mode.
Hibernate: 
    
    create table User (
       id integer generated by default as identity,
        lazy_id integer,
        primary key (id)
    )
2018-01-19 11:44:47 INFO  SchemaCreatorImpl:489 - HHH000476: Executing import script &apos;org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@549949be&apos;
2018-01-19 11:44:47 INFO  CustomRunner:123 - Test: enhanceTest
Hibernate: 
    insert 
    into
        Lazy
        (id) 
    values
        (null)
Hibernate: 
    insert 
    into
        User
        (id, lazy_id) 
    values
        (null, ?)
2018-01-19 11:44:47 INFO  QueryTranslatorFactoryInitiator:47 - HHH000397: Using ASTQueryTranslatorFactory
Hibernate: 
    update
        User 
    set
        lazy_id=?
2018-01-19 11:44:47 INFO  StatisticalLoggingSessionEventListener:258 - Session Metrics {
    19456 nanoseconds spent acquiring 1 JDBC connections;
    22402 nanoseconds spent releasing 1 JDBC connections;
    1059764 nanoseconds spent preparing 3 JDBC statements;
    1880993 nanoseconds spent executing 3 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    666139 nanoseconds spent executing 1 flushes (flushing a total of 2 entities and 0 collections);
    1137476 nanoseconds spent executing 1 partial-flushes (flushing a total of 2 entities and 2 collections)
}
Hibernate: 
    select
        user0_.id as id1_1_0_ 
    from
        User user0_ 
    where
        user0_.id=?
Hibernate: 
    select
        user_.lazy_id as lazy_id2_1_ 
    from
        User user_ 
    where
        user_.id=?
Hibernate: 
    select
        lazy0_.id as id1_0_0_ 
    from
        Lazy lazy0_ 
    where
        lazy0_.id=?
2018-01-19 11:44:47 INFO  DefaultLoadEventListener:129 - HHH000327: Error performing load command : org.hibernate.ObjectNotFoundException: No row with the given identifier exists: [org.hibernate.test.Lazy#4]
2018-01-19 11:44:47 INFO  StatisticalLoggingSessionEventListener:258 - Session Metrics {
    6149 nanoseconds spent acquiring 1 JDBC connections;
    33175 nanoseconds spent releasing 1 JDBC connections;
    706303 nanoseconds spent preparing 3 JDBC statements;
    218756 nanoseconds spent executing 3 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
2018-01-19 11:44:47 INFO  SchemaDropperImpl$DelayedDropActionImpl:524 - HHH000477: Starting delayed drop of schema as part of SessionFactory shut-down&apos;
Hibernate: 
    
    drop table Lazy if exists
2018-01-19 11:44:47 INFO  access:47 - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@5b444398] for (non-JTA) DDL execution was not in auto-commit mode; the Connection &apos;local transaction&apos; will be committed and the Connection will be set into auto-commit mode.
Hibernate: 
    
    drop table User if exists
2018-01-19 11:44:47 INFO  pooling:230 - HHH10001008: Cleaning up connection pool [jdbc:h2:mem:db1;DB_CLOSE_DELAY=-1]
2018-01-19 11:44:47 WARN  CachingRegionFactory:52 - CachingRegionFactory should be only used for testing.
2018-01-19 11:44:47 WARN  pooling:70 - HHH10001002: Using Hibernate built-in connection pool (not for production use!)
2018-01-19 11:44:47 INFO  pooling:126 - HHH10001005: using driver [org.h2.Driver] at URL [jdbc:h2:mem:db1;DB_CLOSE_DELAY=-1]
2018-01-19 11:44:47 INFO  pooling:135 - HHH10001001: Connection properties: {user=sa}
2018-01-19 11:44:47 INFO  pooling:140 - HHH10001003: Autocommit mode: false
2018-01-19 11:44:47 INFO  DriverManagerConnectionProviderImpl:41 - HHH000115: Hibernate connection pool size: 5 (min=1)
2018-01-19 11:44:47 INFO  Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2018-01-19 11:44:47 INFO  EntityMetamodel:316 - HHH000157: Lazy property fetching available for: org.hibernate.test.User
Hibernate: 
    
    drop table Lazy if exists
2018-01-19 11:44:47 INFO  access:47 - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@1e1d3956] for (non-JTA) DDL execution was not in auto-commit mode; the Connection &apos;local transaction&apos; will be committed and the Connection will be set into auto-commit mode.
Hibernate: 
    
    drop table User if exists
Hibernate: 
    
    create table Lazy (
       id integer generated by default as identity,
        primary key (id)
    )
2018-01-19 11:44:47 INFO  access:47 - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@4f2c9ba6] for (non-JTA) DDL execution was not in auto-commit mode; the Connection &apos;local transaction&apos; will be committed and the Connection will be set into auto-commit mode.
Hibernate: 
    
    create table User (
       id integer generated by default as identity,
        lazy_id integer,
        primary key (id)
    )
2018-01-19 11:44:47 INFO  SchemaCreatorImpl:489 - HHH000476: Executing import script &apos;org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@549949be&apos;
</system-out>
  </testcase>
</testsuite>