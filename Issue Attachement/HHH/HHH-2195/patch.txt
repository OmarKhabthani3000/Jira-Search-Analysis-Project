Index: J:/private/Prog/workspace/Hibernate3/src/org/hibernate/proxy/pojo/BasicLazyInitializer.java
===================================================================
--- J:/private/Prog/workspace/Hibernate3/src/org/hibernate/proxy/pojo/BasicLazyInitializer.java	(revision 10657)
+++ J:/private/Prog/workspace/Hibernate3/src/org/hibernate/proxy/pojo/BasicLazyInitializer.java	(working copy)
@@ -23,6 +23,7 @@
 	protected Method getIdentifierMethod;
 	protected Method setIdentifierMethod;
 	protected boolean overridesEquals;
+	protected boolean overridesHashCode;
 	private Object replacement;
 	protected AbstractComponentType componentIdType;
 
@@ -40,6 +41,7 @@
 		this.setIdentifierMethod = setIdentifierMethod;
 		this.componentIdType = componentIdType;
 		overridesEquals = ReflectHelper.overridesEquals(persistentClass);
+		overridesHashCode = ReflectHelper.overridesHashCode(persistentClass);
 	}
 
 	protected abstract Object serializableProxy();
@@ -54,7 +56,7 @@
 			if ( "writeReplace".equals(methodName) ) {
 				return getReplacement();
 			}
-			else if ( !overridesEquals && "hashCode".equals(methodName) ) {
+			else if ( !overridesHashCode && "hashCode".equals(methodName) ) {
 				return new Integer( System.identityHashCode(proxy) );
 			}
 			else if ( isUninitialized() && method.equals(getIdentifierMethod) ) {
