Testsuite: org.hibernate.test.optlock.OptimisticLockTest
Tests run: 4, Failures: 2, Errors: 0, Time elapsed: 4.474 sec
------------- Standard Output ---------------
15:02:27,245  INFO Environment:500 - Hibernate 3.2 cr3
15:02:27,258  INFO Environment:518 - loaded properties from resource hibernate.properties: {hibernate.connection.driver_class=org.hsqldb.jdbcDriver, hibernate.cache.provider_class=org.hibernate.cache.HashtableCacheProvider, hibernate.max_fetch_depth=1, hibernate.dialect=org.hibernate.dialect.HSQLDialect, hibernate.jdbc.use_streams_for_binary=true, hibernate.format_sql=true, hibernate.query.substitutions=yes 'Y', no 'N', hibernate.proxool.pool_alias=pool1, hibernate.connection.username=sa, hibernate.cache.region_prefix=hibernate.test, hibernate.connection.url=jdbc:hsqldb:., hibernate.bytecode.use_reflection_optimizer=false, hibernate.connection.password=****, hibernate.jdbc.batch_versioned_data=true, hibernate.connection.pool_size=1}
15:02:27,260  INFO Environment:549 - using java.io streams to persist binary types
15:02:27,261  INFO Environment:667 - Bytecode provider name : cglib
15:02:27,272  INFO Environment:584 - using JDK 1.4 java.sql.Timestamp handling
15:02:27,284  INFO Dialect:141 - Using dialect: org.hibernate.dialect.HSQLDialect
15:02:27,527  INFO Configuration:488 - Reading mappings from resource: org/hibernate/test/optlock/Document.hbm.xml
15:02:27,608 DEBUG DTDEntityResolver:38 - trying to resolve system-id [http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd]
15:02:27,615 DEBUG DTDEntityResolver:40 - recognized hibernate namespace; attempting to resolve on classpath under org/hibernate/
15:02:27,616 DEBUG DTDEntityResolver:50 - located [http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd] in classpath
15:02:28,048  INFO HbmBinder:299 - Mapping class: Dirty -> Document
15:02:28,058 DEBUG HbmBinder:1269 - Mapped property: id -> id
15:02:28,068 DEBUG HbmBinder:1269 - Mapped property: title -> title
15:02:28,069 DEBUG HbmBinder:1269 - Mapped property: author -> author
15:02:28,071 DEBUG HbmBinder:1269 - Mapped property: year -> year
15:02:28,072 DEBUG HbmBinder:1269 - Mapped property: month -> month
15:02:28,209 DEBUG HbmBinder:1269 - Mapped property: pubDate -> year, month
15:02:28,210 DEBUG HbmBinder:1269 - Mapped property: summary -> summary
15:02:28,211 DEBUG HbmBinder:1269 - Mapped property: totalSales -> totalSales
15:02:28,211 DEBUG HbmBinder:1269 - Mapped property: text -> text
15:02:28,212  INFO HbmBinder:299 - Mapping class: All -> Document
15:02:28,213 DEBUG HbmBinder:1269 - Mapped property: id -> id
15:02:28,213 DEBUG HbmBinder:1269 - Mapped property: title -> title
15:02:28,214 DEBUG HbmBinder:1269 - Mapped property: author -> author
15:02:28,215 DEBUG HbmBinder:1269 - Mapped property: year -> year
15:02:28,216 DEBUG HbmBinder:1269 - Mapped property: month -> month
15:02:28,221 DEBUG HbmBinder:1269 - Mapped property: pubDate -> year, month
15:02:28,222 DEBUG HbmBinder:1269 - Mapped property: summary -> summary
15:02:28,223 DEBUG HbmBinder:1269 - Mapped property: totalSales -> totalSales
15:02:28,223 DEBUG HbmBinder:1269 - Mapped property: text -> text
15:02:28,225 DEBUG Configuration:1209 - Preparing to build session factory with filters : {}
15:02:28,225 DEBUG Configuration:1044 - processing extends queue
15:02:28,226 DEBUG Configuration:1048 - processing collection mappings
15:02:28,226 DEBUG Configuration:1059 - processing native query and ResultSetMapping mappings
15:02:28,226 DEBUG Configuration:1067 - processing association property references
15:02:28,227 DEBUG Configuration:1089 - processing foreign key constraints
15:02:28,289  INFO DriverManagerConnectionProvider:41 - Using Hibernate built-in connection pool (not for production use!)
15:02:28,290  INFO DriverManagerConnectionProvider:42 - Hibernate connection pool size: 1
15:02:28,290  INFO DriverManagerConnectionProvider:45 - autocommit mode: false
15:02:28,292  INFO DriverManagerConnectionProvider:80 - using driver: org.hsqldb.jdbcDriver at URL: jdbc:hsqldb:.
15:02:28,293  INFO DriverManagerConnectionProvider:83 - connection properties: {user=sa, password=}
15:02:28,294 DEBUG DriverManagerConnectionProvider:93 - total checked-out connections: 0
15:02:28,294 DEBUG DriverManagerConnectionProvider:109 - opening new JDBC connection
15:02:28,580 DEBUG DriverManagerConnectionProvider:115 - created connection to: jdbc:hsqldb:., Isolation Level: 0
15:02:28,607  INFO SettingsFactory:81 - RDBMS: HSQL Database Engine, version: 1.8.0
15:02:28,611  INFO SettingsFactory:82 - JDBC driver: HSQL Database Engine Driver, version: 1.8.0
15:02:28,611 DEBUG DriverManagerConnectionProvider:129 - returning connection to pool, pool size: 1
15:02:28,615  INFO Dialect:141 - Using dialect: org.hibernate.dialect.HSQLDialect
15:02:28,618  INFO TransactionFactoryFactory:31 - Using default transaction strategy (direct JDBC transactions)
15:02:28,621  INFO TransactionManagerLookupFactory:33 - No TransactionManagerLookup configured (in JTA environment, use of read-write or transactional second-level cache is not recommended)
15:02:28,621  INFO SettingsFactory:134 - Automatic flush during beforeCompletion(): disabled
15:02:28,622  INFO SettingsFactory:138 - Automatic session close at end of transaction: disabled
15:02:28,637  INFO SettingsFactory:145 - JDBC batch size: 15
15:02:28,639  INFO SettingsFactory:148 - JDBC batch updates for versioned data: enabled
15:02:28,640  INFO SettingsFactory:153 - Scrollable result sets: enabled
15:02:28,641 DEBUG SettingsFactory:157 - Wrap result sets: disabled
15:02:28,641  INFO SettingsFactory:161 - JDBC3 getGeneratedKeys(): disabled
15:02:28,642  INFO SettingsFactory:169 - Connection release mode: auto
15:02:28,643  INFO SettingsFactory:193 - Maximum outer join fetch depth: 1
15:02:28,644  INFO SettingsFactory:196 - Default batch fetch size: 1
15:02:28,644  INFO SettingsFactory:200 - Generate SQL with comments: disabled
15:02:28,644  INFO SettingsFactory:204 - Order SQL updates by primary key: disabled
15:02:28,645  INFO SettingsFactory:369 - Query translator: org.hibernate.hql.ast.ASTQueryTranslatorFactory
15:02:28,648  INFO ASTQueryTranslatorFactory:24 - Using ASTQueryTranslatorFactory
15:02:28,649  INFO SettingsFactory:212 - Query language substitutions: {no='N', yes='Y'}
15:02:28,649  INFO SettingsFactory:217 - JPA-QL strict compliance: disabled
15:02:28,650  INFO SettingsFactory:222 - Second-level cache: enabled
15:02:28,650  INFO SettingsFactory:226 - Query cache: disabled
15:02:28,651  INFO SettingsFactory:356 - Cache provider: org.hibernate.cache.HashtableCacheProvider
15:02:28,652  INFO SettingsFactory:241 - Optimize cache for minimal puts: disabled
15:02:28,653  INFO SettingsFactory:246 - Cache region prefix: hibernate.test
15:02:28,653  INFO SettingsFactory:250 - Structured second-level cache entries: disabled
15:02:28,655 DEBUG SQLExceptionConverterFactory:52 - Using dialect defined converter
15:02:28,660  INFO SettingsFactory:277 - Statistics: disabled
15:02:28,661  INFO SettingsFactory:281 - Deleted entity synthetic identifier rollback: disabled
15:02:28,661  INFO SettingsFactory:296 - Default entity-mode: pojo
15:02:28,807  INFO SessionFactoryImpl:161 - building session factory
15:02:28,809 DEBUG SessionFactoryImpl:173 - Session factory constructed with filter configurations : {}
15:02:28,811 DEBUG SessionFactoryImpl:177 - instantiating session factory with properties: {java.runtime.name=Java(TM) 2 Runtime Environment, Standard Edition, hibernate.connection.password=, hibernate.cache.provider_class=org.hibernate.cache.HashtableCacheProvider, sun.boot.library.path=/home/josh/lib/jdk1.5.0_07/jre/lib/amd64, java.vm.version=1.5.0_07-b03, hibernate.proxool.pool_alias=pool1, hibernate.connection.username=sa, java.vm.vendor=Sun Microsystems Inc., java.vendor.url=http://java.sun.com/, path.separator=:, java.vm.name=Java HotSpot(TM) 64-Bit Server VM, file.encoding.pkg=sun.io, user.country=AU, sun.os.patch.level=unknown, java.vm.specification.name=Java Virtual Machine Specification, user.dir=/home/josh/code/hibernateSVN/Hibernate3, java.runtime.version=1.5.0_07-b03, java.awt.graphicsenv=sun.awt.X11GraphicsEnvironment, java.endorsed.dirs=/home/josh/lib/jdk1.5.0_07/jre/lib/endorsed, os.arch=amd64, java.io.tmpdir=/tmp, line.separator=
, java.vm.specification.vendor=Sun Microsystems Inc., os.name=Linux, hibernate.jdbc.batch_versioned_data=true, hibernate.cache.region_prefix=hibernate.test, sun.jnu.encoding=UTF-8, java.library.path=/home/josh/lib/jdk1.5.0_07/jre/lib/amd64/server:/home/josh/lib/jdk1.5.0_07/jre/lib/amd64:/home/josh/lib/jdk1.5.0_07/jre/../lib/amd64:/home/josh/code/ice/Ice/lib:/home/josh/lib/jdk/jre/lib/i386, java.specification.name=Java Platform API Specification, java.class.version=49.0, hibernate.connection.pool_size=1, sun.management.compiler=HotSpot 64-Bit Server Compiler, os.version=2.6.15-26-amd64-generic, user.home=/home/josh, user.timezone=Europe/Berlin, java.awt.printerjob=sun.print.PSPrinterJob, java.specification.version=1.5, file.encoding=UTF-8, hibernate.format_sql=true, hibernate.connection.driver_class=org.hsqldb.jdbcDriver, user.name=josh, java.class.path=/home/josh/code/hibernateSVN/Hibernate3/lib/ant-1.6.5.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/ant-antlr-1.6.5.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/ant-junit-1.6.5.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/ant-launcher-1.6.5.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/ant-swing-1.6.5.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/antlr-2.7.6.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/asm-attrs.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/asm.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/c3p0-0.9.0.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/cglib-2.1.3.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/checkstyle-all.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/cleanimports.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/commons-collections-2.1.1.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/commons-logging-1.0.4.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/concurrent-1.3.2.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/connector.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/dom4j-1.6.1.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/ehcache-1.2.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/jaas.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/jacc-1_0-fr.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/javassist.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/jaxen-1.1-beta-7.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/jboss-cache.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/jboss-common.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/jboss-jmx.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/jboss-system.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/jdbc2_0-stdext.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/jgroups-2.2.8.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/jta.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/junit-3.8.1.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/log4j-1.2.11.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/oscache-2.1.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/proxool-0.8.3.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/swarmcache-1.0rc2.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/syndiag2.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/versioncheck.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/xerces-2.6.2.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/xml-apis.jar:/home/josh/code/hibernateSVN/Hibernate3/jdbc/hsqldb.jar:/home/josh/code/hibernateSVN/Hibernate3/build/classes:/home/josh/code/hibernateSVN/Hibernate3/etc:/home/josh/code/hibernateSVN/Hibernate3/build/testclasses:/home/josh/code/hibernateSVN/Hibernate3:/home/josh/lib/jdk/lib/tools.jar:/home/josh/lib/ant/lib/junit.jar:/home/josh/lib/apache-ant-1.6.5/lib/ant-launcher.jar:/home/josh/lib/ant/lib/ant.jar:/home/josh/lib/ant/lib/ant-junit.jar, hibernate.bytecode.use_reflection_optimizer=false, hibernate.query.substitutions=yes 'Y', no 'N', java.vm.specification.version=1.0, sun.arch.data.model=64, java.home=/home/josh/lib/jdk1.5.0_07/jre, hibernate.connection.url=jdbc:hsqldb:., hibernate.dialect=org.hibernate.dialect.HSQLDialect, java.specification.vendor=Sun Microsystems Inc., user.language=en, java.vm.info=mixed mode, java.version=1.5.0_07, hibernate.jdbc.use_streams_for_binary=true, java.ext.dirs=/home/josh/lib/jdk1.5.0_07/jre/lib/ext, sun.boot.class.path=/home/josh/lib/jdk1.5.0_07/jre/lib/rt.jar:/home/josh/lib/jdk1.5.0_07/jre/lib/i18n.jar:/home/josh/lib/jdk1.5.0_07/jre/lib/sunrsasign.jar:/home/josh/lib/jdk1.5.0_07/jre/lib/jsse.jar:/home/josh/lib/jdk1.5.0_07/jre/lib/jce.jar:/home/josh/lib/jdk1.5.0_07/jre/lib/charsets.jar:/home/josh/lib/jdk1.5.0_07/jre/classes, java.vendor=Sun Microsystems Inc., file.separator=/, java.vendor.url.bug=http://java.sun.com/cgi-bin/bugreport.cgi, hibernate.hbm2ddl.auto=create-drop, sun.cpu.endian=little, sun.io.unicode.encoding=UnicodeLittle, hibernate.max_fetch_depth=1, sun.cpu.isalist=}
15:02:28,837 DEBUG CacheFactory:39 - instantiating cache region: hibernate.test.Dirty usage strategy: nonstrict-read-write
15:02:29,688 DEBUG AbstractEntityPersister:2563 - Static SQL for entity: Dirty
15:02:29,689 DEBUG AbstractEntityPersister:2568 -  Version select: select id from Document where id =?
15:02:29,689 DEBUG AbstractEntityPersister:2571 -  Snapshot select: select dirty_.id, dirty_.title as title0_, dirty_.author as author0_, dirty_.year as year0_, dirty_.month as month0_, dirty_.summary as summary0_, dirty_.totalSales as totalSales0_, dirty_."text" as text8_0_ from Document dirty_ where dirty_.id=?
15:02:29,690 DEBUG AbstractEntityPersister:2574 -  Insert 0: insert into Document (title, author, year, month, summary, totalSales, "text", id) values (?, ?, ?, ?, ?, ?, ?, ?)
15:02:29,690 DEBUG AbstractEntityPersister:2575 -  Update 0: update Document set title=?, author=?, year=?, month=?, summary=?, totalSales=?, "text"=? where id=?
15:02:29,691 DEBUG AbstractEntityPersister:2576 -  Delete 0: delete from Document where id=?
15:02:29,695 DEBUG AbstractEntityPersister:2580 -  Identity insert: insert into Document (id, title, author, year, month, summary, totalSales, "text") values (null, ?, ?, ?, ?, ?, ?, ?)
15:02:29,697 DEBUG CacheFactory:39 - instantiating cache region: hibernate.test.All usage strategy: nonstrict-read-write
15:02:29,764 DEBUG AbstractEntityPersister:2563 - Static SQL for entity: All
15:02:29,764 DEBUG AbstractEntityPersister:2568 -  Version select: select id from Document where id =?
15:02:29,768 DEBUG AbstractEntityPersister:2571 -  Snapshot select: select all_.id, all_.title as title0_, all_.author as author0_, all_.year as year0_, all_.month as month0_, all_.summary as summary0_, all_.totalSales as totalSales0_, all_."text" as text8_0_ from Document all_ where all_.id=?
15:02:29,769 DEBUG AbstractEntityPersister:2574 -  Insert 0: insert into Document (title, author, year, month, summary, totalSales, "text", id) values (?, ?, ?, ?, ?, ?, ?, ?)
15:02:29,769 DEBUG AbstractEntityPersister:2575 -  Update 0: update Document set title=?, author=?, year=?, month=?, summary=?, totalSales=?, "text"=? where id=?
15:02:29,769 DEBUG AbstractEntityPersister:2576 -  Delete 0: delete from Document where id=?
15:02:29,770 DEBUG AbstractEntityPersister:2580 -  Identity insert: insert into Document (id, title, author, year, month, summary, totalSales, "text") values (null, ?, ?, ?, ?, ?, ?, ?)
15:02:29,792 DEBUG EntityLoader:79 - Static select for entity Dirty: select dirty0_.id as id0_0_, dirty0_.title as title0_0_, dirty0_.author as author0_0_, dirty0_.year as year0_0_, dirty0_.month as month0_0_, dirty0_.summary as summary0_0_, dirty0_.totalSales as totalSales0_0_, dirty0_."text" as text8_0_0_ from Document dirty0_ where dirty0_.id=?
15:02:29,793 DEBUG EntityLoader:79 - Static select for entity Dirty: select dirty0_.id as id0_0_, dirty0_.title as title0_0_, dirty0_.author as author0_0_, dirty0_.year as year0_0_, dirty0_.month as month0_0_, dirty0_.summary as summary0_0_, dirty0_.totalSales as totalSales0_0_, dirty0_."text" as text8_0_0_ from Document dirty0_ where dirty0_.id=?
15:02:29,794 DEBUG EntityLoader:79 - Static select for entity Dirty: select dirty0_.id as id0_0_, dirty0_.title as title0_0_, dirty0_.author as author0_0_, dirty0_.year as year0_0_, dirty0_.month as month0_0_, dirty0_.summary as summary0_0_, dirty0_.totalSales as totalSales0_0_, dirty0_."text" as text8_0_0_ from Document dirty0_ where dirty0_.id=?
15:02:29,795 DEBUG EntityLoader:79 - Static select for entity Dirty: select dirty0_.id as id0_0_, dirty0_.title as title0_0_, dirty0_.author as author0_0_, dirty0_.year as year0_0_, dirty0_.month as month0_0_, dirty0_.summary as summary0_0_, dirty0_.totalSales as totalSales0_0_, dirty0_."text" as text8_0_0_ from Document dirty0_ where dirty0_.id=?
15:02:29,804 DEBUG EntityLoader:34 - Static select for action ACTION_MERGE on entity Dirty: select dirty0_.id as id0_0_, dirty0_.title as title0_0_, dirty0_.author as author0_0_, dirty0_.year as year0_0_, dirty0_.month as month0_0_, dirty0_.summary as summary0_0_, dirty0_.totalSales as totalSales0_0_, dirty0_."text" as text8_0_0_ from Document dirty0_ where dirty0_.id=?
15:02:29,818 DEBUG EntityLoader:34 - Static select for action ACTION_REFRESH on entity Dirty: select dirty0_.id as id0_0_, dirty0_.title as title0_0_, dirty0_.author as author0_0_, dirty0_.year as year0_0_, dirty0_.month as month0_0_, dirty0_.summary as summary0_0_, dirty0_.totalSales as totalSales0_0_, dirty0_."text" as text8_0_0_ from Document dirty0_ where dirty0_.id=?
15:02:29,824 DEBUG EntityLoader:79 - Static select for entity All: select all0_.id as id0_0_, all0_.title as title0_0_, all0_.author as author0_0_, all0_.year as year0_0_, all0_.month as month0_0_, all0_.summary as summary0_0_, all0_.totalSales as totalSales0_0_, all0_."text" as text8_0_0_ from Document all0_ where all0_.id=?
15:02:29,828 DEBUG EntityLoader:79 - Static select for entity All: select all0_.id as id0_0_, all0_.title as title0_0_, all0_.author as author0_0_, all0_.year as year0_0_, all0_.month as month0_0_, all0_.summary as summary0_0_, all0_.totalSales as totalSales0_0_, all0_."text" as text8_0_0_ from Document all0_ where all0_.id=?
15:02:29,829 DEBUG EntityLoader:79 - Static select for entity All: select all0_.id as id0_0_, all0_.title as title0_0_, all0_.author as author0_0_, all0_.year as year0_0_, all0_.month as month0_0_, all0_.summary as summary0_0_, all0_.totalSales as totalSales0_0_, all0_."text" as text8_0_0_ from Document all0_ where all0_.id=?
15:02:29,829 DEBUG EntityLoader:79 - Static select for entity All: select all0_.id as id0_0_, all0_.title as title0_0_, all0_.author as author0_0_, all0_.year as year0_0_, all0_.month as month0_0_, all0_.summary as summary0_0_, all0_.totalSales as totalSales0_0_, all0_."text" as text8_0_0_ from Document all0_ where all0_.id=?
15:02:29,830 DEBUG EntityLoader:34 - Static select for action ACTION_MERGE on entity All: select all0_.id as id0_0_, all0_.title as title0_0_, all0_.author as author0_0_, all0_.year as year0_0_, all0_.month as month0_0_, all0_.summary as summary0_0_, all0_.totalSales as totalSales0_0_, all0_."text" as text8_0_0_ from Document all0_ where all0_.id=?
15:02:29,831 DEBUG EntityLoader:34 - Static select for action ACTION_REFRESH on entity All: select all0_.id as id0_0_, all0_.title as title0_0_, all0_.author as author0_0_, all0_.year as year0_0_, all0_.month as month0_0_, all0_.summary as summary0_0_, all0_.totalSales as totalSales0_0_, all0_."text" as text8_0_0_ from Document all0_ where all0_.id=?
15:02:29,834 DEBUG SessionFactoryObjectFactory:39 - initializing class SessionFactoryObjectFactory
15:02:29,837 DEBUG SessionFactoryObjectFactory:76 - registered: ff8081810c86e151010c86e155c80000 (unnamed)
15:02:29,837  INFO SessionFactoryObjectFactory:82 - Not binding factory to JNDI, no JNDI name configured
15:02:29,837 DEBUG SessionFactoryImpl:308 - instantiated session factory
15:02:29,842 DEBUG Configuration:1044 - processing extends queue
15:02:29,842 DEBUG Configuration:1048 - processing collection mappings
15:02:29,843 DEBUG Configuration:1059 - processing native query and ResultSetMapping mappings
15:02:29,843 DEBUG Configuration:1067 - processing association property references
15:02:29,843 DEBUG Configuration:1089 - processing foreign key constraints
15:02:29,844 DEBUG Configuration:1044 - processing extends queue
15:02:29,845 DEBUG Configuration:1048 - processing collection mappings
15:02:29,881 DEBUG Configuration:1059 - processing native query and ResultSetMapping mappings
15:02:29,882 DEBUG Configuration:1067 - processing association property references
15:02:29,882 DEBUG Configuration:1089 - processing foreign key constraints
15:02:29,884  INFO SchemaExport:154 - Running hbm2ddl schema export
15:02:29,887 DEBUG SchemaExport:170 - import file not found: /import.sql
15:02:29,887  INFO SchemaExport:179 - exporting generated schema to database
15:02:29,887 DEBUG DriverManagerConnectionProvider:93 - total checked-out connections: 0
15:02:29,888 DEBUG DriverManagerConnectionProvider:99 - using pooled JDBC connection, pool size: 0
15:02:29,889 DEBUG SchemaExport:303 - 
    drop table Document if exists
15:02:29,890 DEBUG SchemaExport:303 - 
    create table Document (
        id bigint generated by default as identity (start with 1),
        title varchar(255),
        author varchar(255),
        year integer not null,
        month integer,
        summary varchar(255),
        totalSales integer,
        "text" varchar(255),
        primary key (id)
    )
15:02:29,895  INFO SchemaExport:196 - schema export complete
15:02:29,896 DEBUG DriverManagerConnectionProvider:129 - returning connection to pool, pool size: 1
15:02:29,897 DEBUG Configuration:1044 - processing extends queue
15:02:29,897 DEBUG Configuration:1048 - processing collection mappings
15:02:29,897 DEBUG Configuration:1059 - processing native query and ResultSetMapping mappings
15:02:29,898 DEBUG Configuration:1067 - processing association property references
15:02:29,898 DEBUG Configuration:1089 - processing foreign key constraints
15:02:29,899 DEBUG Configuration:1044 - processing extends queue
15:02:29,899 DEBUG Configuration:1048 - processing collection mappings
15:02:29,899 DEBUG Configuration:1059 - processing native query and ResultSetMapping mappings
15:02:29,899 DEBUG Configuration:1067 - processing association property references
15:02:29,902 DEBUG Configuration:1089 - processing foreign key constraints
15:02:29,903 DEBUG SessionFactoryImpl:390 - Checking 0 named HQL queries
15:02:29,903 DEBUG SessionFactoryImpl:410 - Checking 0 named SQL queries
15:02:29,944 DEBUG SessionImpl:220 - opened session at timestamp: 4723974758014976
15:02:29,947 DEBUG JDBCTransaction:54 - begin
15:02:29,947 DEBUG ConnectionManager:415 - opening JDBC connection
15:02:29,948 DEBUG DriverManagerConnectionProvider:93 - total checked-out connections: 0
15:02:29,948 DEBUG DriverManagerConnectionProvider:99 - using pooled JDBC connection, pool size: 0
15:02:29,948 DEBUG JDBCTransaction:59 - current autocommit status: false
15:02:29,949 DEBUG JDBCContext:210 - after transaction begin
15:02:29,952 DEBUG DefaultSaveOrUpdateEventListener:161 - saving transient instance
15:02:29,954 DEBUG AbstractSaveEventListener:152 - saving [Dirty#<null>]
15:02:29,955 DEBUG AbstractSaveEventListener:240 - executing insertions
15:02:29,967 DEBUG AbstractSaveEventListener:289 - executing identity-insert immediately
15:02:29,968 DEBUG AbstractEntityPersister:2042 - Inserting entity: Dirty (native id)
15:02:29,969 DEBUG AbstractBatcher:358 - about to open PreparedStatement (open PreparedStatements: 0, globally: 0)
15:02:29,972 DEBUG SQL:393 - 
    insert 
    into
        Document
        (id, title, author, year, month, summary, totalSales, "text") 
    values
        (null, ?, ?, ?, ?, ?, ?, ?)
15:02:29,973 DEBUG AbstractBatcher:476 - preparing statement
15:02:29,979 DEBUG AbstractEntityPersister:1917 - Dehydrating entity: [Dirty#<null>]
15:02:29,987 DEBUG AbstractBatcher:366 - about to close PreparedStatement (open PreparedStatements: 1, globally: 1)
15:02:29,988 DEBUG AbstractBatcher:525 - closing statement
15:02:29,988 DEBUG AbstractBatcher:358 - about to open PreparedStatement (open PreparedStatements: 0, globally: 0)
15:02:29,989 DEBUG SQL:393 - 
    call identity()
15:02:29,989 DEBUG AbstractBatcher:476 - preparing statement
15:02:29,990 DEBUG IdentifierGeneratorFactory:37 - Natively generated identity: 1
15:02:29,991 DEBUG AbstractBatcher:366 - about to close PreparedStatement (open PreparedStatements: 1, globally: 1)
15:02:29,991 DEBUG AbstractBatcher:525 - closing statement
15:02:29,996 DEBUG AbstractFlushingEventListener:58 - flushing session
15:02:29,997 DEBUG AbstractFlushingEventListener:111 - processing flush-time cascades
15:02:29,998 DEBUG AbstractFlushingEventListener:153 - dirty checking collections
15:02:29,999 DEBUG AbstractFlushingEventListener:170 - Flushing entities and processing referenced collections
15:02:30,002 DEBUG AbstractFlushingEventListener:209 - Processing unreferenced collections
15:02:30,002 DEBUG AbstractFlushingEventListener:223 - Scheduling collection removes/(re)creates/updates
15:02:30,003 DEBUG AbstractFlushingEventListener:85 - Flushed: 0 insertions, 0 updates, 0 deletions to 1 objects
15:02:30,044 DEBUG AbstractFlushingEventListener:91 - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
15:02:30,046 DEBUG Printer:83 - listing entities:
15:02:30,046 DEBUG Printer:90 - org.hibernate.test.optlock.Document
15:02:30,046 DEBUG AbstractFlushingEventListener:289 - executing flush
15:02:30,047 DEBUG ConnectionManager:463 - registering flush begin
15:02:30,047 DEBUG ConnectionManager:472 - registering flush end
15:02:30,047 DEBUG AbstractFlushingEventListener:320 - post flush
15:02:30,048 DEBUG AbstractFlushingEventListener:58 - flushing session
15:02:30,048 DEBUG AbstractFlushingEventListener:111 - processing flush-time cascades
15:02:30,048 DEBUG AbstractFlushingEventListener:153 - dirty checking collections
15:02:30,049 DEBUG AbstractFlushingEventListener:170 - Flushing entities and processing referenced collections
15:02:30,049 DEBUG AbstractEntityPersister:3000 - Dirty.summary is dirty
15:02:30,050 DEBUG DefaultFlushEntityEventListener:229 - Updating entity: [Dirty#1]
15:02:30,052 DEBUG AbstractFlushingEventListener:209 - Processing unreferenced collections
15:02:30,054 DEBUG AbstractFlushingEventListener:223 - Scheduling collection removes/(re)creates/updates
15:02:30,055 DEBUG AbstractFlushingEventListener:85 - Flushed: 0 insertions, 1 updates, 0 deletions to 1 objects
15:02:30,055 DEBUG AbstractFlushingEventListener:91 - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
15:02:30,055 DEBUG Printer:83 - listing entities:
15:02:30,056 DEBUG Printer:90 - org.hibernate.test.optlock.Document
15:02:30,056 DEBUG AbstractFlushingEventListener:289 - executing flush
15:02:30,056 DEBUG ConnectionManager:463 - registering flush begin
15:02:30,061 DEBUG AbstractEntityPersister:2237 - Updating entity: [Dirty#1]
15:02:30,061 DEBUG AbstractBatcher:358 - about to open PreparedStatement (open PreparedStatements: 0, globally: 0)
15:02:30,071 DEBUG SQL:393 - 
    update
        Document 
    set
        summary=? 
    where
        id=? 
        and summary=?
15:02:30,071 DEBUG AbstractBatcher:476 - preparing statement
15:02:30,074 DEBUG AbstractEntityPersister:1917 - Dehydrating entity: [Dirty#1]
15:02:30,074 DEBUG NonstrictReadWriteCache:116 - Invalidating: Dirty#1
15:02:30,075 DEBUG AbstractBatcher:44 - Executing batch size: 1
15:02:30,076 DEBUG AbstractBatcher:366 - about to close PreparedStatement (open PreparedStatements: 1, globally: 1)
15:02:30,076 DEBUG AbstractBatcher:525 - closing statement
15:02:30,076 DEBUG ConnectionManager:472 - registering flush end
15:02:30,077 DEBUG AbstractFlushingEventListener:320 - post flush
15:02:30,077 DEBUG AbstractFlushingEventListener:58 - flushing session
15:02:30,077 DEBUG AbstractFlushingEventListener:111 - processing flush-time cascades
15:02:30,084 DEBUG AbstractFlushingEventListener:153 - dirty checking collections
15:02:30,084 DEBUG AbstractFlushingEventListener:170 - Flushing entities and processing referenced collections
15:02:30,084 DEBUG AbstractEntityPersister:3000 - Dirty.pubDate is dirty
15:02:30,085 DEBUG DefaultFlushEntityEventListener:229 - Updating entity: [Dirty#1]
15:02:30,085 DEBUG AbstractFlushingEventListener:209 - Processing unreferenced collections
15:02:30,085 DEBUG AbstractFlushingEventListener:223 - Scheduling collection removes/(re)creates/updates
15:02:30,086 DEBUG AbstractFlushingEventListener:85 - Flushed: 0 insertions, 1 updates, 0 deletions to 1 objects
15:02:30,086 DEBUG AbstractFlushingEventListener:91 - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
15:02:30,086 DEBUG Printer:83 - listing entities:
15:02:30,087 DEBUG Printer:90 - org.hibernate.test.optlock.Document
15:02:30,087 DEBUG AbstractFlushingEventListener:289 - executing flush
15:02:30,087 DEBUG ConnectionManager:463 - registering flush begin
15:02:30,088 DEBUG AbstractEntityPersister:2237 - Updating entity: [Dirty#1]
15:02:30,090 DEBUG AbstractBatcher:358 - about to open PreparedStatement (open PreparedStatements: 0, globally: 0)
15:02:30,091 DEBUG SQL:393 - 
    update
        Document 
    set
        year=?,
        month=? 
    where
        id=? 
        and year=? 
        and month is null
15:02:30,092 DEBUG AbstractBatcher:476 - preparing statement
15:02:30,093 DEBUG AbstractEntityPersister:1917 - Dehydrating entity: [Dirty#1]
15:02:30,100 DEBUG NonstrictReadWriteCache:116 - Invalidating: Dirty#1
15:02:30,101 DEBUG AbstractBatcher:44 - Executing batch size: 1
15:02:30,101 DEBUG AbstractBatcher:366 - about to close PreparedStatement (open PreparedStatements: 1, globally: 1)
15:02:30,104 DEBUG AbstractBatcher:525 - closing statement
15:02:30,105 DEBUG ConnectionManager:472 - registering flush end
15:02:30,105 DEBUG AbstractFlushingEventListener:320 - post flush
15:02:30,107 DEBUG DefaultDeleteEventListener:108 - deleting a persistent instance
15:02:30,108 DEBUG DefaultDeleteEventListener:178 - deleting [Dirty#1]
15:02:30,108 DEBUG SessionImpl:1308 - setting cache mode to: GET
15:02:30,108 DEBUG SessionImpl:1308 - setting cache mode to: NORMAL
15:02:30,110 DEBUG SessionImpl:1308 - setting cache mode to: GET
15:02:30,110 DEBUG SessionImpl:1308 - setting cache mode to: NORMAL
15:02:30,111 DEBUG JDBCTransaction:103 - commit
15:02:30,111 DEBUG SessionImpl:337 - automatically flushing session
15:02:30,111 DEBUG AbstractFlushingEventListener:58 - flushing session
15:02:30,112 DEBUG AbstractFlushingEventListener:111 - processing flush-time cascades
15:02:30,112 DEBUG AbstractFlushingEventListener:153 - dirty checking collections
15:02:30,112 DEBUG AbstractFlushingEventListener:170 - Flushing entities and processing referenced collections
15:02:30,112 DEBUG AbstractFlushingEventListener:209 - Processing unreferenced collections
15:02:30,113 DEBUG AbstractFlushingEventListener:223 - Scheduling collection removes/(re)creates/updates
15:02:30,113 DEBUG AbstractFlushingEventListener:85 - Flushed: 0 insertions, 0 updates, 1 deletions to 1 objects
15:02:30,113 DEBUG AbstractFlushingEventListener:91 - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
15:02:30,114 DEBUG Printer:83 - listing entities:
15:02:30,114 DEBUG Printer:90 - org.hibernate.test.optlock.Document
15:02:30,114 DEBUG AbstractFlushingEventListener:289 - executing flush
15:02:30,115 DEBUG ConnectionManager:463 - registering flush begin
15:02:30,115 DEBUG AbstractEntityPersister:2353 - Deleting entity: [Dirty#1]
15:02:30,123 DEBUG AbstractBatcher:358 - about to open PreparedStatement (open PreparedStatements: 0, globally: 0)
15:02:30,124 DEBUG SQL:393 - 
    delete 
    from
        Document 
    where
        id=?
15:02:30,126 DEBUG AbstractBatcher:476 - preparing statement
15:02:30,127 DEBUG NonstrictReadWriteCache:116 - Invalidating: Dirty#1
15:02:30,127 DEBUG AbstractBatcher:44 - Executing batch size: 1
15:02:30,128 DEBUG AbstractBatcher:366 - about to close PreparedStatement (open PreparedStatements: 1, globally: 1)
15:02:30,128 DEBUG AbstractBatcher:525 - closing statement
15:02:30,128 DEBUG ConnectionManager:472 - registering flush end
15:02:30,128 DEBUG AbstractFlushingEventListener:320 - post flush
15:02:30,129 DEBUG JDBCContext:201 - before transaction completion
15:02:30,129 DEBUG SessionImpl:393 - before transaction completion
15:02:30,129 DEBUG JDBCTransaction:116 - committed JDBC Connection
15:02:30,129 DEBUG JDBCContext:215 - after transaction completion
15:02:30,130 DEBUG ConnectionManager:398 - aggressively releasing JDBC connection
15:02:30,130 DEBUG ConnectionManager:435 - releasing JDBC connection [ (open PreparedStatements: 0, globally: 0) (open ResultSets: 0, globally: 0)]
15:02:30,130 DEBUG DriverManagerConnectionProvider:129 - returning connection to pool, pool size: 1
15:02:30,130 DEBUG SessionImpl:422 - after transaction completion
15:02:30,131 DEBUG NonstrictReadWriteCache:142 - Invalidating (again): Dirty#1
15:02:30,131 DEBUG NonstrictReadWriteCache:142 - Invalidating (again): Dirty#1
15:02:30,131 DEBUG NonstrictReadWriteCache:142 - Invalidating (again): Dirty#1
15:02:30,132 DEBUG SessionImpl:273 - closing session
15:02:30,132 DEBUG ConnectionManager:369 - connection already null in cleanup : no action
15:02:30,134 DEBUG SessionImpl:220 - opened session at timestamp: 4723974758948864
15:02:30,134 DEBUG JDBCTransaction:54 - begin
15:02:30,134 DEBUG ConnectionManager:415 - opening JDBC connection
15:02:30,135 DEBUG DriverManagerConnectionProvider:93 - total checked-out connections: 0
15:02:30,135 DEBUG DriverManagerConnectionProvider:99 - using pooled JDBC connection, pool size: 0
15:02:30,135 DEBUG JDBCTransaction:59 - current autocommit status: false
15:02:30,135 DEBUG JDBCContext:210 - after transaction begin
15:02:30,136 DEBUG DefaultSaveOrUpdateEventListener:161 - saving transient instance
15:02:30,136 DEBUG AbstractSaveEventListener:152 - saving [All#<null>]
15:02:30,136 DEBUG AbstractSaveEventListener:240 - executing insertions
15:02:30,137 DEBUG AbstractSaveEventListener:289 - executing identity-insert immediately
15:02:30,137 DEBUG AbstractEntityPersister:2042 - Inserting entity: All (native id)
15:02:30,137 DEBUG AbstractBatcher:358 - about to open PreparedStatement (open PreparedStatements: 0, globally: 0)
15:02:30,141 DEBUG SQL:393 - 
    insert 
    into
        Document
        (id, title, author, year, month, summary, totalSales, "text") 
    values
        (null, ?, ?, ?, ?, ?, ?, ?)
15:02:30,143 DEBUG AbstractBatcher:476 - preparing statement
15:02:30,149 DEBUG AbstractEntityPersister:1917 - Dehydrating entity: [All#<null>]
15:02:30,149 DEBUG AbstractBatcher:366 - about to close PreparedStatement (open PreparedStatements: 1, globally: 1)
15:02:30,149 DEBUG AbstractBatcher:525 - closing statement
15:02:30,150 DEBUG AbstractBatcher:358 - about to open PreparedStatement (open PreparedStatements: 0, globally: 0)
15:02:30,150 DEBUG SQL:393 - 
    call identity()
15:02:30,152 DEBUG AbstractBatcher:476 - preparing statement
15:02:30,152 DEBUG IdentifierGeneratorFactory:37 - Natively generated identity: 2
15:02:30,153 DEBUG AbstractBatcher:366 - about to close PreparedStatement (open PreparedStatements: 1, globally: 1)
15:02:30,153 DEBUG AbstractBatcher:525 - closing statement
15:02:30,153 DEBUG AbstractFlushingEventListener:58 - flushing session
15:02:30,154 DEBUG AbstractFlushingEventListener:111 - processing flush-time cascades
15:02:30,154 DEBUG AbstractFlushingEventListener:153 - dirty checking collections
15:02:30,154 DEBUG AbstractFlushingEventListener:170 - Flushing entities and processing referenced collections
15:02:30,155 DEBUG AbstractFlushingEventListener:209 - Processing unreferenced collections
15:02:30,155 DEBUG AbstractFlushingEventListener:223 - Scheduling collection removes/(re)creates/updates
15:02:30,155 DEBUG AbstractFlushingEventListener:85 - Flushed: 0 insertions, 0 updates, 0 deletions to 1 objects
15:02:30,155 DEBUG AbstractFlushingEventListener:91 - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
15:02:30,155 DEBUG Printer:83 - listing entities:
15:02:30,156 DEBUG Printer:90 - org.hibernate.test.optlock.Document
15:02:30,156 DEBUG AbstractFlushingEventListener:289 - executing flush
15:02:30,156 DEBUG ConnectionManager:463 - registering flush begin
15:02:30,156 DEBUG ConnectionManager:472 - registering flush end
15:02:30,156 DEBUG AbstractFlushingEventListener:320 - post flush
15:02:30,157 DEBUG AbstractFlushingEventListener:58 - flushing session
15:02:30,157 DEBUG AbstractFlushingEventListener:111 - processing flush-time cascades
15:02:30,157 DEBUG AbstractFlushingEventListener:153 - dirty checking collections
15:02:30,157 DEBUG AbstractFlushingEventListener:170 - Flushing entities and processing referenced collections
15:02:30,158 DEBUG AbstractEntityPersister:3000 - All.summary is dirty
15:02:30,158 DEBUG DefaultFlushEntityEventListener:229 - Updating entity: [All#2]
15:02:30,158 DEBUG AbstractFlushingEventListener:209 - Processing unreferenced collections
15:02:30,160 DEBUG AbstractFlushingEventListener:223 - Scheduling collection removes/(re)creates/updates
15:02:30,160 DEBUG AbstractFlushingEventListener:85 - Flushed: 0 insertions, 1 updates, 0 deletions to 1 objects
15:02:30,160 DEBUG AbstractFlushingEventListener:91 - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
15:02:30,161 DEBUG Printer:83 - listing entities:
15:02:30,161 DEBUG Printer:90 - org.hibernate.test.optlock.Document
15:02:30,161 DEBUG AbstractFlushingEventListener:289 - executing flush
15:02:30,161 DEBUG ConnectionManager:463 - registering flush begin
15:02:30,162 DEBUG AbstractEntityPersister:2237 - Updating entity: [All#2]
15:02:30,162 DEBUG AbstractBatcher:358 - about to open PreparedStatement (open PreparedStatements: 0, globally: 0)
15:02:30,163 DEBUG SQL:393 - 
    update
        Document 
    set
        summary=? 
    where
        id=? 
        and title=? 
        and author=? 
        and year=? 
        and month is null 
        and summary=? 
        and "text"=?
15:02:30,163 DEBUG AbstractBatcher:476 - preparing statement
15:02:30,164 DEBUG AbstractEntityPersister:1917 - Dehydrating entity: [All#2]
15:02:30,164 DEBUG NonstrictReadWriteCache:116 - Invalidating: All#2
15:02:30,165 DEBUG AbstractBatcher:44 - Executing batch size: 1
15:02:30,165 DEBUG AbstractBatcher:366 - about to close PreparedStatement (open PreparedStatements: 1, globally: 1)
15:02:30,165 DEBUG AbstractBatcher:525 - closing statement
15:02:30,166 DEBUG ConnectionManager:472 - registering flush end
15:02:30,166 DEBUG AbstractFlushingEventListener:320 - post flush
15:02:30,166 DEBUG AbstractFlushingEventListener:58 - flushing session
15:02:30,166 DEBUG AbstractFlushingEventListener:111 - processing flush-time cascades
15:02:30,167 DEBUG AbstractFlushingEventListener:153 - dirty checking collections
15:02:30,167 DEBUG AbstractFlushingEventListener:170 - Flushing entities and processing referenced collections
15:02:30,167 DEBUG AbstractEntityPersister:3000 - All.pubDate is dirty
15:02:30,167 DEBUG DefaultFlushEntityEventListener:229 - Updating entity: [All#2]
15:02:30,168 DEBUG AbstractFlushingEventListener:209 - Processing unreferenced collections
15:02:30,168 DEBUG AbstractFlushingEventListener:223 - Scheduling collection removes/(re)creates/updates
15:02:30,168 DEBUG AbstractFlushingEventListener:85 - Flushed: 0 insertions, 1 updates, 0 deletions to 1 objects
15:02:30,168 DEBUG AbstractFlushingEventListener:91 - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
15:02:30,168 DEBUG Printer:83 - listing entities:
15:02:30,169 DEBUG Printer:90 - org.hibernate.test.optlock.Document
15:02:30,169 DEBUG AbstractFlushingEventListener:289 - executing flush
15:02:30,169 DEBUG ConnectionManager:463 - registering flush begin
15:02:30,169 DEBUG AbstractEntityPersister:2237 - Updating entity: [All#2]
15:02:30,170 DEBUG AbstractBatcher:358 - about to open PreparedStatement (open PreparedStatements: 0, globally: 0)
15:02:30,172 DEBUG SQL:393 - 
    update
        Document 
    set
        year=?,
        month=? 
    where
        id=? 
        and title=? 
        and author=? 
        and year=? 
        and month is null 
        and summary=? 
        and "text"=?
15:02:30,173 DEBUG AbstractBatcher:476 - preparing statement
15:02:30,174 DEBUG AbstractEntityPersister:1917 - Dehydrating entity: [All#2]
15:02:30,174 DEBUG NonstrictReadWriteCache:116 - Invalidating: All#2
15:02:30,174 DEBUG AbstractBatcher:44 - Executing batch size: 1
15:02:30,175 DEBUG AbstractBatcher:366 - about to close PreparedStatement (open PreparedStatements: 1, globally: 1)
15:02:30,175 DEBUG AbstractBatcher:525 - closing statement
15:02:30,175 DEBUG ConnectionManager:472 - registering flush end
15:02:30,176 DEBUG AbstractFlushingEventListener:320 - post flush
15:02:30,176 DEBUG DefaultDeleteEventListener:108 - deleting a persistent instance
15:02:30,176 DEBUG DefaultDeleteEventListener:178 - deleting [All#2]
15:02:30,176 DEBUG SessionImpl:1308 - setting cache mode to: GET
15:02:30,176 DEBUG SessionImpl:1308 - setting cache mode to: NORMAL
15:02:30,177 DEBUG SessionImpl:1308 - setting cache mode to: GET
15:02:30,177 DEBUG SessionImpl:1308 - setting cache mode to: NORMAL
15:02:30,177 DEBUG JDBCTransaction:103 - commit
15:02:30,177 DEBUG SessionImpl:337 - automatically flushing session
15:02:30,178 DEBUG AbstractFlushingEventListener:58 - flushing session
15:02:30,178 DEBUG AbstractFlushingEventListener:111 - processing flush-time cascades
15:02:30,178 DEBUG AbstractFlushingEventListener:153 - dirty checking collections
15:02:30,178 DEBUG AbstractFlushingEventListener:170 - Flushing entities and processing referenced collections
15:02:30,179 DEBUG AbstractFlushingEventListener:209 - Processing unreferenced collections
15:02:30,179 DEBUG AbstractFlushingEventListener:223 - Scheduling collection removes/(re)creates/updates
15:02:30,179 DEBUG AbstractFlushingEventListener:85 - Flushed: 0 insertions, 0 updates, 1 deletions to 1 objects
15:02:30,179 DEBUG AbstractFlushingEventListener:91 - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
15:02:30,179 DEBUG Printer:83 - listing entities:
15:02:30,180 DEBUG Printer:90 - org.hibernate.test.optlock.Document
15:02:30,180 DEBUG AbstractFlushingEventListener:289 - executing flush
15:02:30,180 DEBUG ConnectionManager:463 - registering flush begin
15:02:30,180 DEBUG AbstractEntityPersister:2353 - Deleting entity: [All#2]
15:02:30,181 DEBUG AbstractBatcher:358 - about to open PreparedStatement (open PreparedStatements: 0, globally: 0)
15:02:30,181 DEBUG SQL:393 - 
    delete 
    from
        Document 
    where
        id=?
15:02:30,181 DEBUG AbstractBatcher:476 - preparing statement
15:02:30,183 DEBUG NonstrictReadWriteCache:116 - Invalidating: All#2
15:02:30,184 DEBUG AbstractBatcher:44 - Executing batch size: 1
15:02:30,184 DEBUG AbstractBatcher:366 - about to close PreparedStatement (open PreparedStatements: 1, globally: 1)
15:02:30,184 DEBUG AbstractBatcher:525 - closing statement
15:02:30,185 DEBUG ConnectionManager:472 - registering flush end
15:02:30,185 DEBUG AbstractFlushingEventListener:320 - post flush
15:02:30,185 DEBUG JDBCContext:201 - before transaction completion
15:02:30,185 DEBUG SessionImpl:393 - before transaction completion
15:02:30,185 DEBUG JDBCTransaction:116 - committed JDBC Connection
15:02:30,186 DEBUG JDBCContext:215 - after transaction completion
15:02:30,186 DEBUG ConnectionManager:398 - aggressively releasing JDBC connection
15:02:30,186 DEBUG ConnectionManager:435 - releasing JDBC connection [ (open PreparedStatements: 0, globally: 0) (open ResultSets: 0, globally: 0)]
15:02:30,186 DEBUG DriverManagerConnectionProvider:129 - returning connection to pool, pool size: 1
15:02:30,186 DEBUG SessionImpl:422 - after transaction completion
15:02:30,187 DEBUG NonstrictReadWriteCache:142 - Invalidating (again): All#2
15:02:30,187 DEBUG NonstrictReadWriteCache:142 - Invalidating (again): All#2
15:02:30,187 DEBUG NonstrictReadWriteCache:142 - Invalidating (again): All#2
15:02:30,187 DEBUG SessionImpl:273 - closing session
15:02:30,188 DEBUG ConnectionManager:369 - connection already null in cleanup : no action
15:02:30,188 DEBUG SessionImpl:220 - opened session at timestamp: 4723974759170048
15:02:30,188 DEBUG JDBCTransaction:54 - begin
15:02:30,189 DEBUG ConnectionManager:415 - opening JDBC connection
15:02:30,189 DEBUG DriverManagerConnectionProvider:93 - total checked-out connections: 0
15:02:30,189 DEBUG DriverManagerConnectionProvider:99 - using pooled JDBC connection, pool size: 0
15:02:30,189 DEBUG JDBCTransaction:59 - current autocommit status: false
15:02:30,189 DEBUG JDBCContext:210 - after transaction begin
15:02:30,190 DEBUG DefaultSaveOrUpdateEventListener:161 - saving transient instance
15:02:30,190 DEBUG AbstractSaveEventListener:152 - saving [Dirty#<null>]
15:02:30,190 DEBUG AbstractSaveEventListener:240 - executing insertions
15:02:30,190 DEBUG AbstractSaveEventListener:289 - executing identity-insert immediately
15:02:30,191 DEBUG AbstractEntityPersister:2042 - Inserting entity: Dirty (native id)
15:02:30,191 DEBUG AbstractBatcher:358 - about to open PreparedStatement (open PreparedStatements: 0, globally: 0)
15:02:30,192 DEBUG SQL:393 - 
    insert 
    into
        Document
        (id, title, author, year, month, summary, totalSales, "text") 
    values
        (null, ?, ?, ?, ?, ?, ?, ?)
15:02:30,192 DEBUG AbstractBatcher:476 - preparing statement
15:02:30,194 DEBUG AbstractEntityPersister:1917 - Dehydrating entity: [Dirty#<null>]
15:02:30,195 DEBUG AbstractBatcher:366 - about to close PreparedStatement (open PreparedStatements: 1, globally: 1)
15:02:30,195 DEBUG AbstractBatcher:525 - closing statement
15:02:30,196 DEBUG AbstractBatcher:358 - about to open PreparedStatement (open PreparedStatements: 0, globally: 0)
15:02:30,196 DEBUG SQL:393 - 
    call identity()
15:02:30,196 DEBUG AbstractBatcher:476 - preparing statement
15:02:30,197 DEBUG IdentifierGeneratorFactory:37 - Natively generated identity: 3
15:02:30,197 DEBUG AbstractBatcher:366 - about to close PreparedStatement (open PreparedStatements: 1, globally: 1)
15:02:30,197 DEBUG AbstractBatcher:525 - closing statement
15:02:30,198 DEBUG AbstractFlushingEventListener:58 - flushing session
15:02:30,198 DEBUG AbstractFlushingEventListener:111 - processing flush-time cascades
15:02:30,198 DEBUG AbstractFlushingEventListener:153 - dirty checking collections
15:02:30,198 DEBUG AbstractFlushingEventListener:170 - Flushing entities and processing referenced collections
15:02:30,199 DEBUG AbstractFlushingEventListener:209 - Processing unreferenced collections
15:02:30,199 DEBUG AbstractFlushingEventListener:223 - Scheduling collection removes/(re)creates/updates
15:02:30,199 DEBUG AbstractFlushingEventListener:85 - Flushed: 0 insertions, 0 updates, 0 deletions to 1 objects
15:02:30,199 DEBUG AbstractFlushingEventListener:91 - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
15:02:30,200 DEBUG Printer:83 - listing entities:
15:02:30,200 DEBUG Printer:90 - org.hibernate.test.optlock.Document
15:02:30,200 DEBUG AbstractFlushingEventListener:289 - executing flush
15:02:30,200 DEBUG ConnectionManager:463 - registering flush begin
15:02:30,200 DEBUG ConnectionManager:472 - registering flush end
15:02:30,201 DEBUG AbstractFlushingEventListener:320 - post flush
15:02:30,201 DEBUG AbstractFlushingEventListener:58 - flushing session
15:02:30,201 DEBUG AbstractFlushingEventListener:111 - processing flush-time cascades
15:02:30,201 DEBUG AbstractFlushingEventListener:153 - dirty checking collections
15:02:30,201 DEBUG AbstractFlushingEventListener:170 - Flushing entities and processing referenced collections
15:02:30,202 DEBUG AbstractEntityPersister:3000 - Dirty.summary is dirty
15:02:30,202 DEBUG DefaultFlushEntityEventListener:229 - Updating entity: [Dirty#3]
15:02:30,203 DEBUG AbstractFlushingEventListener:209 - Processing unreferenced collections
15:02:30,203 DEBUG AbstractFlushingEventListener:223 - Scheduling collection removes/(re)creates/updates
15:02:30,203 DEBUG AbstractFlushingEventListener:85 - Flushed: 0 insertions, 1 updates, 0 deletions to 1 objects
15:02:30,205 DEBUG AbstractFlushingEventListener:91 - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
15:02:30,205 DEBUG Printer:83 - listing entities:
15:02:30,205 DEBUG Printer:90 - org.hibernate.test.optlock.Document
15:02:30,205 DEBUG AbstractFlushingEventListener:289 - executing flush
15:02:30,206 DEBUG ConnectionManager:463 - registering flush begin
15:02:30,206 DEBUG AbstractEntityPersister:2237 - Updating entity: [Dirty#3]
15:02:30,206 DEBUG AbstractBatcher:358 - about to open PreparedStatement (open PreparedStatements: 0, globally: 0)
15:02:30,207 DEBUG SQL:393 - 
    update
        Document 
    set
        summary=? 
    where
        id=? 
        and summary=?
15:02:30,207 DEBUG AbstractBatcher:476 - preparing statement
15:02:30,208 DEBUG AbstractEntityPersister:1917 - Dehydrating entity: [Dirty#3]
15:02:30,208 DEBUG NonstrictReadWriteCache:116 - Invalidating: Dirty#3
15:02:30,208 DEBUG AbstractBatcher:44 - Executing batch size: 1
15:02:30,209 DEBUG AbstractBatcher:366 - about to close PreparedStatement (open PreparedStatements: 1, globally: 1)
15:02:30,209 DEBUG AbstractBatcher:525 - closing statement
15:02:30,209 DEBUG ConnectionManager:472 - registering flush end
15:02:30,209 DEBUG AbstractFlushingEventListener:320 - post flush
15:02:30,210 DEBUG AbstractFlushingEventListener:58 - flushing session
15:02:30,210 DEBUG AbstractFlushingEventListener:111 - processing flush-time cascades
15:02:30,210 DEBUG AbstractFlushingEventListener:153 - dirty checking collections
15:02:30,210 DEBUG AbstractFlushingEventListener:170 - Flushing entities and processing referenced collections
15:02:30,211 DEBUG AbstractEntityPersister:3000 - Dirty.pubDate is dirty
15:02:30,211 DEBUG DefaultFlushEntityEventListener:229 - Updating entity: [Dirty#3]
15:02:30,211 DEBUG AbstractFlushingEventListener:209 - Processing unreferenced collections
15:02:30,211 DEBUG AbstractFlushingEventListener:223 - Scheduling collection removes/(re)creates/updates
15:02:30,212 DEBUG AbstractFlushingEventListener:85 - Flushed: 0 insertions, 1 updates, 0 deletions to 1 objects
15:02:30,212 DEBUG AbstractFlushingEventListener:91 - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
15:02:30,212 DEBUG Printer:83 - listing entities:
15:02:30,212 DEBUG Printer:90 - org.hibernate.test.optlock.Document
15:02:30,212 DEBUG AbstractFlushingEventListener:289 - executing flush
15:02:30,213 DEBUG ConnectionManager:463 - registering flush begin
15:02:30,213 DEBUG AbstractEntityPersister:2237 - Updating entity: [Dirty#3]
15:02:30,213 DEBUG AbstractBatcher:358 - about to open PreparedStatement (open PreparedStatements: 0, globally: 0)
15:02:30,214 DEBUG SQL:393 - 
    update
        Document 
    set
        year=?,
        month=? 
    where
        id=? 
        and year=? 
        and month is null
15:02:30,216 DEBUG AbstractBatcher:476 - preparing statement
15:02:30,217 DEBUG AbstractEntityPersister:1917 - Dehydrating entity: [Dirty#3]
15:02:30,217 DEBUG NonstrictReadWriteCache:116 - Invalidating: Dirty#3
15:02:30,217 DEBUG AbstractBatcher:44 - Executing batch size: 1
15:02:30,218 DEBUG AbstractBatcher:366 - about to close PreparedStatement (open PreparedStatements: 1, globally: 1)
15:02:30,218 DEBUG AbstractBatcher:525 - closing statement
15:02:30,218 DEBUG ConnectionManager:472 - registering flush end
15:02:30,219 DEBUG AbstractFlushingEventListener:320 - post flush
15:02:30,219 DEBUG JDBCTransaction:103 - commit
15:02:30,219 DEBUG SessionImpl:337 - automatically flushing session
15:02:30,219 DEBUG AbstractFlushingEventListener:58 - flushing session
15:02:30,219 DEBUG AbstractFlushingEventListener:111 - processing flush-time cascades
15:02:30,220 DEBUG AbstractFlushingEventListener:153 - dirty checking collections
15:02:30,220 DEBUG AbstractFlushingEventListener:170 - Flushing entities and processing referenced collections
15:02:30,220 DEBUG AbstractFlushingEventListener:209 - Processing unreferenced collections
15:02:30,220 DEBUG AbstractFlushingEventListener:223 - Scheduling collection removes/(re)creates/updates
15:02:30,221 DEBUG AbstractFlushingEventListener:85 - Flushed: 0 insertions, 0 updates, 0 deletions to 1 objects
15:02:30,221 DEBUG AbstractFlushingEventListener:91 - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
15:02:30,221 DEBUG Printer:83 - listing entities:
15:02:30,221 DEBUG Printer:90 - org.hibernate.test.optlock.Document
15:02:30,221 DEBUG AbstractFlushingEventListener:289 - executing flush
15:02:30,222 DEBUG ConnectionManager:463 - registering flush begin
15:02:30,222 DEBUG ConnectionManager:472 - registering flush end
15:02:30,222 DEBUG AbstractFlushingEventListener:320 - post flush
15:02:30,223 DEBUG JDBCContext:201 - before transaction completion
15:02:30,223 DEBUG SessionImpl:393 - before transaction completion
15:02:30,223 DEBUG JDBCTransaction:116 - committed JDBC Connection
15:02:30,223 DEBUG JDBCContext:215 - after transaction completion
15:02:30,223 DEBUG ConnectionManager:398 - aggressively releasing JDBC connection
15:02:30,224 DEBUG ConnectionManager:435 - releasing JDBC connection [ (open PreparedStatements: 0, globally: 0) (open ResultSets: 0, globally: 0)]
15:02:30,224 DEBUG DriverManagerConnectionProvider:129 - returning connection to pool, pool size: 1
15:02:30,224 DEBUG SessionImpl:422 - after transaction completion
15:02:30,224 DEBUG NonstrictReadWriteCache:142 - Invalidating (again): Dirty#3
15:02:30,225 DEBUG NonstrictReadWriteCache:142 - Invalidating (again): Dirty#3
15:02:30,226 DEBUG SessionImpl:273 - closing session
15:02:30,227 DEBUG ConnectionManager:369 - connection already null in cleanup : no action
15:02:30,227 DEBUG SessionImpl:220 - opened session at timestamp: 4723974759329792
15:02:30,227 DEBUG JDBCTransaction:54 - begin
15:02:30,227 DEBUG ConnectionManager:415 - opening JDBC connection
15:02:30,227 DEBUG DriverManagerConnectionProvider:93 - total checked-out connections: 0
15:02:30,228 DEBUG DriverManagerConnectionProvider:99 - using pooled JDBC connection, pool size: 0
15:02:30,228 DEBUG JDBCTransaction:59 - current autocommit status: false
15:02:30,228 DEBUG JDBCContext:210 - after transaction begin
15:02:30,229 DEBUG DefaultLoadEventListener:169 - loading entity: [Dirty#3]
15:02:30,230 DEBUG DefaultLoadEventListener:328 - attempting to resolve: [Dirty#3]
15:02:30,230 DEBUG NonstrictReadWriteCache:41 - Cache lookup: Dirty#3
15:02:30,230 DEBUG NonstrictReadWriteCache:49 - Cache miss
15:02:30,231 DEBUG DefaultLoadEventListener:368 - object not resolved in any cache: [Dirty#3]
15:02:30,231 DEBUG AbstractEntityPersister:2854 - Fetching entity: [Dirty#3]
15:02:30,231 DEBUG Loader:1776 - loading entity: [Dirty#3]
15:02:30,235 DEBUG AbstractBatcher:358 - about to open PreparedStatement (open PreparedStatements: 0, globally: 0)
15:02:30,236 DEBUG SQL:393 - 
    select
        dirty0_.id as id0_0_,
        dirty0_.title as title0_0_,
        dirty0_.author as author0_0_,
        dirty0_.year as year0_0_,
        dirty0_.month as month0_0_,
        dirty0_.summary as summary0_0_,
        dirty0_.totalSales as totalSales0_0_,
        dirty0_."text" as text8_0_0_ 
    from
        Document dirty0_ 
    where
        dirty0_.id=?
15:02:30,236 DEBUG AbstractBatcher:476 - preparing statement
15:02:30,242 DEBUG AbstractBatcher:374 - about to open ResultSet (open ResultSets: 0, globally: 0)
15:02:30,242 DEBUG Loader:682 - processing result set
15:02:30,243 DEBUG Loader:687 - result set row: 0
15:02:30,243 DEBUG Loader:1164 - result row: EntityKey[Dirty#3]
15:02:30,243 DEBUG Loader:1346 - Initializing object from ResultSet: [Dirty#3]
15:02:30,245 DEBUG AbstractEntityPersister:1956 - Hydrating entity: [Dirty#3]
15:02:30,246 DEBUG Loader:709 - done processing result set (1 rows)
15:02:30,247 DEBUG AbstractBatcher:381 - about to close ResultSet (open ResultSets: 1, globally: 1)
15:02:30,247 DEBUG AbstractBatcher:366 - about to close PreparedStatement (open PreparedStatements: 1, globally: 1)
15:02:30,247 DEBUG AbstractBatcher:525 - closing statement
15:02:30,249 DEBUG Loader:839 - total objects hydrated: 1
15:02:30,252 DEBUG TwoPhaseLoad:107 - resolving associations for [Dirty#3]
15:02:30,252 DEBUG TwoPhaseLoad:135 - adding entity to second-level cache: [Dirty#3]
15:02:30,254 DEBUG NonstrictReadWriteCache:71 - Caching: Dirty#3
15:02:30,255 DEBUG TwoPhaseLoad:206 - done materializing entity [Dirty#3]
15:02:30,255 DEBUG StatefulPersistenceContext:748 - initializing non-lazy collections
15:02:30,255 DEBUG Loader:1807 - done entity load
15:02:30,256 DEBUG SessionImpl:220 - opened session at timestamp: 4723974759448576
15:02:30,256 DEBUG JDBCTransaction:54 - begin
15:02:30,256 DEBUG ConnectionManager:415 - opening JDBC connection
15:02:30,256 DEBUG DriverManagerConnectionProvider:93 - total checked-out connections: 1
15:02:30,256 DEBUG DriverManagerConnectionProvider:109 - opening new JDBC connection
15:02:30,257 DEBUG DriverManagerConnectionProvider:115 - created connection to: jdbc:hsqldb:., Isolation Level: 0
15:02:30,257 DEBUG JDBCTransaction:59 - current autocommit status: false
15:02:30,257 DEBUG JDBCContext:210 - after transaction begin
15:02:30,258 DEBUG DefaultLoadEventListener:169 - loading entity: [Dirty#3]
15:02:30,258 DEBUG DefaultLoadEventListener:328 - attempting to resolve: [Dirty#3]
15:02:30,258 DEBUG NonstrictReadWriteCache:41 - Cache lookup: Dirty#3
15:02:30,258 DEBUG NonstrictReadWriteCache:46 - Cache hit
15:02:30,259 DEBUG DefaultLoadEventListener:518 - assembling entity from second-level cache: [Dirty#3]
15:02:30,259 DEBUG DefaultLoadEventListener:550 - Cached Version: null
15:02:30,260 DEBUG StatefulPersistenceContext:748 - initializing non-lazy collections
15:02:30,260 DEBUG DefaultLoadEventListener:359 - resolved object in second-level cache: [Dirty#3]
15:02:30,260 DEBUG AbstractFlushingEventListener:58 - flushing session
15:02:30,260 DEBUG AbstractFlushingEventListener:111 - processing flush-time cascades
15:02:30,260 DEBUG AbstractFlushingEventListener:153 - dirty checking collections
15:02:30,261 DEBUG AbstractFlushingEventListener:170 - Flushing entities and processing referenced collections
15:02:30,261 DEBUG AbstractEntityPersister:3000 - Dirty.summary is dirty
15:02:30,261 DEBUG DefaultFlushEntityEventListener:229 - Updating entity: [Dirty#3]
15:02:30,262 DEBUG AbstractFlushingEventListener:209 - Processing unreferenced collections
15:02:30,262 DEBUG AbstractFlushingEventListener:223 - Scheduling collection removes/(re)creates/updates
15:02:30,262 DEBUG AbstractFlushingEventListener:85 - Flushed: 0 insertions, 1 updates, 0 deletions to 1 objects
15:02:30,262 DEBUG AbstractFlushingEventListener:91 - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
15:02:30,262 DEBUG Printer:83 - listing entities:
15:02:30,264 DEBUG Printer:90 - org.hibernate.test.optlock.Document
15:02:30,265 DEBUG AbstractFlushingEventListener:289 - executing flush
15:02:30,265 DEBUG ConnectionManager:463 - registering flush begin
15:02:30,265 DEBUG AbstractEntityPersister:2237 - Updating entity: [Dirty#3]
15:02:30,265 DEBUG AbstractBatcher:358 - about to open PreparedStatement (open PreparedStatements: 0, globally: 0)
15:02:30,266 DEBUG SQL:393 - 
    update
        Document 
    set
        summary=? 
    where
        id=? 
        and summary=?
15:02:30,266 DEBUG AbstractBatcher:476 - preparing statement
15:02:30,267 DEBUG AbstractEntityPersister:1917 - Dehydrating entity: [Dirty#3]
15:02:30,283 DEBUG NonstrictReadWriteCache:116 - Invalidating: Dirty#3
15:02:30,284 DEBUG AbstractBatcher:44 - Executing batch size: 1
15:02:30,284 DEBUG AbstractBatcher:366 - about to close PreparedStatement (open PreparedStatements: 1, globally: 1)
15:02:30,284 DEBUG AbstractBatcher:525 - closing statement
15:02:30,285 DEBUG ConnectionManager:472 - registering flush end
15:02:30,285 DEBUG AbstractFlushingEventListener:320 - post flush
15:02:30,285 DEBUG JDBCTransaction:103 - commit
15:02:30,285 DEBUG SessionImpl:337 - automatically flushing session
15:02:30,285 DEBUG AbstractFlushingEventListener:58 - flushing session
15:02:30,286 DEBUG AbstractFlushingEventListener:111 - processing flush-time cascades
15:02:30,286 DEBUG AbstractFlushingEventListener:153 - dirty checking collections
15:02:30,286 DEBUG AbstractFlushingEventListener:170 - Flushing entities and processing referenced collections
15:02:30,286 DEBUG AbstractFlushingEventListener:209 - Processing unreferenced collections
15:02:30,287 DEBUG AbstractFlushingEventListener:223 - Scheduling collection removes/(re)creates/updates
15:02:30,287 DEBUG AbstractFlushingEventListener:85 - Flushed: 0 insertions, 0 updates, 0 deletions to 1 objects
15:02:30,287 DEBUG AbstractFlushingEventListener:91 - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
15:02:30,287 DEBUG Printer:83 - listing entities:
15:02:30,287 DEBUG Printer:90 - org.hibernate.test.optlock.Document
15:02:30,288 DEBUG AbstractFlushingEventListener:289 - executing flush
15:02:30,288 DEBUG ConnectionManager:463 - registering flush begin
15:02:30,288 DEBUG ConnectionManager:472 - registering flush end
15:02:30,288 DEBUG AbstractFlushingEventListener:320 - post flush
15:02:30,289 DEBUG JDBCContext:201 - before transaction completion
15:02:30,289 DEBUG SessionImpl:393 - before transaction completion
15:02:30,289 DEBUG JDBCTransaction:116 - committed JDBC Connection
15:02:30,289 DEBUG JDBCContext:215 - after transaction completion
15:02:30,291 DEBUG ConnectionManager:398 - aggressively releasing JDBC connection
15:02:30,291 DEBUG ConnectionManager:435 - releasing JDBC connection [ (open PreparedStatements: 0, globally: 0) (open ResultSets: 0, globally: 0)]
15:02:30,291 DEBUG DriverManagerConnectionProvider:129 - returning connection to pool, pool size: 1
15:02:30,291 DEBUG SessionImpl:422 - after transaction completion
15:02:30,292 DEBUG NonstrictReadWriteCache:142 - Invalidating (again): Dirty#3
15:02:30,292 DEBUG SessionImpl:273 - closing session
15:02:30,292 DEBUG ConnectionManager:369 - connection already null in cleanup : no action
15:02:30,292 DEBUG DefaultDeleteEventListener:108 - deleting a persistent instance
15:02:30,293 DEBUG DefaultDeleteEventListener:178 - deleting [Dirty#3]
15:02:30,293 DEBUG SessionImpl:1308 - setting cache mode to: GET
15:02:30,293 DEBUG SessionImpl:1308 - setting cache mode to: NORMAL
15:02:30,293 DEBUG SessionImpl:1308 - setting cache mode to: GET
15:02:30,294 DEBUG SessionImpl:1308 - setting cache mode to: NORMAL
15:02:30,294 DEBUG JDBCTransaction:103 - commit
15:02:30,294 DEBUG SessionImpl:337 - automatically flushing session
15:02:30,294 DEBUG AbstractFlushingEventListener:58 - flushing session
15:02:30,295 DEBUG AbstractFlushingEventListener:111 - processing flush-time cascades
15:02:30,295 DEBUG AbstractFlushingEventListener:153 - dirty checking collections
15:02:30,295 DEBUG AbstractFlushingEventListener:170 - Flushing entities and processing referenced collections
15:02:30,295 DEBUG AbstractFlushingEventListener:209 - Processing unreferenced collections
15:02:30,295 DEBUG AbstractFlushingEventListener:223 - Scheduling collection removes/(re)creates/updates
15:02:30,296 DEBUG AbstractFlushingEventListener:85 - Flushed: 0 insertions, 0 updates, 1 deletions to 1 objects
15:02:30,296 DEBUG AbstractFlushingEventListener:91 - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
15:02:30,296 DEBUG Printer:83 - listing entities:
15:02:30,296 DEBUG Printer:90 - org.hibernate.test.optlock.Document
15:02:30,297 DEBUG AbstractFlushingEventListener:289 - executing flush
15:02:30,297 DEBUG ConnectionManager:463 - registering flush begin
15:02:30,297 DEBUG AbstractEntityPersister:2353 - Deleting entity: [Dirty#3]
15:02:30,297 DEBUG AbstractBatcher:358 - about to open PreparedStatement (open PreparedStatements: 0, globally: 0)
15:02:30,298 DEBUG SQL:393 - 
    delete 
    from
        Document 
    where
        id=?
15:02:30,298 DEBUG AbstractBatcher:476 - preparing statement
15:02:30,299 DEBUG NonstrictReadWriteCache:116 - Invalidating: Dirty#3
15:02:30,299 DEBUG AbstractBatcher:44 - Executing batch size: 1
15:02:30,299 DEBUG AbstractBatcher:366 - about to close PreparedStatement (open PreparedStatements: 1, globally: 1)
15:02:30,300 DEBUG AbstractBatcher:525 - closing statement
15:02:30,301 DEBUG ConnectionManager:472 - registering flush end
15:02:30,301 DEBUG AbstractFlushingEventListener:320 - post flush
15:02:30,302 DEBUG JDBCContext:201 - before transaction completion
15:02:30,302 DEBUG SessionImpl:393 - before transaction completion
15:02:30,302 DEBUG JDBCTransaction:116 - committed JDBC Connection
15:02:30,302 DEBUG JDBCContext:215 - after transaction completion
15:02:30,302 DEBUG ConnectionManager:398 - aggressively releasing JDBC connection
15:02:30,303 DEBUG ConnectionManager:435 - releasing JDBC connection [ (open PreparedStatements: 0, globally: 0) (open ResultSets: 0, globally: 0)]
15:02:30,303 DEBUG DriverManagerConnectionProvider:135 - closing JDBC connection
15:02:30,304 DEBUG SessionImpl:422 - after transaction completion
15:02:30,304 DEBUG NonstrictReadWriteCache:142 - Invalidating (again): Dirty#3
15:02:30,305  INFO SessionFactoryImpl:767 - closing
15:02:30,306  INFO DriverManagerConnectionProvider:147 - cleaning up connection pool: jdbc:hsqldb:.
15:02:30,306  INFO SchemaExport:154 - Running hbm2ddl schema export
15:02:30,307 DEBUG SchemaExport:170 - import file not found: /import.sql
15:02:30,307  INFO SchemaExport:179 - exporting generated schema to database
15:02:30,308 DEBUG DriverManagerConnectionProvider:93 - total checked-out connections: 0
15:02:30,308 DEBUG DriverManagerConnectionProvider:109 - opening new JDBC connection
15:02:30,308 DEBUG DriverManagerConnectionProvider:115 - created connection to: jdbc:hsqldb:., Isolation Level: 0
15:02:30,308 DEBUG SchemaExport:303 - 
    drop table Document if exists
15:02:30,310  INFO SchemaExport:196 - schema export complete
15:02:30,311 DEBUG DriverManagerConnectionProvider:129 - returning connection to pool, pool size: 1
15:02:30,317  INFO Dialect:141 - Using dialect: org.hibernate.dialect.HSQLDialect
15:02:30,318  INFO Configuration:488 - Reading mappings from resource: org/hibernate/test/optlock/Document.hbm.xml
15:02:30,322 DEBUG DTDEntityResolver:38 - trying to resolve system-id [http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd]
15:02:30,322 DEBUG DTDEntityResolver:40 - recognized hibernate namespace; attempting to resolve on classpath under org/hibernate/
15:02:30,323 DEBUG DTDEntityResolver:50 - located [http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd] in classpath
15:02:30,412  INFO HbmBinder:299 - Mapping class: Dirty -> Document
15:02:30,412 DEBUG HbmBinder:1269 - Mapped property: id -> id
15:02:30,413 DEBUG HbmBinder:1269 - Mapped property: title -> title
15:02:30,413 DEBUG HbmBinder:1269 - Mapped property: author -> author
15:02:30,414 DEBUG HbmBinder:1269 - Mapped property: year -> year
15:02:30,414 DEBUG HbmBinder:1269 - Mapped property: month -> month
15:02:30,414 DEBUG HbmBinder:1269 - Mapped property: pubDate -> year, month
15:02:30,415 DEBUG HbmBinder:1269 - Mapped property: summary -> summary
15:02:30,415 DEBUG HbmBinder:1269 - Mapped property: totalSales -> totalSales
15:02:30,416 DEBUG HbmBinder:1269 - Mapped property: text -> text
15:02:30,416  INFO HbmBinder:299 - Mapping class: All -> Document
15:02:30,416 DEBUG HbmBinder:1269 - Mapped property: id -> id
15:02:30,417 DEBUG HbmBinder:1269 - Mapped property: title -> title
15:02:30,417 DEBUG HbmBinder:1269 - Mapped property: author -> author
15:02:30,418 DEBUG HbmBinder:1269 - Mapped property: year -> year
15:02:30,418 DEBUG HbmBinder:1269 - Mapped property: month -> month
15:02:30,419 DEBUG HbmBinder:1269 - Mapped property: pubDate -> year, month
15:02:30,419 DEBUG HbmBinder:1269 - Mapped property: summary -> summary
15:02:30,419 DEBUG HbmBinder:1269 - Mapped property: totalSales -> totalSales
15:02:30,420 DEBUG HbmBinder:1269 - Mapped property: text -> text
15:02:30,420 DEBUG Configuration:1209 - Preparing to build session factory with filters : {}
15:02:30,420 DEBUG Configuration:1044 - processing extends queue
15:02:30,420 DEBUG Configuration:1048 - processing collection mappings
15:02:30,421 DEBUG Configuration:1059 - processing native query and ResultSetMapping mappings
15:02:30,421 DEBUG Configuration:1067 - processing association property references
15:02:30,421 DEBUG Configuration:1089 - processing foreign key constraints
15:02:30,423  INFO DriverManagerConnectionProvider:41 - Using Hibernate built-in connection pool (not for production use!)
15:02:30,423  INFO DriverManagerConnectionProvider:42 - Hibernate connection pool size: 1
15:02:30,423  INFO DriverManagerConnectionProvider:45 - autocommit mode: false
15:02:30,423  INFO DriverManagerConnectionProvider:80 - using driver: org.hsqldb.jdbcDriver at URL: jdbc:hsqldb:.
15:02:30,424  INFO DriverManagerConnectionProvider:83 - connection properties: {user=sa, password=}
15:02:30,424 DEBUG DriverManagerConnectionProvider:93 - total checked-out connections: 0
15:02:30,424 DEBUG DriverManagerConnectionProvider:109 - opening new JDBC connection
15:02:30,427 DEBUG DriverManagerConnectionProvider:115 - created connection to: jdbc:hsqldb:., Isolation Level: 0
15:02:30,428  INFO SettingsFactory:81 - RDBMS: HSQL Database Engine, version: 1.8.0
15:02:30,428  INFO SettingsFactory:82 - JDBC driver: HSQL Database Engine Driver, version: 1.8.0
15:02:30,428 DEBUG DriverManagerConnectionProvider:129 - returning connection to pool, pool size: 1
15:02:30,428  INFO Dialect:141 - Using dialect: org.hibernate.dialect.HSQLDialect
15:02:30,429  INFO TransactionFactoryFactory:31 - Using default transaction strategy (direct JDBC transactions)
15:02:30,429  INFO TransactionManagerLookupFactory:33 - No TransactionManagerLookup configured (in JTA environment, use of read-write or transactional second-level cache is not recommended)
15:02:30,430  INFO SettingsFactory:134 - Automatic flush during beforeCompletion(): disabled
15:02:30,430  INFO SettingsFactory:138 - Automatic session close at end of transaction: disabled
15:02:30,430  INFO SettingsFactory:145 - JDBC batch size: 15
15:02:30,430  INFO SettingsFactory:148 - JDBC batch updates for versioned data: enabled
15:02:30,431  INFO SettingsFactory:153 - Scrollable result sets: enabled
15:02:30,431 DEBUG SettingsFactory:157 - Wrap result sets: disabled
15:02:30,431  INFO SettingsFactory:161 - JDBC3 getGeneratedKeys(): disabled
15:02:30,431  INFO SettingsFactory:169 - Connection release mode: auto
15:02:30,431  INFO SettingsFactory:193 - Maximum outer join fetch depth: 1
15:02:30,431  INFO SettingsFactory:196 - Default batch fetch size: 1
15:02:30,432  INFO SettingsFactory:200 - Generate SQL with comments: disabled
15:02:30,432  INFO SettingsFactory:204 - Order SQL updates by primary key: disabled
15:02:30,432  INFO SettingsFactory:369 - Query translator: org.hibernate.hql.ast.ASTQueryTranslatorFactory
15:02:30,432  INFO ASTQueryTranslatorFactory:24 - Using ASTQueryTranslatorFactory
15:02:30,432  INFO SettingsFactory:212 - Query language substitutions: {no='N', yes='Y'}
15:02:30,433  INFO SettingsFactory:217 - JPA-QL strict compliance: disabled
15:02:30,433  INFO SettingsFactory:222 - Second-level cache: enabled
15:02:30,433  INFO SettingsFactory:226 - Query cache: disabled
15:02:30,433  INFO SettingsFactory:356 - Cache provider: org.hibernate.cache.HashtableCacheProvider
15:02:30,433  INFO SettingsFactory:241 - Optimize cache for minimal puts: disabled
15:02:30,433  INFO SettingsFactory:246 - Cache region prefix: hibernate.test
15:02:30,434  INFO SettingsFactory:250 - Structured second-level cache entries: disabled
15:02:30,434 DEBUG SQLExceptionConverterFactory:52 - Using dialect defined converter
15:02:30,434  INFO SettingsFactory:277 - Statistics: disabled
15:02:30,434  INFO SettingsFactory:281 - Deleted entity synthetic identifier rollback: disabled
15:02:30,434  INFO SettingsFactory:296 - Default entity-mode: pojo
15:02:30,619  INFO SessionFactoryImpl:161 - building session factory
15:02:30,620 DEBUG SessionFactoryImpl:173 - Session factory constructed with filter configurations : {}
15:02:30,621 DEBUG SessionFactoryImpl:177 - instantiating session factory with properties: {java.runtime.name=Java(TM) 2 Runtime Environment, Standard Edition, hibernate.connection.password=, hibernate.cache.provider_class=org.hibernate.cache.HashtableCacheProvider, sun.boot.library.path=/home/josh/lib/jdk1.5.0_07/jre/lib/amd64, java.vm.version=1.5.0_07-b03, hibernate.proxool.pool_alias=pool1, hibernate.connection.username=sa, java.vm.vendor=Sun Microsystems Inc., java.vendor.url=http://java.sun.com/, path.separator=:, java.vm.name=Java HotSpot(TM) 64-Bit Server VM, file.encoding.pkg=sun.io, user.country=AU, sun.os.patch.level=unknown, java.vm.specification.name=Java Virtual Machine Specification, user.dir=/home/josh/code/hibernateSVN/Hibernate3, java.runtime.version=1.5.0_07-b03, java.awt.graphicsenv=sun.awt.X11GraphicsEnvironment, java.endorsed.dirs=/home/josh/lib/jdk1.5.0_07/jre/lib/endorsed, os.arch=amd64, java.io.tmpdir=/tmp, line.separator=
, java.vm.specification.vendor=Sun Microsystems Inc., os.name=Linux, hibernate.jdbc.batch_versioned_data=true, hibernate.cache.region_prefix=hibernate.test, sun.jnu.encoding=UTF-8, java.library.path=/home/josh/lib/jdk1.5.0_07/jre/lib/amd64/server:/home/josh/lib/jdk1.5.0_07/jre/lib/amd64:/home/josh/lib/jdk1.5.0_07/jre/../lib/amd64:/home/josh/code/ice/Ice/lib:/home/josh/lib/jdk/jre/lib/i386, java.specification.name=Java Platform API Specification, java.class.version=49.0, hibernate.connection.pool_size=1, sun.management.compiler=HotSpot 64-Bit Server Compiler, os.version=2.6.15-26-amd64-generic, user.home=/home/josh, user.timezone=Europe/Berlin, java.awt.printerjob=sun.print.PSPrinterJob, java.specification.version=1.5, file.encoding=UTF-8, hibernate.format_sql=true, hibernate.connection.driver_class=org.hsqldb.jdbcDriver, user.name=josh, java.class.path=/home/josh/code/hibernateSVN/Hibernate3/lib/ant-1.6.5.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/ant-antlr-1.6.5.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/ant-junit-1.6.5.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/ant-launcher-1.6.5.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/ant-swing-1.6.5.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/antlr-2.7.6.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/asm-attrs.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/asm.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/c3p0-0.9.0.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/cglib-2.1.3.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/checkstyle-all.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/cleanimports.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/commons-collections-2.1.1.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/commons-logging-1.0.4.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/concurrent-1.3.2.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/connector.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/dom4j-1.6.1.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/ehcache-1.2.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/jaas.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/jacc-1_0-fr.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/javassist.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/jaxen-1.1-beta-7.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/jboss-cache.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/jboss-common.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/jboss-jmx.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/jboss-system.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/jdbc2_0-stdext.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/jgroups-2.2.8.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/jta.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/junit-3.8.1.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/log4j-1.2.11.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/oscache-2.1.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/proxool-0.8.3.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/swarmcache-1.0rc2.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/syndiag2.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/versioncheck.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/xerces-2.6.2.jar:/home/josh/code/hibernateSVN/Hibernate3/lib/xml-apis.jar:/home/josh/code/hibernateSVN/Hibernate3/jdbc/hsqldb.jar:/home/josh/code/hibernateSVN/Hibernate3/build/classes:/home/josh/code/hibernateSVN/Hibernate3/etc:/home/josh/code/hibernateSVN/Hibernate3/build/testclasses:/home/josh/code/hibernateSVN/Hibernate3:/home/josh/lib/jdk/lib/tools.jar:/home/josh/lib/ant/lib/junit.jar:/home/josh/lib/apache-ant-1.6.5/lib/ant-launcher.jar:/home/josh/lib/ant/lib/ant.jar:/home/josh/lib/ant/lib/ant-junit.jar, hibernate.bytecode.use_reflection_optimizer=false, hibernate.query.substitutions=yes 'Y', no 'N', java.vm.specification.version=1.0, sun.arch.data.model=64, java.home=/home/josh/lib/jdk1.5.0_07/jre, hibernate.connection.url=jdbc:hsqldb:., hibernate.dialect=org.hibernate.dialect.HSQLDialect, java.specification.vendor=Sun Microsystems Inc., user.language=en, java.vm.info=mixed mode, java.version=1.5.0_07, hibernate.jdbc.use_streams_for_binary=true, java.ext.dirs=/home/josh/lib/jdk1.5.0_07/jre/lib/ext, sun.boot.class.path=/home/josh/lib/jdk1.5.0_07/jre/lib/rt.jar:/home/josh/lib/jdk1.5.0_07/jre/lib/i18n.jar:/home/josh/lib/jdk1.5.0_07/jre/lib/sunrsasign.jar:/home/josh/lib/jdk1.5.0_07/jre/lib/jsse.jar:/home/josh/lib/jdk1.5.0_07/jre/lib/jce.jar:/home/josh/lib/jdk1.5.0_07/jre/lib/charsets.jar:/home/josh/lib/jdk1.5.0_07/jre/classes, java.vendor=Sun Microsystems Inc., file.separator=/, java.vendor.url.bug=http://java.sun.com/cgi-bin/bugreport.cgi, hibernate.hbm2ddl.auto=create-drop, sun.cpu.endian=little, sun.io.unicode.encoding=UnicodeLittle, hibernate.max_fetch_depth=1, sun.cpu.isalist=}
15:02:30,623 DEBUG CacheFactory:39 - instantiating cache region: hibernate.test.Dirty usage strategy: nonstrict-read-write
15:02:30,851 DEBUG AbstractEntityPersister:2563 - Static SQL for entity: Dirty
15:02:30,852 DEBUG AbstractEntityPersister:2568 -  Version select: select id from Document where id =?
15:02:30,852 DEBUG AbstractEntityPersister:2571 -  Snapshot select: select dirty_.id, dirty_.title as title3_, dirty_.author as author3_, dirty_.year as year3_, dirty_.month as month3_, dirty_.summary as summary3_, dirty_.totalSales as totalSales3_, dirty_."text" as text8_3_ from Document dirty_ where dirty_.id=?
15:02:30,852 DEBUG AbstractEntityPersister:2574 -  Insert 0: insert into Document (title, author, year, month, summary, totalSales, "text", id) values (?, ?, ?, ?, ?, ?, ?, ?)
15:02:30,852 DEBUG AbstractEntityPersister:2575 -  Update 0: update Document set title=?, author=?, year=?, month=?, summary=?, totalSales=?, "text"=? where id=?
15:02:30,853 DEBUG AbstractEntityPersister:2576 -  Delete 0: delete from Document where id=?
15:02:30,853 DEBUG AbstractEntityPersister:2580 -  Identity insert: insert into Document (id, title, author, year, month, summary, totalSales, "text") values (null, ?, ?, ?, ?, ?, ?, ?)
15:02:30,853 DEBUG CacheFactory:39 - instantiating cache region: hibernate.test.All usage strategy: nonstrict-read-write
15:02:30,971 DEBUG AbstractEntityPersister:2563 - Static SQL for entity: All
15:02:30,971 DEBUG AbstractEntityPersister:2568 -  Version select: select id from Document where id =?
15:02:30,972 DEBUG AbstractEntityPersister:2571 -  Snapshot select: select all_.id, all_.title as title3_, all_.author as author3_, all_.year as year3_, all_.month as month3_, all_.summary as summary3_, all_.totalSales as totalSales3_, all_."text" as text8_3_ from Document all_ where all_.id=?
15:02:30,972 DEBUG AbstractEntityPersister:2574 -  Insert 0: insert into Document (title, author, year, month, summary, totalSales, "text", id) values (?, ?, ?, ?, ?, ?, ?, ?)
15:02:30,973 DEBUG AbstractEntityPersister:2575 -  Update 0: update Document set title=?, author=?, year=?, month=?, summary=?, totalSales=?, "text"=? where id=?
15:02:30,974 DEBUG AbstractEntityPersister:2576 -  Delete 0: delete from Document where id=?
15:02:30,974 DEBUG AbstractEntityPersister:2580 -  Identity insert: insert into Document (id, title, author, year, month, summary, totalSales, "text") values (null, ?, ?, ?, ?, ?, ?, ?)
15:02:30,974 DEBUG EntityLoader:79 - Static select for entity Dirty: select dirty0_.id as id3_0_, dirty0_.title as title3_0_, dirty0_.author as author3_0_, dirty0_.year as year3_0_, dirty0_.month as month3_0_, dirty0_.summary as summary3_0_, dirty0_.totalSales as totalSales3_0_, dirty0_."text" as text8_3_0_ from Document dirty0_ where dirty0_.id=?
15:02:30,975 DEBUG EntityLoader:79 - Static select for entity Dirty: select dirty0_.id as id3_0_, dirty0_.title as title3_0_, dirty0_.author as author3_0_, dirty0_.year as year3_0_, dirty0_.month as month3_0_, dirty0_.summary as summary3_0_, dirty0_.totalSales as totalSales3_0_, dirty0_."text" as text8_3_0_ from Document dirty0_ where dirty0_.id=?
15:02:30,976 DEBUG EntityLoader:79 - Static select for entity Dirty: select dirty0_.id as id3_0_, dirty0_.title as title3_0_, dirty0_.author as author3_0_, dirty0_.year as year3_0_, dirty0_.month as month3_0_, dirty0_.summary as summary3_0_, dirty0_.totalSales as totalSales3_0_, dirty0_."text" as text8_3_0_ from Document dirty0_ where dirty0_.id=?
15:02:31,001 DEBUG EntityLoader:79 - Static select for entity Dirty: select dirty0_.id as id3_0_, dirty0_.title as title3_0_, dirty0_.author as author3_0_, dirty0_.year as year3_0_, dirty0_.month as month3_0_, dirty0_.summary as summary3_0_, dirty0_.totalSales as totalSales3_0_, dirty0_."text" as text8_3_0_ from Document dirty0_ where dirty0_.id=?
15:02:31,001 DEBUG EntityLoader:34 - Static select for action ACTION_MERGE on entity Dirty: select dirty0_.id as id3_0_, dirty0_.title as title3_0_, dirty0_.author as author3_0_, dirty0_.year as year3_0_, dirty0_.month as month3_0_, dirty0_.summary as summary3_0_, dirty0_.totalSales as totalSales3_0_, dirty0_."text" as text8_3_0_ from Document dirty0_ where dirty0_.id=?
15:02:31,027 DEBUG EntityLoader:34 - Static select for action ACTION_REFRESH on entity Dirty: select dirty0_.id as id3_0_, dirty0_.title as title3_0_, dirty0_.author as author3_0_, dirty0_.year as year3_0_, dirty0_.month as month3_0_, dirty0_.summary as summary3_0_, dirty0_.totalSales as totalSales3_0_, dirty0_."text" as text8_3_0_ from Document dirty0_ where dirty0_.id=?
15:02:31,027 DEBUG EntityLoader:79 - Static select for entity All: select all0_.id as id3_0_, all0_.title as title3_0_, all0_.author as author3_0_, all0_.year as year3_0_, all0_.month as month3_0_, all0_.summary as summary3_0_, all0_.totalSales as totalSales3_0_, all0_."text" as text8_3_0_ from Document all0_ where all0_.id=?
15:02:31,028 DEBUG EntityLoader:79 - Static select for entity All: select all0_.id as id3_0_, all0_.title as title3_0_, all0_.author as author3_0_, all0_.year as year3_0_, all0_.month as month3_0_, all0_.summary as summary3_0_, all0_.totalSales as totalSales3_0_, all0_."text" as text8_3_0_ from Document all0_ where all0_.id=?
15:02:31,028 DEBUG EntityLoader:79 - Static select for entity All: select all0_.id as id3_0_, all0_.title as title3_0_, all0_.author as author3_0_, all0_.year as year3_0_, all0_.month as month3_0_, all0_.summary as summary3_0_, all0_.totalSales as totalSales3_0_, all0_."text" as text8_3_0_ from Document all0_ where all0_.id=?
15:02:31,029 DEBUG EntityLoader:79 - Static select for entity All: select all0_.id as id3_0_, all0_.title as title3_0_, all0_.author as author3_0_, all0_.year as year3_0_, all0_.month as month3_0_, all0_.summary as summary3_0_, all0_.totalSales as totalSales3_0_, all0_."text" as text8_3_0_ from Document all0_ where all0_.id=?
15:02:31,029 DEBUG EntityLoader:34 - Static select for action ACTION_MERGE on entity All: select all0_.id as id3_0_, all0_.title as title3_0_, all0_.author as author3_0_, all0_.year as year3_0_, all0_.month as month3_0_, all0_.summary as summary3_0_, all0_.totalSales as totalSales3_0_, all0_."text" as text8_3_0_ from Document all0_ where all0_.id=?
15:02:31,030 DEBUG EntityLoader:34 - Static select for action ACTION_REFRESH on entity All: select all0_.id as id3_0_, all0_.title as title3_0_, all0_.author as author3_0_, all0_.year as year3_0_, all0_.month as month3_0_, all0_.summary as summary3_0_, all0_.totalSales as totalSales3_0_, all0_."text" as text8_3_0_ from Document all0_ where all0_.id=?
15:02:31,030 DEBUG SessionFactoryObjectFactory:76 - registered: ff8081810c86e151010c86e15a760001 (unnamed)
15:02:31,030  INFO SessionFactoryObjectFactory:82 - Not binding factory to JNDI, no JNDI name configured
15:02:31,031 DEBUG SessionFactoryImpl:308 - instantiated session factory
15:02:31,031 DEBUG Configuration:1044 - processing extends queue
15:02:31,031 DEBUG Configuration:1048 - processing collection mappings
15:02:31,031 DEBUG Configuration:1059 - processing native query and ResultSetMapping mappings
15:02:31,031 DEBUG Configuration:1067 - processing association property references
15:02:31,032 DEBUG Configuration:1089 - processing foreign key constraints
15:02:31,032 DEBUG Configuration:1044 - processing extends queue
15:02:31,032 DEBUG Configuration:1048 - processing collection mappings
15:02:31,032 DEBUG Configuration:1059 - processing native query and ResultSetMapping mappings
15:02:31,032 DEBUG Configuration:1067 - processing association property references
15:02:31,033 DEBUG Configuration:1089 - processing foreign key constraints
15:02:31,034  INFO SchemaExport:154 - Running hbm2ddl schema export
15:02:31,035 DEBUG SchemaExport:170 - import file not found: /import.sql
15:02:31,035  INFO SchemaExport:179 - exporting generated schema to database
15:02:31,035 DEBUG DriverManagerConnectionProvider:93 - total checked-out connections: 0
15:02:31,036 DEBUG DriverManagerConnectionProvider:99 - using pooled JDBC connection, pool size: 0
15:02:31,036 DEBUG SchemaExport:303 - 
    drop table Document if exists
15:02:31,037 DEBUG SchemaExport:303 - 
    create table Document (
        id bigint generated by default as identity (start with 1),
        title varchar(255),
        author varchar(255),
        year integer not null,
        month integer,
        summary varchar(255),
        totalSales integer,
        "text" varchar(255),
        primary key (id)
    )
15:02:31,047  INFO SchemaExport:196 - schema export complete
15:02:31,048 DEBUG DriverManagerConnectionProvider:129 - returning connection to pool, pool size: 1
15:02:31,048 DEBUG Configuration:1044 - processing extends queue
15:02:31,048 DEBUG Configuration:1048 - processing collection mappings
15:02:31,048 DEBUG Configuration:1059 - processing native query and ResultSetMapping mappings
15:02:31,048 DEBUG Configuration:1067 - processing association property references
15:02:31,048 DEBUG Configuration:1089 - processing foreign key constraints
15:02:31,049 DEBUG Configuration:1044 - processing extends queue
15:02:31,049 DEBUG Configuration:1048 - processing collection mappings
15:02:31,049 DEBUG Configuration:1059 - processing native query and ResultSetMapping mappings
15:02:31,049 DEBUG Configuration:1067 - processing association property references
15:02:31,049 DEBUG Configuration:1089 - processing foreign key constraints
15:02:31,050 DEBUG SessionFactoryImpl:390 - Checking 0 named HQL queries
15:02:31,050 DEBUG SessionFactoryImpl:410 - Checking 0 named SQL queries
15:02:31,051 DEBUG SessionImpl:220 - opened session at timestamp: 4723974762704896
15:02:31,051 DEBUG JDBCTransaction:54 - begin
15:02:31,051 DEBUG ConnectionManager:415 - opening JDBC connection
15:02:31,051 DEBUG DriverManagerConnectionProvider:93 - total checked-out connections: 0
15:02:31,051 DEBUG DriverManagerConnectionProvider:99 - using pooled JDBC connection, pool size: 0
15:02:31,052 DEBUG JDBCTransaction:59 - current autocommit status: false
15:02:31,052 DEBUG JDBCContext:210 - after transaction begin
15:02:31,052 DEBUG DefaultSaveOrUpdateEventListener:161 - saving transient instance
15:02:31,052 DEBUG AbstractSaveEventListener:152 - saving [Dirty#<null>]
15:02:31,053 DEBUG AbstractSaveEventListener:240 - executing insertions
15:02:31,081 DEBUG AbstractSaveEventListener:289 - executing identity-insert immediately
15:02:31,081 DEBUG AbstractEntityPersister:2042 - Inserting entity: Dirty (native id)
15:02:31,082 DEBUG AbstractBatcher:358 - about to open PreparedStatement (open PreparedStatements: 0, globally: 0)
15:02:31,083 DEBUG SQL:393 - 
    insert 
    into
        Document
        (id, title, author, year, month, summary, totalSales, "text") 
    values
        (null, ?, ?, ?, ?, ?, ?, ?)
15:02:31,083 DEBUG AbstractBatcher:476 - preparing statement
15:02:31,084 DEBUG AbstractEntityPersister:1917 - Dehydrating entity: [Dirty#<null>]
15:02:31,084 DEBUG AbstractBatcher:366 - about to close PreparedStatement (open PreparedStatements: 1, globally: 1)
15:02:31,084 DEBUG AbstractBatcher:525 - closing statement
15:02:31,085 DEBUG AbstractBatcher:358 - about to open PreparedStatement (open PreparedStatements: 0, globally: 0)
15:02:31,087 DEBUG SQL:393 - 
    call identity()
15:02:31,087 DEBUG AbstractBatcher:476 - preparing statement
15:02:31,088 DEBUG IdentifierGeneratorFactory:37 - Natively generated identity: 1
15:02:31,088 DEBUG AbstractBatcher:366 - about to close PreparedStatement (open PreparedStatements: 1, globally: 1)
15:02:31,088 DEBUG AbstractBatcher:525 - closing statement
15:02:31,089 DEBUG AbstractFlushingEventListener:58 - flushing session
15:02:31,089 DEBUG AbstractFlushingEventListener:111 - processing flush-time cascades
15:02:31,089 DEBUG AbstractFlushingEventListener:153 - dirty checking collections
15:02:31,089 DEBUG AbstractFlushingEventListener:170 - Flushing entities and processing referenced collections
15:02:31,090 DEBUG AbstractFlushingEventListener:209 - Processing unreferenced collections
15:02:31,090 DEBUG AbstractFlushingEventListener:223 - Scheduling collection removes/(re)creates/updates
15:02:31,090 DEBUG AbstractFlushingEventListener:85 - Flushed: 0 insertions, 0 updates, 0 deletions to 1 objects
15:02:31,090 DEBUG AbstractFlushingEventListener:91 - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
15:02:31,091 DEBUG Printer:83 - listing entities:
15:02:31,091 DEBUG Printer:90 - org.hibernate.test.optlock.Document
15:02:31,091 DEBUG AbstractFlushingEventListener:289 - executing flush
15:02:31,091 DEBUG ConnectionManager:463 - registering flush begin
15:02:31,091 DEBUG ConnectionManager:472 - registering flush end
15:02:31,092 DEBUG AbstractFlushingEventListener:320 - post flush
15:02:31,092 DEBUG AbstractFlushingEventListener:58 - flushing session
15:02:31,092 DEBUG AbstractFlushingEventListener:111 - processing flush-time cascades
15:02:31,092 DEBUG AbstractFlushingEventListener:153 - dirty checking collections
15:02:31,092 DEBUG AbstractFlushingEventListener:170 - Flushing entities and processing referenced collections
15:02:31,093 DEBUG AbstractEntityPersister:3000 - Dirty.summary is dirty
15:02:31,093 DEBUG DefaultFlushEntityEventListener:229 - Updating entity: [Dirty#1]
15:02:31,093 DEBUG AbstractFlushingEventListener:209 - Processing unreferenced collections
15:02:31,093 DEBUG AbstractFlushingEventListener:223 - Scheduling collection removes/(re)creates/updates
15:02:31,094 DEBUG AbstractFlushingEventListener:85 - Flushed: 0 insertions, 1 updates, 0 deletions to 1 objects
15:02:31,094 DEBUG AbstractFlushingEventListener:91 - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
15:02:31,094 DEBUG Printer:83 - listing entities:
15:02:31,094 DEBUG Printer:90 - org.hibernate.test.optlock.Document
15:02:31,095 DEBUG AbstractFlushingEventListener:289 - executing flush
15:02:31,095 DEBUG ConnectionManager:463 - registering flush begin
15:02:31,095 DEBUG AbstractEntityPersister:2237 - Updating entity: [Dirty#1]
15:02:31,097 DEBUG AbstractBatcher:358 - about to open PreparedStatement (open PreparedStatements: 0, globally: 0)
15:02:31,097 DEBUG SQL:393 - 
    update
        Document 
    set
        summary=? 
    where
        id=? 
        and summary=?
15:02:31,098 DEBUG AbstractBatcher:476 - preparing statement
15:02:31,099 DEBUG AbstractEntityPersister:1917 - Dehydrating entity: [Dirty#1]
15:02:31,100 DEBUG NonstrictReadWriteCache:116 - Invalidating: Dirty#1
15:02:31,100 DEBUG AbstractBatcher:44 - Executing batch size: 1
15:02:31,100 DEBUG AbstractBatcher:366 - about to close PreparedStatement (open PreparedStatements: 1, globally: 1)
15:02:31,100 DEBUG AbstractBatcher:525 - closing statement
15:02:31,101 DEBUG ConnectionManager:472 - registering flush end
15:02:31,101 DEBUG AbstractFlushingEventListener:320 - post flush
15:02:31,101 DEBUG AbstractFlushingEventListener:58 - flushing session
15:02:31,101 DEBUG AbstractFlushingEventListener:111 - processing flush-time cascades
15:02:31,102 DEBUG AbstractFlushingEventListener:153 - dirty checking collections
15:02:31,102 DEBUG AbstractFlushingEventListener:170 - Flushing entities and processing referenced collections
15:02:31,102 DEBUG AbstractEntityPersister:3000 - Dirty.pubDate is dirty
15:02:31,102 DEBUG DefaultFlushEntityEventListener:229 - Updating entity: [Dirty#1]
15:02:31,103 DEBUG AbstractFlushingEventListener:209 - Processing unreferenced collections
15:02:31,103 DEBUG AbstractFlushingEventListener:223 - Scheduling collection removes/(re)creates/updates
15:02:31,103 DEBUG AbstractFlushingEventListener:85 - Flushed: 0 insertions, 1 updates, 0 deletions to 1 objects
15:02:31,103 DEBUG AbstractFlushingEventListener:91 - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
15:02:31,103 DEBUG Printer:83 - listing entities:
15:02:31,104 DEBUG Printer:90 - org.hibernate.test.optlock.Document
15:02:31,104 DEBUG AbstractFlushingEventListener:289 - executing flush
15:02:31,104 DEBUG ConnectionManager:463 - registering flush begin
15:02:31,104 DEBUG AbstractEntityPersister:2237 - Updating entity: [Dirty#1]
15:02:31,105 DEBUG AbstractBatcher:358 - about to open PreparedStatement (open PreparedStatements: 0, globally: 0)
15:02:31,105 DEBUG SQL:393 - 
    update
        Document 
    set
        year=?,
        month=? 
    where
        id=? 
        and year=? 
        and month is null
15:02:31,105 DEBUG AbstractBatcher:476 - preparing statement
15:02:31,107 DEBUG AbstractEntityPersister:1917 - Dehydrating entity: [Dirty#1]
15:02:31,107 DEBUG NonstrictReadWriteCache:116 - Invalidating: Dirty#1
15:02:31,107 DEBUG AbstractBatcher:44 - Executing batch size: 1
15:02:31,108 DEBUG AbstractBatcher:366 - about to close PreparedStatement (open PreparedStatements: 1, globally: 1)
15:02:31,108 DEBUG AbstractBatcher:525 - closing statement
15:02:31,109 DEBUG ConnectionManager:472 - registering flush end
15:02:31,110 DEBUG AbstractFlushingEventListener:320 - post flush
15:02:31,110 DEBUG JDBCTransaction:103 - commit
15:02:31,110 DEBUG SessionImpl:337 - automatically flushing session
15:02:31,110 DEBUG AbstractFlushingEventListener:58 - flushing session
15:02:31,110 DEBUG AbstractFlushingEventListener:111 - processing flush-time cascades
15:02:31,111 DEBUG AbstractFlushingEventListener:153 - dirty checking collections
15:02:31,111 DEBUG AbstractFlushingEventListener:170 - Flushing entities and processing referenced collections
15:02:31,111 DEBUG AbstractFlushingEventListener:209 - Processing unreferenced collections
15:02:31,111 DEBUG AbstractFlushingEventListener:223 - Scheduling collection removes/(re)creates/updates
15:02:31,112 DEBUG AbstractFlushingEventListener:85 - Flushed: 0 insertions, 0 updates, 0 deletions to 1 objects
15:02:31,112 DEBUG AbstractFlushingEventListener:91 - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
15:02:31,112 DEBUG Printer:83 - listing entities:
15:02:31,112 DEBUG Printer:90 - org.hibernate.test.optlock.Document
15:02:31,112 DEBUG AbstractFlushingEventListener:289 - executing flush
15:02:31,113 DEBUG ConnectionManager:463 - registering flush begin
15:02:31,113 DEBUG ConnectionManager:472 - registering flush end
15:02:31,113 DEBUG AbstractFlushingEventListener:320 - post flush
15:02:31,113 DEBUG JDBCContext:201 - before transaction completion
15:02:31,113 DEBUG SessionImpl:393 - before transaction completion
15:02:31,114 DEBUG JDBCTransaction:116 - committed JDBC Connection
15:02:31,114 DEBUG JDBCContext:215 - after transaction completion
15:02:31,114 DEBUG ConnectionManager:398 - aggressively releasing JDBC connection
15:02:31,114 DEBUG ConnectionManager:435 - releasing JDBC connection [ (open PreparedStatements: 0, globally: 0) (open ResultSets: 0, globally: 0)]
15:02:31,114 DEBUG DriverManagerConnectionProvider:129 - returning connection to pool, pool size: 1
15:02:31,115 DEBUG SessionImpl:422 - after transaction completion
15:02:31,115 DEBUG NonstrictReadWriteCache:142 - Invalidating (again): Dirty#1
15:02:31,115 DEBUG NonstrictReadWriteCache:142 - Invalidating (again): Dirty#1
15:02:31,115 DEBUG SessionImpl:273 - closing session
15:02:31,115 DEBUG ConnectionManager:369 - connection already null in cleanup : no action
15:02:31,116 DEBUG SessionImpl:220 - opened session at timestamp: 4723974762971136
15:02:31,116 DEBUG JDBCTransaction:54 - begin
15:02:31,116 DEBUG ConnectionManager:415 - opening JDBC connection
15:02:31,116 DEBUG DriverManagerConnectionProvider:93 - total checked-out connections: 0
15:02:31,117 DEBUG DriverManagerConnectionProvider:99 - using pooled JDBC connection, pool size: 0
15:02:31,117 DEBUG JDBCTransaction:59 - current autocommit status: false
15:02:31,117 DEBUG JDBCContext:210 - after transaction begin
15:02:31,119 DEBUG DefaultLoadEventListener:169 - loading entity: [All#1]
15:02:31,119 DEBUG DefaultLoadEventListener:328 - attempting to resolve: [All#1]
15:02:31,119 DEBUG NonstrictReadWriteCache:41 - Cache lookup: All#1
15:02:31,119 DEBUG NonstrictReadWriteCache:49 - Cache miss
15:02:31,119 DEBUG DefaultLoadEventListener:368 - object not resolved in any cache: [All#1]
15:02:31,120 DEBUG AbstractEntityPersister:2854 - Fetching entity: [All#1]
15:02:31,120 DEBUG Loader:1776 - loading entity: [All#1]
15:02:31,120 DEBUG AbstractBatcher:358 - about to open PreparedStatement (open PreparedStatements: 0, globally: 0)
15:02:31,121 DEBUG SQL:393 - 
    select
        all0_.id as id3_0_,
        all0_.title as title3_0_,
        all0_.author as author3_0_,
        all0_.year as year3_0_,
        all0_.month as month3_0_,
        all0_.summary as summary3_0_,
        all0_.totalSales as totalSales3_0_,
        all0_."text" as text8_3_0_ 
    from
        Document all0_ 
    where
        all0_.id=?
15:02:31,121 DEBUG AbstractBatcher:476 - preparing statement
15:02:31,123 DEBUG AbstractBatcher:374 - about to open ResultSet (open ResultSets: 0, globally: 0)
15:02:31,123 DEBUG Loader:682 - processing result set
15:02:31,123 DEBUG Loader:687 - result set row: 0
15:02:31,124 DEBUG Loader:1164 - result row: EntityKey[All#1]
15:02:31,124 DEBUG Loader:1346 - Initializing object from ResultSet: [All#1]
15:02:31,124 DEBUG AbstractEntityPersister:1956 - Hydrating entity: [All#1]
15:02:31,125 DEBUG Loader:709 - done processing result set (1 rows)
15:02:31,125 DEBUG AbstractBatcher:381 - about to close ResultSet (open ResultSets: 1, globally: 1)
15:02:31,125 DEBUG AbstractBatcher:366 - about to close PreparedStatement (open PreparedStatements: 1, globally: 1)
15:02:31,125 DEBUG AbstractBatcher:525 - closing statement
15:02:31,126 DEBUG Loader:839 - total objects hydrated: 1
15:02:31,126 DEBUG TwoPhaseLoad:107 - resolving associations for [All#1]
15:02:31,127 DEBUG TwoPhaseLoad:135 - adding entity to second-level cache: [All#1]
15:02:31,127 DEBUG NonstrictReadWriteCache:71 - Caching: All#1
15:02:31,127 DEBUG TwoPhaseLoad:206 - done materializing entity [All#1]
15:02:31,127 DEBUG StatefulPersistenceContext:748 - initializing non-lazy collections
15:02:31,128 DEBUG Loader:1807 - done entity load
15:02:31,128 DEBUG SessionImpl:220 - opened session at timestamp: 4723974763020288
15:02:31,128 DEBUG JDBCTransaction:54 - begin
15:02:31,129 DEBUG ConnectionManager:415 - opening JDBC connection
15:02:31,130 DEBUG DriverManagerConnectionProvider:93 - total checked-out connections: 1
15:02:31,130 DEBUG DriverManagerConnectionProvider:109 - opening new JDBC connection
15:02:31,131 DEBUG DriverManagerConnectionProvider:115 - created connection to: jdbc:hsqldb:., Isolation Level: 0
15:02:31,131 DEBUG JDBCTransaction:59 - current autocommit status: false
15:02:31,131 DEBUG JDBCContext:210 - after transaction begin
15:02:31,131 DEBUG DefaultLoadEventListener:169 - loading entity: [All#1]
15:02:31,131 DEBUG DefaultLoadEventListener:328 - attempting to resolve: [All#1]
15:02:31,132 DEBUG NonstrictReadWriteCache:41 - Cache lookup: All#1
15:02:31,132 DEBUG NonstrictReadWriteCache:46 - Cache hit
15:02:31,132 DEBUG DefaultLoadEventListener:518 - assembling entity from second-level cache: [All#1]
15:02:31,133 DEBUG DefaultLoadEventListener:550 - Cached Version: null
15:02:31,133 DEBUG StatefulPersistenceContext:748 - initializing non-lazy collections
15:02:31,133 DEBUG DefaultLoadEventListener:359 - resolved object in second-level cache: [All#1]
15:02:31,133 DEBUG AbstractFlushingEventListener:58 - flushing session
15:02:31,133 DEBUG AbstractFlushingEventListener:111 - processing flush-time cascades
15:02:31,134 DEBUG AbstractFlushingEventListener:153 - dirty checking collections
15:02:31,134 DEBUG AbstractFlushingEventListener:170 - Flushing entities and processing referenced collections
15:02:31,134 DEBUG AbstractEntityPersister:3000 - All.summary is dirty
15:02:31,135 DEBUG DefaultFlushEntityEventListener:229 - Updating entity: [All#1]
15:02:31,135 DEBUG AbstractFlushingEventListener:209 - Processing unreferenced collections
15:02:31,135 DEBUG AbstractFlushingEventListener:223 - Scheduling collection removes/(re)creates/updates
15:02:31,136 DEBUG AbstractFlushingEventListener:85 - Flushed: 0 insertions, 1 updates, 0 deletions to 1 objects
15:02:31,136 DEBUG AbstractFlushingEventListener:91 - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
15:02:31,136 DEBUG Printer:83 - listing entities:
15:02:31,136 DEBUG Printer:90 - org.hibernate.test.optlock.Document
15:02:31,136 DEBUG AbstractFlushingEventListener:289 - executing flush
15:02:31,137 DEBUG ConnectionManager:463 - registering flush begin
15:02:31,137 DEBUG AbstractEntityPersister:2237 - Updating entity: [All#1]
15:02:31,137 DEBUG AbstractBatcher:358 - about to open PreparedStatement (open PreparedStatements: 0, globally: 0)
15:02:31,138 DEBUG SQL:393 - 
    update
        Document 
    set
        summary=? 
    where
        id=? 
        and title=? 
        and author=? 
        and year=? 
        and month=? 
        and summary=? 
        and "text"=?
15:02:31,138 DEBUG AbstractBatcher:476 - preparing statement
15:02:31,141 DEBUG AbstractEntityPersister:1917 - Dehydrating entity: [All#1]
15:02:31,141 DEBUG NonstrictReadWriteCache:116 - Invalidating: All#1
15:02:31,141 DEBUG AbstractBatcher:44 - Executing batch size: 1
15:02:31,142 DEBUG AbstractBatcher:366 - about to close PreparedStatement (open PreparedStatements: 1, globally: 1)
15:02:31,142 DEBUG AbstractBatcher:525 - closing statement
15:02:31,142 DEBUG ConnectionManager:472 - registering flush end
15:02:31,143 DEBUG AbstractFlushingEventListener:320 - post flush
15:02:31,143 DEBUG JDBCTransaction:103 - commit
15:02:31,143 DEBUG SessionImpl:337 - automatically flushing session
15:02:31,143 DEBUG AbstractFlushingEventListener:58 - flushing session
15:02:31,143 DEBUG AbstractFlushingEventListener:111 - processing flush-time cascades
15:02:31,143 DEBUG AbstractFlushingEventListener:153 - dirty checking collections
15:02:31,144 DEBUG AbstractFlushingEventListener:170 - Flushing entities and processing referenced collections
15:02:31,144 DEBUG AbstractFlushingEventListener:209 - Processing unreferenced collections
15:02:31,144 DEBUG AbstractFlushingEventListener:223 - Scheduling collection removes/(re)creates/updates
15:02:31,144 DEBUG AbstractFlushingEventListener:85 - Flushed: 0 insertions, 0 updates, 0 deletions to 1 objects
15:02:31,145 DEBUG AbstractFlushingEventListener:91 - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
15:02:31,145 DEBUG Printer:83 - listing entities:
15:02:31,145 DEBUG Printer:90 - org.hibernate.test.optlock.Document
15:02:31,145 DEBUG AbstractFlushingEventListener:289 - executing flush
15:02:31,145 DEBUG ConnectionManager:463 - registering flush begin
15:02:31,146 DEBUG ConnectionManager:472 - registering flush end
15:02:31,146 DEBUG AbstractFlushingEventListener:320 - post flush
15:02:31,146 DEBUG JDBCContext:201 - before transaction completion
15:02:31,146 DEBUG SessionImpl:393 - before transaction completion
15:02:31,147 DEBUG JDBCTransaction:116 - committed JDBC Connection
15:02:31,147 DEBUG JDBCContext:215 - after transaction completion
15:02:31,147 DEBUG ConnectionManager:398 - aggressively releasing JDBC connection
15:02:31,147 DEBUG ConnectionManager:435 - releasing JDBC connection [ (open PreparedStatements: 0, globally: 0) (open ResultSets: 0, globally: 0)]
15:02:31,147 DEBUG DriverManagerConnectionProvider:129 - returning connection to pool, pool size: 1
15:02:31,148 DEBUG SessionImpl:422 - after transaction completion
15:02:31,148 DEBUG NonstrictReadWriteCache:142 - Invalidating (again): All#1
15:02:31,148 DEBUG SessionImpl:273 - closing session
15:02:31,148 DEBUG ConnectionManager:369 - connection already null in cleanup : no action
15:02:31,148 DEBUG DefaultDeleteEventListener:108 - deleting a persistent instance
15:02:31,218 DEBUG DefaultDeleteEventListener:178 - deleting [All#1]
15:02:31,218 DEBUG SessionImpl:1308 - setting cache mode to: GET
15:02:31,219 DEBUG SessionImpl:1308 - setting cache mode to: NORMAL
15:02:31,219 DEBUG SessionImpl:1308 - setting cache mode to: GET
15:02:31,219 DEBUG SessionImpl:1308 - setting cache mode to: NORMAL
15:02:31,219 DEBUG JDBCTransaction:103 - commit
15:02:31,219 DEBUG SessionImpl:337 - automatically flushing session
15:02:31,220 DEBUG AbstractFlushingEventListener:58 - flushing session
15:02:31,220 DEBUG AbstractFlushingEventListener:111 - processing flush-time cascades
15:02:31,220 DEBUG AbstractFlushingEventListener:153 - dirty checking collections
15:02:31,220 DEBUG AbstractFlushingEventListener:170 - Flushing entities and processing referenced collections
15:02:31,221 DEBUG AbstractFlushingEventListener:209 - Processing unreferenced collections
15:02:31,221 DEBUG AbstractFlushingEventListener:223 - Scheduling collection removes/(re)creates/updates
15:02:31,221 DEBUG AbstractFlushingEventListener:85 - Flushed: 0 insertions, 0 updates, 1 deletions to 1 objects
15:02:31,221 DEBUG AbstractFlushingEventListener:91 - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
15:02:31,221 DEBUG Printer:83 - listing entities:
15:02:31,222 DEBUG Printer:90 - org.hibernate.test.optlock.Document
15:02:31,222 DEBUG AbstractFlushingEventListener:289 - executing flush
15:02:31,222 DEBUG ConnectionManager:463 - registering flush begin
15:02:31,222 DEBUG AbstractEntityPersister:2353 - Deleting entity: [All#1]
15:02:31,223 DEBUG AbstractBatcher:358 - about to open PreparedStatement (open PreparedStatements: 0, globally: 0)
15:02:31,223 DEBUG SQL:393 - 
    delete 
    from
        Document 
    where
        id=?
15:02:31,223 DEBUG AbstractBatcher:476 - preparing statement
15:02:31,224 DEBUG NonstrictReadWriteCache:116 - Invalidating: All#1
15:02:31,224 DEBUG AbstractBatcher:44 - Executing batch size: 1
15:02:31,225 DEBUG AbstractBatcher:366 - about to close PreparedStatement (open PreparedStatements: 1, globally: 1)
15:02:31,225 DEBUG AbstractBatcher:525 - closing statement
15:02:31,225 DEBUG ConnectionManager:472 - registering flush end
15:02:31,225 DEBUG AbstractFlushingEventListener:320 - post flush
15:02:31,225 DEBUG JDBCContext:201 - before transaction completion
15:02:31,226 DEBUG SessionImpl:393 - before transaction completion
15:02:31,226 DEBUG JDBCTransaction:116 - committed JDBC Connection
15:02:31,226 DEBUG JDBCContext:215 - after transaction completion
15:02:31,226 DEBUG ConnectionManager:398 - aggressively releasing JDBC connection
15:02:31,226 DEBUG ConnectionManager:435 - releasing JDBC connection [ (open PreparedStatements: 0, globally: 0) (open ResultSets: 0, globally: 0)]
15:02:31,227 DEBUG DriverManagerConnectionProvider:135 - closing JDBC connection
15:02:31,227 DEBUG SessionImpl:422 - after transaction completion
15:02:31,227 DEBUG NonstrictReadWriteCache:142 - Invalidating (again): All#1
15:02:31,227  INFO SessionFactoryImpl:767 - closing
15:02:31,228  INFO DriverManagerConnectionProvider:147 - cleaning up connection pool: jdbc:hsqldb:.
15:02:31,228  INFO SchemaExport:154 - Running hbm2ddl schema export
15:02:31,230 DEBUG SchemaExport:170 - import file not found: /import.sql
15:02:31,230  INFO SchemaExport:179 - exporting generated schema to database
15:02:31,230 DEBUG DriverManagerConnectionProvider:93 - total checked-out connections: 0
15:02:31,231 DEBUG DriverManagerConnectionProvider:109 - opening new JDBC connection
15:02:31,231 DEBUG DriverManagerConnectionProvider:115 - created connection to: jdbc:hsqldb:., Isolation Level: 0
15:02:31,234 DEBUG SchemaExport:303 - 
    drop table Document if exists
15:02:31,234  INFO SchemaExport:196 - schema export complete
15:02:31,234 DEBUG DriverManagerConnectionProvider:129 - returning connection to pool, pool size: 1
------------- ---------------- ---------------

Testcase: testOptimisticLockDirty took 2.902 sec
Testcase: testOptimisticLockAll took 0.054 sec
Testcase: testOptimisticLockDirtyDeleteFailureExpected took 0.124 sec
	FAILED
Should fail since other session have update the summary
junit.framework.AssertionFailedError: Should fail since other session have update the summary
	at org.hibernate.test.optlock.OptimisticLockTest.testOptimisticLockDirtyDeleteFailureExpected(OptimisticLockTest.java:97)
	at org.hibernate.test.TestCase.runTest(TestCase.java:162)
	at org.hibernate.test.TestCase.runBare(TestCase.java:401)

Testcase: testOptimisticLockAllDeleteFailureExpected took 0.919 sec
	FAILED
Should fail since other session have update the summary
junit.framework.AssertionFailedError: Should fail since other session have update the summary
	at org.hibernate.test.optlock.OptimisticLockTest.testOptimisticLockAllDeleteFailureExpected(OptimisticLockTest.java:138)
	at org.hibernate.test.TestCase.runTest(TestCase.java:162)
	at org.hibernate.test.TestCase.runBare(TestCase.java:401)

