15:14:27,720  INFO CustomRunner:116 - BeforeClass: org.hibernate.jpa.test.criteria.selectcase.SelectCaseTest
15:14:27,721  INFO CustomRunner:123 - Test: selectCaseWithCastedTypeValuesShouldWork
15:14:27,738  INFO LogHelper:31 - HHH000204: Processing PersistenceUnitInfo [
	name: SelectCaseTest
	...]
15:14:27,776  WARN CachingRegionFactory:48 - org.hibernate.testing.cache.CachingRegionFactory should be only used for testing.
15:14:27,776 DEBUG RegionFactoryInitiator:49 - Cache region factory : org.hibernate.testing.cache.CachingRegionFactory
15:14:27,799  WARN pooling:73 - HHH10001002: Using Hibernate built-in connection pool (not for production use!)
15:14:27,802  INFO pooling:129 - HHH10001005: using driver [com.ibm.db2.jcc.DB2Driver] at URL [jdbc:db2://db2-97.rhev-ci-vms.eng.rdu2.redhat.com:50000/dballo]
15:14:27,802  INFO pooling:138 - HHH10001001: Connection properties: {user=dballo14, password=****}
15:14:27,803  INFO pooling:143 - HHH10001003: Autocommit mode: false
15:14:27,804  INFO DriverManagerConnectionProviderImpl:281 - HHH000115: Hibernate connection pool size: 5 (min=1)
15:14:27,832  INFO Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.DB297Dialect
15:14:27,922  INFO beans:73 - HHH10005002: No explicit CDI BeanManager reference was passed to Hibernate, but CDI is available on the Hibernate ClassLoader.
15:14:28,002 DEBUG SQL:94 - 
    
    drop table entity
Hibernate: 
    
    drop table entity
15:14:28,002  INFO access:47 - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@5e0f99ba] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
15:14:28,020  WARN ExceptionHandlerLoggedImpl:27 - GenerationTarget encountered exception accepting command : Error executing DDL "
    drop table entity" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    drop table entity" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:375)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:359)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:241)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:154)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:126)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:144)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:310)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:467)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:939)
	at org.hibernate.jpa.test.BaseEntityManagerFunctionalTestCase.buildEntityManagerFactory(BaseEntityManagerFunctionalTestCase.java:77)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.ibm.db2.jcc.am.SqlSyntaxErrorException: DB2 SQL Error: SQLCODE=-204, SQLSTATE=42704, SQLERRMC=DBALLO14.ENTITY, DRIVER=4.14.146
	at com.ibm.db2.jcc.am.ed.a(ed.java:677)
	at com.ibm.db2.jcc.am.ed.a(ed.java:60)
	at com.ibm.db2.jcc.am.ed.a(ed.java:127)
	at com.ibm.db2.jcc.am.oo.c(oo.java:2730)
	at com.ibm.db2.jcc.am.oo.d(oo.java:2718)
	at com.ibm.db2.jcc.am.oo.b(oo.java:2085)
	at com.ibm.db2.jcc.t4.bb.i(bb.java:226)
	at com.ibm.db2.jcc.t4.bb.c(bb.java:48)
	at com.ibm.db2.jcc.t4.q.b(q.java:38)
	at com.ibm.db2.jcc.t4.rb.h(rb.java:114)
	at com.ibm.db2.jcc.am.oo.hb(oo.java:2080)
	at com.ibm.db2.jcc.am.oo.a(oo.java:3254)
	at com.ibm.db2.jcc.am.oo.e(oo.java:1088)
	at com.ibm.db2.jcc.am.oo.execute(oo.java:1071)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 25 more
15:14:28,022 DEBUG SQL:94 - 
    
    create table entity (
       id bigint not null,
        value varchar(255),
        primary key (id)
    )
Hibernate: 
    
    create table entity (
       id bigint not null,
        value varchar(255),
        primary key (id)
    )
15:14:28,022  INFO access:47 - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@78d4a94d] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
15:14:28,163  INFO SchemaCreatorImpl:489 - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@6ff9c32f'
15:14:28,175 DEBUG StatisticsInitiator:101 - Statistics initialized [enabled=false]
15:14:28,177  INFO QueryTranslatorFactoryInitiator:47 - HHH000397: Using ASTQueryTranslatorFactory
15:14:28,178 DEBUG QueryTranslatorImpl:287 - parse() - HQL: select generatedAlias0 from org.hibernate.jpa.test.criteria.selectcase.SelectCaseTest$Entity as generatedAlias0 where cast(generatedAlias0.value as string)=case when 1=1 then :param0 else :param1 end
15:14:28,180 DEBUG ErrorTracker:97 - throwQueryException() : no errors
15:14:28,182 DEBUG QueryTranslatorImpl:308 - --- HQL AST ---
 \-[QUERY] Node: 'query'
    +-[SELECT_FROM] Node: 'SELECT_FROM'
    |  +-[FROM] Node: 'from'
    |  |  \-[RANGE] Node: 'RANGE'
    |  |     +-[DOT] Node: '.'
    |  |     |  +-[DOT] Node: '.'
    |  |     |  |  +-[DOT] Node: '.'
    |  |     |  |  |  +-[DOT] Node: '.'
    |  |     |  |  |  |  +-[DOT] Node: '.'
    |  |     |  |  |  |  |  +-[DOT] Node: '.'
    |  |     |  |  |  |  |  |  +-[IDENT] Node: 'org'
    |  |     |  |  |  |  |  |  \-[IDENT] Node: 'hibernate'
    |  |     |  |  |  |  |  \-[IDENT] Node: 'jpa'
    |  |     |  |  |  |  \-[IDENT] Node: 'test'
    |  |     |  |  |  \-[IDENT] Node: 'criteria'
    |  |     |  |  \-[IDENT] Node: 'selectcase'
    |  |     |  \-[IDENT] Node: 'SelectCaseTest$Entity'
    |  |     \-[ALIAS] Node: 'generatedAlias0'
    |  \-[SELECT] Node: 'select'
    |     \-[IDENT] Node: 'generatedAlias0'
    \-[WHERE] Node: 'where'
       \-[EQ] Node: '='
          +-[CAST] Node: 'cast'
          |  +-[DOT] Node: '.'
          |  |  +-[IDENT] Node: 'generatedAlias0'
          |  |  \-[IDENT] Node: 'value'
          |  \-[IDENT] Node: 'string'
          \-[CASE] Node: 'case'
             +-[WHEN] Node: 'when'
             |  +-[EQ] Node: '='
             |  |  +-[NUM_INT] Node: '1'
             |  |  \-[NUM_INT] Node: '1'
             |  \-[COLON] Node: ':'
             |     \-[IDENT] Node: 'param0'
             \-[ELSE] Node: 'else'
                \-[COLON] Node: ':'
                   \-[IDENT] Node: 'param1'

15:14:28,184 DEBUG FromElement:146 - FromClause{level=1} : org.hibernate.jpa.test.criteria.selectcase.SelectCaseTest$Entity (generatedAlias0) -> selectcase0_
15:14:28,189 DEBUG FromReferenceNode:60 - Resolved : generatedAlias0 -> selectcase0_.id
15:14:28,190 DEBUG FromReferenceNode:60 - Resolved : generatedAlias0 -> selectcase0_.id
15:14:28,191 DEBUG DotNode:688 - getDataType() : value -> org.hibernate.type.CustomType@39358ab6
15:14:28,192 DEBUG FromReferenceNode:60 - Resolved : generatedAlias0.value -> selectcase0_.value
15:14:28,194 DEBUG HqlSqlWalker:752 - processQuery() :  ( SELECT ( {select clause} selectcase0_.id ) ( FromClause{level=1} entity selectcase0_ ) ( where ( = ( cast ( selectcase0_.value selectcase0_.id value ) string ) ( case ( when ( = 1 1 ) ? ) ( else ? ) ) ) ) )
15:14:28,195 DEBUG JoinProcessor:192 - Using FROM fragment [entity selectcase0_]
15:14:28,196 DEBUG QueryTranslatorImpl:274 - --- SQL AST ---
 \-[SELECT] QueryNode: 'SELECT'  querySpaces (entity)
    +-[SELECT_CLAUSE] SelectClause: '{select clause}'
    |  +-[ALIAS_REF] IdentNode: 'selectcase0_.id as id1_0_' {alias=generatedAlias0, className=org.hibernate.jpa.test.criteria.selectcase.SelectCaseTest$Entity, tableAlias=selectcase0_}
    |  \-[SQL_TOKEN] SqlFragment: 'selectcase0_.value as value2_0_'
    +-[FROM] FromClause: 'from' FromClause{level=1, fromElementCounter=1, fromElements=1, fromElementByClassAlias=[generatedAlias0], fromElementByTableAlias=[selectcase0_], fromElementsByPath=[], collectionJoinFromElementsByPath=[], impliedElements=[]}
    |  \-[FROM_FRAGMENT] FromElement: 'entity selectcase0_' FromElement{explicit,not a collection join,not a fetch join,fetch non-lazy properties,classAlias=generatedAlias0,role=null,tableName=entity,tableAlias=selectcase0_,origin=null,columns={,className=org.hibernate.jpa.test.criteria.selectcase.SelectCaseTest$Entity}}
    \-[WHERE] SqlNode: 'where'
       \-[EQ] BinaryLogicOperatorNode: '='
          +-[CAST] CastFunctionNode: 'cast'
          |  +-[DOT] DotNode: 'selectcase0_.value' {propertyName=value,dereferenceType=PRIMITIVE,getPropertyPath=value,path=generatedAlias0.value,tableAlias=selectcase0_,className=org.hibernate.jpa.test.criteria.selectcase.SelectCaseTest$Entity,classAlias=generatedAlias0}
          |  |  +-[ALIAS_REF] IdentNode: 'selectcase0_.id' {alias=generatedAlias0, className=org.hibernate.jpa.test.criteria.selectcase.SelectCaseTest$Entity, tableAlias=selectcase0_}
          |  |  \-[IDENT] IdentNode: 'value' {originalText=value}
          |  \-[IDENT] IdentNode: 'string' {originalText=string}
          \-[CASE] SearchedCaseNode: 'case'
             +-[WHEN] SqlNode: 'when'
             |  +-[EQ] BinaryLogicOperatorNode: '='
             |  |  +-[NUM_INT] LiteralNode: '1'
             |  |  \-[NUM_INT] LiteralNode: '1'
             |  \-[NAMED_PARAM] ParameterNode: '?' {name=param0, expectedType=org.hibernate.type.StringType@4af8ab56}
             \-[ELSE] SqlNode: 'else'
                \-[NAMED_PARAM] ParameterNode: '?' {name=param1, expectedType=org.hibernate.type.StringType@4af8ab56}

15:14:28,197 DEBUG ErrorTracker:97 - throwQueryException() : no errors
15:14:28,198 DEBUG QueryTranslatorImpl:253 - HQL: select generatedAlias0 from org.hibernate.jpa.test.criteria.selectcase.SelectCaseTest$Entity as generatedAlias0 where cast(generatedAlias0.value as string)=case when 1=1 then :param0 else :param1 end
15:14:28,199 DEBUG QueryTranslatorImpl:254 - SQL: select selectcase0_.id as id1_0_, selectcase0_.value as value2_0_ from entity selectcase0_ where cast(selectcase0_.value as varchar(255))=case when 1=1 then ? else ? end
15:14:28,208 DEBUG ErrorTracker:97 - throwQueryException() : no errors
15:14:28,210 DEBUG SQL:94 - 
    select
        selectcase0_.id as id1_0_,
        selectcase0_.value as value2_0_ 
    from
        entity selectcase0_ 
    where
        cast(selectcase0_.value as varchar(255))=case 
            when 1=1 then ? 
            else ? 
        end
Hibernate: 
    select
        selectcase0_.id as id1_0_,
        selectcase0_.value as value2_0_ 
    from
        entity selectcase0_ 
    where
        cast(selectcase0_.value as varchar(255))=case 
            when 1=1 then ? 
            else ? 
        end
15:14:28,211 TRACE BasicBinder:65 - binding parameter [1] as [VARCHAR] - [VALUE_1]
15:14:28,212 TRACE BasicBinder:65 - binding parameter [2] as [VARCHAR] - [VALUE_2]
15:14:28,225  WARN SqlExceptionHelper:137 - SQL Error: -418, SQLState: 42610
15:14:28,226 ERROR SqlExceptionHelper:142 - DB2 SQL Error: SQLCODE=-418, SQLSTATE=42610, SQLERRMC=null, DRIVER=4.14.146
15:14:28,227  WARN SqlExceptionHelper:137 - SQL Error: -727, SQLState: 56098
15:14:28,227 ERROR SqlExceptionHelper:142 - DB2 SQL Error: SQLCODE=-727, SQLSTATE=56098, SQLERRMC=2;-418;42610;, DRIVER=4.14.146
15:14:28,231  INFO StatisticalLoggingSessionEventListener:258 - Session Metrics {
    5893 nanoseconds spent acquiring 1 JDBC connections;
    2490613 nanoseconds spent releasing 1 JDBC connections;
    155566 nanoseconds spent preparing 1 JDBC statements;
    12468684 nanoseconds spent executing 1 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
15:14:28,232  WARN SelectCaseTest:297 - The EntityManager is not closed. Closing it.
15:14:28,233  INFO SchemaDropperImpl$DelayedDropActionImpl:524 - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
15:14:28,233 DEBUG SQL:94 - 
    
    drop table entity
Hibernate: 
    
    drop table entity
15:14:28,233  INFO access:47 - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@41269bbb] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
15:14:28,254  INFO pooling:233 - HHH10001008: Cleaning up connection pool [jdbc:db2://db2-97.rhev-ci-vms.eng.rdu2.redhat.com:50000/dballo]
15:14:28,256  INFO CustomRunner:123 - Test: selectCaseWithValuesShouldWork
15:14:28,291  INFO LogHelper:31 - HHH000204: Processing PersistenceUnitInfo [
	name: SelectCaseTest
	...]
15:14:28,342  WARN CachingRegionFactory:48 - org.hibernate.testing.cache.CachingRegionFactory should be only used for testing.
15:14:28,343 DEBUG RegionFactoryInitiator:49 - Cache region factory : org.hibernate.testing.cache.CachingRegionFactory
15:14:28,442  WARN pooling:73 - HHH10001002: Using Hibernate built-in connection pool (not for production use!)
15:14:28,443  INFO pooling:129 - HHH10001005: using driver [com.ibm.db2.jcc.DB2Driver] at URL [jdbc:db2://db2-97.rhev-ci-vms.eng.rdu2.redhat.com:50000/dballo]
15:14:28,443  INFO pooling:138 - HHH10001001: Connection properties: {user=dballo14, password=****}
15:14:28,444  INFO pooling:143 - HHH10001003: Autocommit mode: false
15:14:28,444  INFO DriverManagerConnectionProviderImpl:281 - HHH000115: Hibernate connection pool size: 5 (min=1)
15:14:28,514  INFO Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.DB297Dialect
15:14:28,616  INFO beans:73 - HHH10005002: No explicit CDI BeanManager reference was passed to Hibernate, but CDI is available on the Hibernate ClassLoader.
15:14:28,641 DEBUG SQL:94 - 
    
    drop table entity
Hibernate: 
    
    drop table entity
15:14:28,642  INFO access:47 - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@6de17dcb] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
15:14:28,660  WARN ExceptionHandlerLoggedImpl:27 - GenerationTarget encountered exception accepting command : Error executing DDL "
    drop table entity" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    drop table entity" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:375)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:359)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:241)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:154)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:126)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:144)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:310)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:467)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:939)
	at org.hibernate.jpa.test.BaseEntityManagerFunctionalTestCase.buildEntityManagerFactory(BaseEntityManagerFunctionalTestCase.java:77)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.ibm.db2.jcc.am.SqlSyntaxErrorException: DB2 SQL Error: SQLCODE=-204, SQLSTATE=42704, SQLERRMC=DBALLO14.ENTITY, DRIVER=4.14.146
	at com.ibm.db2.jcc.am.ed.a(ed.java:677)
	at com.ibm.db2.jcc.am.ed.a(ed.java:60)
	at com.ibm.db2.jcc.am.ed.a(ed.java:127)
	at com.ibm.db2.jcc.am.oo.c(oo.java:2730)
	at com.ibm.db2.jcc.am.oo.d(oo.java:2718)
	at com.ibm.db2.jcc.am.oo.b(oo.java:2085)
	at com.ibm.db2.jcc.t4.bb.i(bb.java:226)
	at com.ibm.db2.jcc.t4.bb.c(bb.java:48)
	at com.ibm.db2.jcc.t4.q.b(q.java:38)
	at com.ibm.db2.jcc.t4.rb.h(rb.java:114)
	at com.ibm.db2.jcc.am.oo.hb(oo.java:2080)
	at com.ibm.db2.jcc.am.oo.a(oo.java:3254)
	at com.ibm.db2.jcc.am.oo.e(oo.java:1088)
	at com.ibm.db2.jcc.am.oo.execute(oo.java:1071)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 25 more
15:14:28,665 DEBUG SQL:94 - 
    
    create table entity (
       id bigint not null,
        value varchar(255),
        primary key (id)
    )
Hibernate: 
    
    create table entity (
       id bigint not null,
        value varchar(255),
        primary key (id)
    )
15:14:28,665  INFO access:47 - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@70be9a6e] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
15:14:28,862  INFO SchemaCreatorImpl:489 - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@6ff9c32f'
15:14:28,877 DEBUG StatisticsInitiator:101 - Statistics initialized [enabled=false]
15:14:28,878  INFO QueryTranslatorFactoryInitiator:47 - HHH000397: Using ASTQueryTranslatorFactory
15:14:28,879 DEBUG QueryTranslatorImpl:287 - parse() - HQL: select generatedAlias0 from org.hibernate.jpa.test.criteria.selectcase.SelectCaseTest$Entity as generatedAlias0 where generatedAlias0.value=case when 1=1 then :param0 else :param1 end
15:14:28,880 DEBUG ErrorTracker:97 - throwQueryException() : no errors
15:14:28,882 DEBUG QueryTranslatorImpl:308 - --- HQL AST ---
 \-[QUERY] Node: 'query'
    +-[SELECT_FROM] Node: 'SELECT_FROM'
    |  +-[FROM] Node: 'from'
    |  |  \-[RANGE] Node: 'RANGE'
    |  |     +-[DOT] Node: '.'
    |  |     |  +-[DOT] Node: '.'
    |  |     |  |  +-[DOT] Node: '.'
    |  |     |  |  |  +-[DOT] Node: '.'
    |  |     |  |  |  |  +-[DOT] Node: '.'
    |  |     |  |  |  |  |  +-[DOT] Node: '.'
    |  |     |  |  |  |  |  |  +-[IDENT] Node: 'org'
    |  |     |  |  |  |  |  |  \-[IDENT] Node: 'hibernate'
    |  |     |  |  |  |  |  \-[IDENT] Node: 'jpa'
    |  |     |  |  |  |  \-[IDENT] Node: 'test'
    |  |     |  |  |  \-[IDENT] Node: 'criteria'
    |  |     |  |  \-[IDENT] Node: 'selectcase'
    |  |     |  \-[IDENT] Node: 'SelectCaseTest$Entity'
    |  |     \-[ALIAS] Node: 'generatedAlias0'
    |  \-[SELECT] Node: 'select'
    |     \-[IDENT] Node: 'generatedAlias0'
    \-[WHERE] Node: 'where'
       \-[EQ] Node: '='
          +-[DOT] Node: '.'
          |  +-[IDENT] Node: 'generatedAlias0'
          |  \-[IDENT] Node: 'value'
          \-[CASE] Node: 'case'
             +-[WHEN] Node: 'when'
             |  +-[EQ] Node: '='
             |  |  +-[NUM_INT] Node: '1'
             |  |  \-[NUM_INT] Node: '1'
             |  \-[COLON] Node: ':'
             |     \-[IDENT] Node: 'param0'
             \-[ELSE] Node: 'else'
                \-[COLON] Node: ':'
                   \-[IDENT] Node: 'param1'

15:14:28,883 DEBUG FromElement:146 - FromClause{level=1} : org.hibernate.jpa.test.criteria.selectcase.SelectCaseTest$Entity (generatedAlias0) -> selectcase0_
15:14:28,884 DEBUG FromReferenceNode:60 - Resolved : generatedAlias0 -> selectcase0_.id
15:14:28,900 DEBUG FromReferenceNode:60 - Resolved : generatedAlias0 -> selectcase0_.id
15:14:28,901 DEBUG DotNode:688 - getDataType() : value -> org.hibernate.type.CustomType@388bd160
15:14:28,902 DEBUG FromReferenceNode:60 - Resolved : generatedAlias0.value -> selectcase0_.value
15:14:28,903 DEBUG HqlSqlWalker:752 - processQuery() :  ( SELECT ( {select clause} selectcase0_.id ) ( FromClause{level=1} entity selectcase0_ ) ( where ( = ( selectcase0_.value selectcase0_.id value ) ( case ( when ( = 1 1 ) ? ) ( else ? ) ) ) ) )
15:14:28,904 DEBUG JoinProcessor:192 - Using FROM fragment [entity selectcase0_]
15:14:28,905 DEBUG QueryTranslatorImpl:274 - --- SQL AST ---
 \-[SELECT] QueryNode: 'SELECT'  querySpaces (entity)
    +-[SELECT_CLAUSE] SelectClause: '{select clause}'
    |  +-[ALIAS_REF] IdentNode: 'selectcase0_.id as id1_0_' {alias=generatedAlias0, className=org.hibernate.jpa.test.criteria.selectcase.SelectCaseTest$Entity, tableAlias=selectcase0_}
    |  \-[SQL_TOKEN] SqlFragment: 'selectcase0_.value as value2_0_'
    +-[FROM] FromClause: 'from' FromClause{level=1, fromElementCounter=1, fromElements=1, fromElementByClassAlias=[generatedAlias0], fromElementByTableAlias=[selectcase0_], fromElementsByPath=[], collectionJoinFromElementsByPath=[], impliedElements=[]}
    |  \-[FROM_FRAGMENT] FromElement: 'entity selectcase0_' FromElement{explicit,not a collection join,not a fetch join,fetch non-lazy properties,classAlias=generatedAlias0,role=null,tableName=entity,tableAlias=selectcase0_,origin=null,columns={,className=org.hibernate.jpa.test.criteria.selectcase.SelectCaseTest$Entity}}
    \-[WHERE] SqlNode: 'where'
       \-[EQ] BinaryLogicOperatorNode: '='
          +-[DOT] DotNode: 'selectcase0_.value' {propertyName=value,dereferenceType=PRIMITIVE,getPropertyPath=value,path=generatedAlias0.value,tableAlias=selectcase0_,className=org.hibernate.jpa.test.criteria.selectcase.SelectCaseTest$Entity,classAlias=generatedAlias0}
          |  +-[ALIAS_REF] IdentNode: 'selectcase0_.id' {alias=generatedAlias0, className=org.hibernate.jpa.test.criteria.selectcase.SelectCaseTest$Entity, tableAlias=selectcase0_}
          |  \-[IDENT] IdentNode: 'value' {originalText=value}
          \-[CASE] SearchedCaseNode: 'case'
             +-[WHEN] SqlNode: 'when'
             |  +-[EQ] BinaryLogicOperatorNode: '='
             |  |  +-[NUM_INT] LiteralNode: '1'
             |  |  \-[NUM_INT] LiteralNode: '1'
             |  \-[NAMED_PARAM] ParameterNode: '?' {name=param0, expectedType=org.hibernate.type.CustomType@388bd160}
             \-[ELSE] SqlNode: 'else'
                \-[NAMED_PARAM] ParameterNode: '?' {name=param1, expectedType=org.hibernate.type.CustomType@388bd160}

15:14:28,906 DEBUG ErrorTracker:97 - throwQueryException() : no errors
15:14:28,906 DEBUG QueryTranslatorImpl:253 - HQL: select generatedAlias0 from org.hibernate.jpa.test.criteria.selectcase.SelectCaseTest$Entity as generatedAlias0 where generatedAlias0.value=case when 1=1 then :param0 else :param1 end
15:14:28,907 DEBUG QueryTranslatorImpl:254 - SQL: select selectcase0_.id as id1_0_, selectcase0_.value as value2_0_ from entity selectcase0_ where selectcase0_.value=case when 1=1 then ? else ? end
15:14:28,907 DEBUG ErrorTracker:97 - throwQueryException() : no errors
15:14:28,909 DEBUG SQL:94 - 
    select
        selectcase0_.id as id1_0_,
        selectcase0_.value as value2_0_ 
    from
        entity selectcase0_ 
    where
        selectcase0_.value=case 
            when 1=1 then ? 
            else ? 
        end
Hibernate: 
    select
        selectcase0_.id as id1_0_,
        selectcase0_.value as value2_0_ 
    from
        entity selectcase0_ 
    where
        selectcase0_.value=case 
            when 1=1 then ? 
            else ? 
        end
15:14:28,929  WARN SqlExceptionHelper:137 - SQL Error: -418, SQLState: 42610
15:14:28,930 ERROR SqlExceptionHelper:142 - DB2 SQL Error: SQLCODE=-418, SQLSTATE=42610, SQLERRMC=null, DRIVER=4.14.146
15:14:28,930  WARN SqlExceptionHelper:137 - SQL Error: -727, SQLState: 56098
15:14:28,931 ERROR SqlExceptionHelper:142 - DB2 SQL Error: SQLCODE=-727, SQLSTATE=56098, SQLERRMC=2;-418;42610;, DRIVER=4.14.146
15:14:28,933  INFO StatisticalLoggingSessionEventListener:258 - Session Metrics {
    5508 nanoseconds spent acquiring 1 JDBC connections;
    922287 nanoseconds spent releasing 1 JDBC connections;
    110856 nanoseconds spent preparing 1 JDBC statements;
    19563755 nanoseconds spent executing 1 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
15:14:28,934  WARN SelectCaseTest:297 - The EntityManager is not closed. Closing it.
15:14:28,934  INFO SchemaDropperImpl$DelayedDropActionImpl:524 - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
15:14:28,935 DEBUG SQL:94 - 
    
    drop table entity
Hibernate: 
    
    drop table entity
15:14:28,935  INFO access:47 - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@40227688] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
15:14:28,990  INFO pooling:233 - HHH10001008: Cleaning up connection pool [jdbc:db2://db2-97.rhev-ci-vms.eng.rdu2.redhat.com:50000/dballo]
15:14:28,992  INFO CustomRunner:123 - Test: simpleSelectCaseWithCastedTypeValuesShouldWork
15:14:29,019  INFO LogHelper:31 - HHH000204: Processing PersistenceUnitInfo [
	name: SelectCaseTest
	...]
15:14:29,180  WARN CachingRegionFactory:48 - org.hibernate.testing.cache.CachingRegionFactory should be only used for testing.
15:14:29,181 DEBUG RegionFactoryInitiator:49 - Cache region factory : org.hibernate.testing.cache.CachingRegionFactory
15:14:29,225  WARN pooling:73 - HHH10001002: Using Hibernate built-in connection pool (not for production use!)
15:14:29,225  INFO pooling:129 - HHH10001005: using driver [com.ibm.db2.jcc.DB2Driver] at URL [jdbc:db2://db2-97.rhev-ci-vms.eng.rdu2.redhat.com:50000/dballo]
15:14:29,226  INFO pooling:138 - HHH10001001: Connection properties: {user=dballo14, password=****}
15:14:29,227  INFO pooling:143 - HHH10001003: Autocommit mode: false
15:14:29,228  INFO DriverManagerConnectionProviderImpl:281 - HHH000115: Hibernate connection pool size: 5 (min=1)
15:14:29,281  INFO Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.DB297Dialect
15:14:29,418  INFO beans:73 - HHH10005002: No explicit CDI BeanManager reference was passed to Hibernate, but CDI is available on the Hibernate ClassLoader.
15:14:29,457 DEBUG SQL:94 - 
    
    drop table entity
Hibernate: 
    
    drop table entity
15:14:29,458  INFO access:47 - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@7fcd679d] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
15:14:29,481  WARN ExceptionHandlerLoggedImpl:27 - GenerationTarget encountered exception accepting command : Error executing DDL "
    drop table entity" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    drop table entity" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:375)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:359)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:241)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:154)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:126)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:144)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:310)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:467)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:939)
	at org.hibernate.jpa.test.BaseEntityManagerFunctionalTestCase.buildEntityManagerFactory(BaseEntityManagerFunctionalTestCase.java:77)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.ibm.db2.jcc.am.SqlSyntaxErrorException: DB2 SQL Error: SQLCODE=-204, SQLSTATE=42704, SQLERRMC=DBALLO14.ENTITY, DRIVER=4.14.146
	at com.ibm.db2.jcc.am.ed.a(ed.java:677)
	at com.ibm.db2.jcc.am.ed.a(ed.java:60)
	at com.ibm.db2.jcc.am.ed.a(ed.java:127)
	at com.ibm.db2.jcc.am.oo.c(oo.java:2730)
	at com.ibm.db2.jcc.am.oo.d(oo.java:2718)
	at com.ibm.db2.jcc.am.oo.b(oo.java:2085)
	at com.ibm.db2.jcc.t4.bb.i(bb.java:226)
	at com.ibm.db2.jcc.t4.bb.c(bb.java:48)
	at com.ibm.db2.jcc.t4.q.b(q.java:38)
	at com.ibm.db2.jcc.t4.rb.h(rb.java:114)
	at com.ibm.db2.jcc.am.oo.hb(oo.java:2080)
	at com.ibm.db2.jcc.am.oo.a(oo.java:3254)
	at com.ibm.db2.jcc.am.oo.e(oo.java:1088)
	at com.ibm.db2.jcc.am.oo.execute(oo.java:1071)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 25 more
15:14:29,483 DEBUG SQL:94 - 
    
    create table entity (
       id bigint not null,
        value varchar(255),
        primary key (id)
    )
Hibernate: 
    
    create table entity (
       id bigint not null,
        value varchar(255),
        primary key (id)
    )
15:14:29,484  INFO access:47 - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@3224cbd7] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
15:14:29,634  INFO SchemaCreatorImpl:489 - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@6ff9c32f'
15:14:29,650 DEBUG StatisticsInitiator:101 - Statistics initialized [enabled=false]
15:14:29,656  INFO QueryTranslatorFactoryInitiator:47 - HHH000397: Using ASTQueryTranslatorFactory
15:14:29,656 DEBUG QueryTranslatorImpl:287 - parse() - HQL: select generatedAlias0 from org.hibernate.jpa.test.criteria.selectcase.SelectCaseTest$Entity as generatedAlias0 where cast(generatedAlias0.value as string)=case 1 when 1 then :param0 else :param1 end
15:14:29,657 DEBUG ErrorTracker:97 - throwQueryException() : no errors
15:14:29,658 DEBUG QueryTranslatorImpl:308 - --- HQL AST ---
 \-[QUERY] Node: 'query'
    +-[SELECT_FROM] Node: 'SELECT_FROM'
    |  +-[FROM] Node: 'from'
    |  |  \-[RANGE] Node: 'RANGE'
    |  |     +-[DOT] Node: '.'
    |  |     |  +-[DOT] Node: '.'
    |  |     |  |  +-[DOT] Node: '.'
    |  |     |  |  |  +-[DOT] Node: '.'
    |  |     |  |  |  |  +-[DOT] Node: '.'
    |  |     |  |  |  |  |  +-[DOT] Node: '.'
    |  |     |  |  |  |  |  |  +-[IDENT] Node: 'org'
    |  |     |  |  |  |  |  |  \-[IDENT] Node: 'hibernate'
    |  |     |  |  |  |  |  \-[IDENT] Node: 'jpa'
    |  |     |  |  |  |  \-[IDENT] Node: 'test'
    |  |     |  |  |  \-[IDENT] Node: 'criteria'
    |  |     |  |  \-[IDENT] Node: 'selectcase'
    |  |     |  \-[IDENT] Node: 'SelectCaseTest$Entity'
    |  |     \-[ALIAS] Node: 'generatedAlias0'
    |  \-[SELECT] Node: 'select'
    |     \-[IDENT] Node: 'generatedAlias0'
    \-[WHERE] Node: 'where'
       \-[EQ] Node: '='
          +-[CAST] Node: 'cast'
          |  +-[DOT] Node: '.'
          |  |  +-[IDENT] Node: 'generatedAlias0'
          |  |  \-[IDENT] Node: 'value'
          |  \-[IDENT] Node: 'string'
          \-[CASE2] Node: 'case'
             +-[NUM_INT] Node: '1'
             +-[WHEN] Node: 'when'
             |  +-[NUM_INT] Node: '1'
             |  \-[COLON] Node: ':'
             |     \-[IDENT] Node: 'param0'
             \-[ELSE] Node: 'else'
                \-[COLON] Node: ':'
                   \-[IDENT] Node: 'param1'

15:14:29,659 DEBUG FromElement:146 - FromClause{level=1} : org.hibernate.jpa.test.criteria.selectcase.SelectCaseTest$Entity (generatedAlias0) -> selectcase0_
15:14:29,660 DEBUG FromReferenceNode:60 - Resolved : generatedAlias0 -> selectcase0_.id
15:14:29,682 DEBUG FromReferenceNode:60 - Resolved : generatedAlias0 -> selectcase0_.id
15:14:29,683 DEBUG DotNode:688 - getDataType() : value -> org.hibernate.type.CustomType@3e18d68e
15:14:29,683 DEBUG FromReferenceNode:60 - Resolved : generatedAlias0.value -> selectcase0_.value
15:14:29,686 DEBUG HqlSqlWalker:752 - processQuery() :  ( SELECT ( {select clause} selectcase0_.id ) ( FromClause{level=1} entity selectcase0_ ) ( where ( = ( cast ( selectcase0_.value selectcase0_.id value ) string ) ( case 1 ( when 1 ? ) ( else ? ) ) ) ) )
15:14:29,686 DEBUG JoinProcessor:192 - Using FROM fragment [entity selectcase0_]
15:14:29,695 DEBUG QueryTranslatorImpl:274 - --- SQL AST ---
 \-[SELECT] QueryNode: 'SELECT'  querySpaces (entity)
    +-[SELECT_CLAUSE] SelectClause: '{select clause}'
    |  +-[ALIAS_REF] IdentNode: 'selectcase0_.id as id1_0_' {alias=generatedAlias0, className=org.hibernate.jpa.test.criteria.selectcase.SelectCaseTest$Entity, tableAlias=selectcase0_}
    |  \-[SQL_TOKEN] SqlFragment: 'selectcase0_.value as value2_0_'
    +-[FROM] FromClause: 'from' FromClause{level=1, fromElementCounter=1, fromElements=1, fromElementByClassAlias=[generatedAlias0], fromElementByTableAlias=[selectcase0_], fromElementsByPath=[], collectionJoinFromElementsByPath=[], impliedElements=[]}
    |  \-[FROM_FRAGMENT] FromElement: 'entity selectcase0_' FromElement{explicit,not a collection join,not a fetch join,fetch non-lazy properties,classAlias=generatedAlias0,role=null,tableName=entity,tableAlias=selectcase0_,origin=null,columns={,className=org.hibernate.jpa.test.criteria.selectcase.SelectCaseTest$Entity}}
    \-[WHERE] SqlNode: 'where'
       \-[EQ] BinaryLogicOperatorNode: '='
          +-[CAST] CastFunctionNode: 'cast'
          |  +-[DOT] DotNode: 'selectcase0_.value' {propertyName=value,dereferenceType=PRIMITIVE,getPropertyPath=value,path=generatedAlias0.value,tableAlias=selectcase0_,className=org.hibernate.jpa.test.criteria.selectcase.SelectCaseTest$Entity,classAlias=generatedAlias0}
          |  |  +-[ALIAS_REF] IdentNode: 'selectcase0_.id' {alias=generatedAlias0, className=org.hibernate.jpa.test.criteria.selectcase.SelectCaseTest$Entity, tableAlias=selectcase0_}
          |  |  \-[IDENT] IdentNode: 'value' {originalText=value}
          |  \-[IDENT] IdentNode: 'string' {originalText=string}
          \-[CASE2] SimpleCaseNode: 'case'
             +-[NUM_INT] LiteralNode: '1'
             +-[WHEN] SqlNode: 'when'
             |  +-[NUM_INT] LiteralNode: '1'
             |  \-[NAMED_PARAM] ParameterNode: '?' {name=param0, expectedType=org.hibernate.type.StringType@4af8ab56}
             \-[ELSE] SqlNode: 'else'
                \-[NAMED_PARAM] ParameterNode: '?' {name=param1, expectedType=org.hibernate.type.StringType@4af8ab56}

15:14:29,695 DEBUG ErrorTracker:97 - throwQueryException() : no errors
15:14:29,696 DEBUG QueryTranslatorImpl:253 - HQL: select generatedAlias0 from org.hibernate.jpa.test.criteria.selectcase.SelectCaseTest$Entity as generatedAlias0 where cast(generatedAlias0.value as string)=case 1 when 1 then :param0 else :param1 end
15:14:29,697 DEBUG QueryTranslatorImpl:254 - SQL: select selectcase0_.id as id1_0_, selectcase0_.value as value2_0_ from entity selectcase0_ where cast(selectcase0_.value as varchar(255))=case 1 when 1 then ? else ? end
15:14:29,697 DEBUG ErrorTracker:97 - throwQueryException() : no errors
15:14:29,698 DEBUG SQL:94 - 
    select
        selectcase0_.id as id1_0_,
        selectcase0_.value as value2_0_ 
    from
        entity selectcase0_ 
    where
        cast(selectcase0_.value as varchar(255))=case 1 
            when 1 then ? 
            else ? 
        end
Hibernate: 
    select
        selectcase0_.id as id1_0_,
        selectcase0_.value as value2_0_ 
    from
        entity selectcase0_ 
    where
        cast(selectcase0_.value as varchar(255))=case 1 
            when 1 then ? 
            else ? 
        end
15:14:29,699 TRACE BasicBinder:65 - binding parameter [1] as [VARCHAR] - [VALUE_1]
15:14:29,700 TRACE BasicBinder:65 - binding parameter [2] as [VARCHAR] - [VALUE_2]
15:14:29,707  WARN SqlExceptionHelper:137 - SQL Error: -418, SQLState: 42610
15:14:29,708 ERROR SqlExceptionHelper:142 - DB2 SQL Error: SQLCODE=-418, SQLSTATE=42610, SQLERRMC=null, DRIVER=4.14.146
15:14:29,708  WARN SqlExceptionHelper:137 - SQL Error: -727, SQLState: 56098
15:14:29,708 ERROR SqlExceptionHelper:142 - DB2 SQL Error: SQLCODE=-727, SQLSTATE=56098, SQLERRMC=2;-418;42610;, DRIVER=4.14.146
15:14:29,711  INFO StatisticalLoggingSessionEventListener:258 - Session Metrics {
    5070 nanoseconds spent acquiring 1 JDBC connections;
    1002473 nanoseconds spent releasing 1 JDBC connections;
    97543 nanoseconds spent preparing 1 JDBC statements;
    7185773 nanoseconds spent executing 1 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
15:14:29,711  WARN SelectCaseTest:297 - The EntityManager is not closed. Closing it.
15:14:29,711  INFO SchemaDropperImpl$DelayedDropActionImpl:524 - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
15:14:29,712 DEBUG SQL:94 - 
    
    drop table entity
Hibernate: 
    
    drop table entity
15:14:29,712  INFO access:47 - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@6edc4035] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
15:14:29,748  INFO pooling:233 - HHH10001008: Cleaning up connection pool [jdbc:db2://db2-97.rhev-ci-vms.eng.rdu2.redhat.com:50000/dballo]
15:14:29,763  INFO CustomRunner:123 - Test: simpleSelectCaseWithValuesShouldWork
15:14:29,772  INFO LogHelper:31 - HHH000204: Processing PersistenceUnitInfo [
	name: SelectCaseTest
	...]
15:14:29,829  WARN CachingRegionFactory:48 - org.hibernate.testing.cache.CachingRegionFactory should be only used for testing.
15:14:29,829 DEBUG RegionFactoryInitiator:49 - Cache region factory : org.hibernate.testing.cache.CachingRegionFactory
15:14:29,844  WARN pooling:73 - HHH10001002: Using Hibernate built-in connection pool (not for production use!)
15:14:29,845  INFO pooling:129 - HHH10001005: using driver [com.ibm.db2.jcc.DB2Driver] at URL [jdbc:db2://db2-97.rhev-ci-vms.eng.rdu2.redhat.com:50000/dballo]
15:14:29,845  INFO pooling:138 - HHH10001001: Connection properties: {user=dballo14, password=****}
15:14:29,845  INFO pooling:143 - HHH10001003: Autocommit mode: false
15:14:29,846  INFO DriverManagerConnectionProviderImpl:281 - HHH000115: Hibernate connection pool size: 5 (min=1)
15:14:29,887  INFO Dialect:157 - HHH000400: Using dialect: org.hibernate.dialect.DB297Dialect
15:14:29,939  INFO beans:73 - HHH10005002: No explicit CDI BeanManager reference was passed to Hibernate, but CDI is available on the Hibernate ClassLoader.
15:14:29,966 DEBUG SQL:94 - 
    
    drop table entity
Hibernate: 
    
    drop table entity
15:14:29,968  INFO access:47 - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@75213a33] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
15:14:29,978  WARN ExceptionHandlerLoggedImpl:27 - GenerationTarget encountered exception accepting command : Error executing DDL "
    drop table entity" via JDBC Statement
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    drop table entity" via JDBC Statement
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlString(SchemaDropperImpl.java:375)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.applySqlStrings(SchemaDropperImpl.java:359)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.dropFromMetadata(SchemaDropperImpl.java:241)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.performDrop(SchemaDropperImpl.java:154)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:126)
	at org.hibernate.tool.schema.internal.SchemaDropperImpl.doDrop(SchemaDropperImpl.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:144)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:72)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:310)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:467)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:939)
	at org.hibernate.jpa.test.BaseEntityManagerFunctionalTestCase.buildEntityManagerFactory(BaseEntityManagerFunctionalTestCase.java:77)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)
	at org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:24)
	at org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:298)
	at org.junit.internal.runners.statements.FailOnTimeout$CallableStatement.call(FailOnTimeout.java:292)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.lang.Thread.run(Thread.java:748)
Caused by: com.ibm.db2.jcc.am.SqlSyntaxErrorException: DB2 SQL Error: SQLCODE=-204, SQLSTATE=42704, SQLERRMC=DBALLO14.ENTITY, DRIVER=4.14.146
	at com.ibm.db2.jcc.am.ed.a(ed.java:677)
	at com.ibm.db2.jcc.am.ed.a(ed.java:60)
	at com.ibm.db2.jcc.am.ed.a(ed.java:127)
	at com.ibm.db2.jcc.am.oo.c(oo.java:2730)
	at com.ibm.db2.jcc.am.oo.d(oo.java:2718)
	at com.ibm.db2.jcc.am.oo.b(oo.java:2085)
	at com.ibm.db2.jcc.t4.bb.i(bb.java:226)
	at com.ibm.db2.jcc.t4.bb.c(bb.java:48)
	at com.ibm.db2.jcc.t4.q.b(q.java:38)
	at com.ibm.db2.jcc.t4.rb.h(rb.java:114)
	at com.ibm.db2.jcc.am.oo.hb(oo.java:2080)
	at com.ibm.db2.jcc.am.oo.a(oo.java:3254)
	at com.ibm.db2.jcc.am.oo.e(oo.java:1088)
	at com.ibm.db2.jcc.am.oo.execute(oo.java:1071)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54)
	... 25 more
15:14:29,981 DEBUG SQL:94 - 
    
    create table entity (
       id bigint not null,
        value varchar(255),
        primary key (id)
    )
Hibernate: 
    
    create table entity (
       id bigint not null,
        value varchar(255),
        primary key (id)
    )
15:14:29,981  INFO access:47 - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@562d9563] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
15:14:30,196  INFO SchemaCreatorImpl:489 - HHH000476: Executing import script 'org.hibernate.tool.schema.internal.exec.ScriptSourceInputNonExistentImpl@6ff9c32f'
15:14:30,209 DEBUG StatisticsInitiator:101 - Statistics initialized [enabled=false]
15:14:30,210  INFO QueryTranslatorFactoryInitiator:47 - HHH000397: Using ASTQueryTranslatorFactory
15:14:30,211 DEBUG QueryTranslatorImpl:287 - parse() - HQL: select generatedAlias0 from org.hibernate.jpa.test.criteria.selectcase.SelectCaseTest$Entity as generatedAlias0 where generatedAlias0.value=case 1 when 1 then :param0 else :param1 end
15:14:30,212 DEBUG ErrorTracker:97 - throwQueryException() : no errors
15:14:30,214 DEBUG QueryTranslatorImpl:308 - --- HQL AST ---
 \-[QUERY] Node: 'query'
    +-[SELECT_FROM] Node: 'SELECT_FROM'
    |  +-[FROM] Node: 'from'
    |  |  \-[RANGE] Node: 'RANGE'
    |  |     +-[DOT] Node: '.'
    |  |     |  +-[DOT] Node: '.'
    |  |     |  |  +-[DOT] Node: '.'
    |  |     |  |  |  +-[DOT] Node: '.'
    |  |     |  |  |  |  +-[DOT] Node: '.'
    |  |     |  |  |  |  |  +-[DOT] Node: '.'
    |  |     |  |  |  |  |  |  +-[IDENT] Node: 'org'
    |  |     |  |  |  |  |  |  \-[IDENT] Node: 'hibernate'
    |  |     |  |  |  |  |  \-[IDENT] Node: 'jpa'
    |  |     |  |  |  |  \-[IDENT] Node: 'test'
    |  |     |  |  |  \-[IDENT] Node: 'criteria'
    |  |     |  |  \-[IDENT] Node: 'selectcase'
    |  |     |  \-[IDENT] Node: 'SelectCaseTest$Entity'
    |  |     \-[ALIAS] Node: 'generatedAlias0'
    |  \-[SELECT] Node: 'select'
    |     \-[IDENT] Node: 'generatedAlias0'
    \-[WHERE] Node: 'where'
       \-[EQ] Node: '='
          +-[DOT] Node: '.'
          |  +-[IDENT] Node: 'generatedAlias0'
          |  \-[IDENT] Node: 'value'
          \-[CASE2] Node: 'case'
             +-[NUM_INT] Node: '1'
             +-[WHEN] Node: 'when'
             |  +-[NUM_INT] Node: '1'
             |  \-[COLON] Node: ':'
             |     \-[IDENT] Node: 'param0'
             \-[ELSE] Node: 'else'
                \-[COLON] Node: ':'
                   \-[IDENT] Node: 'param1'

15:14:30,215 DEBUG FromElement:146 - FromClause{level=1} : org.hibernate.jpa.test.criteria.selectcase.SelectCaseTest$Entity (generatedAlias0) -> selectcase0_
15:14:30,216 DEBUG FromReferenceNode:60 - Resolved : generatedAlias0 -> selectcase0_.id
15:14:30,216 DEBUG FromReferenceNode:60 - Resolved : generatedAlias0 -> selectcase0_.id
15:14:30,227 DEBUG DotNode:688 - getDataType() : value -> org.hibernate.type.CustomType@65629ea7
15:14:30,228 DEBUG FromReferenceNode:60 - Resolved : generatedAlias0.value -> selectcase0_.value
15:14:30,229 DEBUG HqlSqlWalker:752 - processQuery() :  ( SELECT ( {select clause} selectcase0_.id ) ( FromClause{level=1} entity selectcase0_ ) ( where ( = ( selectcase0_.value selectcase0_.id value ) ( case 1 ( when 1 ? ) ( else ? ) ) ) ) )
15:14:30,229 DEBUG JoinProcessor:192 - Using FROM fragment [entity selectcase0_]
15:14:30,230 DEBUG QueryTranslatorImpl:274 - --- SQL AST ---
 \-[SELECT] QueryNode: 'SELECT'  querySpaces (entity)
    +-[SELECT_CLAUSE] SelectClause: '{select clause}'
    |  +-[ALIAS_REF] IdentNode: 'selectcase0_.id as id1_0_' {alias=generatedAlias0, className=org.hibernate.jpa.test.criteria.selectcase.SelectCaseTest$Entity, tableAlias=selectcase0_}
    |  \-[SQL_TOKEN] SqlFragment: 'selectcase0_.value as value2_0_'
    +-[FROM] FromClause: 'from' FromClause{level=1, fromElementCounter=1, fromElements=1, fromElementByClassAlias=[generatedAlias0], fromElementByTableAlias=[selectcase0_], fromElementsByPath=[], collectionJoinFromElementsByPath=[], impliedElements=[]}
    |  \-[FROM_FRAGMENT] FromElement: 'entity selectcase0_' FromElement{explicit,not a collection join,not a fetch join,fetch non-lazy properties,classAlias=generatedAlias0,role=null,tableName=entity,tableAlias=selectcase0_,origin=null,columns={,className=org.hibernate.jpa.test.criteria.selectcase.SelectCaseTest$Entity}}
    \-[WHERE] SqlNode: 'where'
       \-[EQ] BinaryLogicOperatorNode: '='
          +-[DOT] DotNode: 'selectcase0_.value' {propertyName=value,dereferenceType=PRIMITIVE,getPropertyPath=value,path=generatedAlias0.value,tableAlias=selectcase0_,className=org.hibernate.jpa.test.criteria.selectcase.SelectCaseTest$Entity,classAlias=generatedAlias0}
          |  +-[ALIAS_REF] IdentNode: 'selectcase0_.id' {alias=generatedAlias0, className=org.hibernate.jpa.test.criteria.selectcase.SelectCaseTest$Entity, tableAlias=selectcase0_}
          |  \-[IDENT] IdentNode: 'value' {originalText=value}
          \-[CASE2] SimpleCaseNode: 'case'
             +-[NUM_INT] LiteralNode: '1'
             +-[WHEN] SqlNode: 'when'
             |  +-[NUM_INT] LiteralNode: '1'
             |  \-[NAMED_PARAM] ParameterNode: '?' {name=param0, expectedType=org.hibernate.type.CustomType@65629ea7}
             \-[ELSE] SqlNode: 'else'
                \-[NAMED_PARAM] ParameterNode: '?' {name=param1, expectedType=org.hibernate.type.CustomType@65629ea7}

15:14:30,231 DEBUG ErrorTracker:97 - throwQueryException() : no errors
15:14:30,232 DEBUG QueryTranslatorImpl:253 - HQL: select generatedAlias0 from org.hibernate.jpa.test.criteria.selectcase.SelectCaseTest$Entity as generatedAlias0 where generatedAlias0.value=case 1 when 1 then :param0 else :param1 end
15:14:30,232 DEBUG QueryTranslatorImpl:254 - SQL: select selectcase0_.id as id1_0_, selectcase0_.value as value2_0_ from entity selectcase0_ where selectcase0_.value=case 1 when 1 then ? else ? end
15:14:30,233 DEBUG ErrorTracker:97 - throwQueryException() : no errors
15:14:30,234 DEBUG SQL:94 - 
    select
        selectcase0_.id as id1_0_,
        selectcase0_.value as value2_0_ 
    from
        entity selectcase0_ 
    where
        selectcase0_.value=case 1 
            when 1 then ? 
            else ? 
        end
Hibernate: 
    select
        selectcase0_.id as id1_0_,
        selectcase0_.value as value2_0_ 
    from
        entity selectcase0_ 
    where
        selectcase0_.value=case 1 
            when 1 then ? 
            else ? 
        end
15:14:30,246  WARN SqlExceptionHelper:137 - SQL Error: -418, SQLState: 42610
15:14:30,247 ERROR SqlExceptionHelper:142 - DB2 SQL Error: SQLCODE=-418, SQLSTATE=42610, SQLERRMC=null, DRIVER=4.14.146
15:14:30,247  WARN SqlExceptionHelper:137 - SQL Error: -727, SQLState: 56098
15:14:30,248 ERROR SqlExceptionHelper:142 - DB2 SQL Error: SQLCODE=-727, SQLSTATE=56098, SQLERRMC=2;-418;42610;, DRIVER=4.14.146
15:14:30,250  INFO StatisticalLoggingSessionEventListener:258 - Session Metrics {
    5226 nanoseconds spent acquiring 1 JDBC connections;
    904664 nanoseconds spent releasing 1 JDBC connections;
    116860 nanoseconds spent preparing 1 JDBC statements;
    11124996 nanoseconds spent executing 1 JDBC statements;
    0 nanoseconds spent executing 0 JDBC batches;
    0 nanoseconds spent performing 0 L2C puts;
    0 nanoseconds spent performing 0 L2C hits;
    0 nanoseconds spent performing 0 L2C misses;
    0 nanoseconds spent executing 0 flushes (flushing a total of 0 entities and 0 collections);
    0 nanoseconds spent executing 0 partial-flushes (flushing a total of 0 entities and 0 collections)
}
15:14:30,251  WARN SelectCaseTest:297 - The EntityManager is not closed. Closing it.
15:14:30,251  INFO SchemaDropperImpl$DelayedDropActionImpl:524 - HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
15:14:30,252 DEBUG SQL:94 - 
    
    drop table entity
Hibernate: 
    
    drop table entity
15:14:30,252  INFO access:47 - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@15691410] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
15:14:30,281  INFO pooling:233 - HHH10001008: Cleaning up connection pool [jdbc:db2://db2-97.rhev-ci-vms.eng.rdu2.redhat.com:50000/dballo]
