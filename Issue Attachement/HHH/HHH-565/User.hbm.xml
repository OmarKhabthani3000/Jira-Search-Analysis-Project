<?xml version="1.0" encoding="UTF-8"?>

<!--
    Document   : User.hbm.xml
    Created on : May 3, 2005, 11:14 AM
    Author     : Kevin
    Description:
        Purpose of the document follows.
-->

<!DOCTYPE hibernate-mapping PUBLIC '-//Hibernate/Hibernate Mapping DTD 3.0//EN' 'http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd'>
<hibernate-mapping>

    <class name="edu.ucsd.netDB.User" table="user">
        <id name="id" type="integer" column="id">
            <generator class="identity" />     
        </id>
     

        <property name="userid">
            <column name="userid" sql-type="varchar(32)" not-null="true"/>
        </property>


        <property name="mailname">
            <column name="mailname" sql-type="varchar(32)" not-null="true"/>
        </property>
        
        <property name="status">
            <column name="status" sql-type="enum('A','E','I')" not-null="true"/>
        </property>
        
        <property name="datecreated">
            <column name="datecreated" sql-type="int(14)" not-null="true"/>
        </property>
        
        <property name="updatetime">
            <column name="updatetime" sql-type="int(14)" not-null="true"/>
        </property>
        
        <property name="expiration">
            <column name="expiration" sql-type="int(14)" not-null="true"/>
        </property>
        
        <property name="flags">
            <column name="flags" sql-type="varchar(4)" not-null="true"/>
        </property>
        
        <property name="permission">
            <column name="permission" sql-type="varchar(8)" not-null="true"/>
        </property>
        
        <property name="affiliation">
            <column name="affiliation" sql-type="varchar(4)" not-null="true"/>
        </property>
        
        <property name="dialreg">
            <column name="dialreg" sql-type="char(2)"/>
        </property>
        
        <property name="studentid">
            <column name="studentid" sql-type="varchar(10)"/>
        </property>
        
        <property name="staffid">
            <column name="staffid" sql-type="varchar(10)"/>
        </property>
        
        <property name="otherid">
            <column name="otherid" sql-type="varchar(10)"/>
        </property>
        
        <property name="sponsor">
            <column name="sponsor" sql-type="varchar(32)"/>
        </property>

        <set name="mail" table="mail" cascade="all, delete-orphan" inverse="true" lazy="false">
            <key column="userid" property-ref="userid" not-null="false"/>
            <one-to-many class="edu.ucsd.netDB.Mail"/>
        </set>

    </class>

</hibernate-mapping>
