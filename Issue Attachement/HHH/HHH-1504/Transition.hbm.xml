<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC
    "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
    "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd" >
<hibernate-mapping>
    <class name="com.j2fe.workflow.definition.Transition" table="FT_O_WFTN" mutable="true" lazy="true">
        <!-- Cached internally already my workflow framework
        <cache usage="read-only"/>-->
        <id name="id" type="string">
            <generator class="com.j2fe.hibernate.OIDGenerator">
                <param name="TemplateGenerator">TransactionIdTemplateGenerator</param>
            </generator>
        </id>
        <many-to-one name="source" class="com.j2fe.workflow.definition.Node" not-null="true" column="from_node" cascade="save-update" update="false"/>
        <many-to-one name="target" class="com.j2fe.workflow.definition.Node" not-null="true" column="to_node" cascade="save-update" update="false"/>
        <many-to-one name="forwardLink" class="com.j2fe.workflow.definition.Transition" not-null="false" column="link" cascade="save-update" update="false"/>
        <set name="backwardLinks" lazy="true" inverse="true">
            <meta attribute="property-type">Set&lt;Transition></meta>
            <!-- Cached internally already my workflow framework
            <cache usage="nonstrict-read-write"/>-->
            <key column="link"/>
            <one-to-many class="com.j2fe.workflow.definition.Transition"/>
        </set>
        <set name="reachableJoins" table="FT_O_WFTJ" lazy="true" inverse="true">
            <meta attribute="property-type">Set&lt;Node></meta>
            <!-- Cached internally already my workflow framework
            <cache usage="nonstrict-read-write"/>-->
            <key column="transition_id"/>
            <many-to-many class="com.j2fe.workflow.definition.Node" column="node_id" />
        </set>
        <property name="name" type="string" not-null="true" column="name" update="false"/>
    </class>
 </hibernate-mapping>