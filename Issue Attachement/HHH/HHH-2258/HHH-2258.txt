13:33:57,023  INFO FunctionalTestClassTestSuite:81 - Starting test-suite [org.hibernate.test.joinedmapfilter.JoinedMapFilterTest]
13:33:57,029  INFO FunctionalTestClassTestSuite:127 - Building aggregated execution environment
13:33:57,077  INFO Environment:552 - Hibernate 3.3.0.GA
13:33:57,093  INFO Environment:570 - loaded properties from resource hibernate.properties: {hibernate.connection.driver_class=org.hsqldb.jdbcDriver, hibernate.connection.isolation=, hibernate.cache.provider_class=org.hibernate.cache.HashtableCacheProvider, hibernate.max_fetch_depth=5, hibernate.dialect=org.hibernate.dialect.HSQLDialect, hibernate.format_sql=true, hibernate.connection.username=sa, hibernate.cache.region_prefix=hibernate.test, hibernate.connection.url=jdbc:hsqldb:target/test/db/hsqldb/hibernate, hibernate.show_sql=true, hibernate.bytecode.use_reflection_optimizer=false, hibernate.connection.password=****, hibernate.connection.pool_size=5}
13:33:57,101  INFO Environment:763 - Bytecode provider name : javassist
13:33:57,118  INFO Environment:644 - using JDK 1.4 java.sql.Timestamp handling
13:33:57,150  INFO Dialect:175 - Using dialect: org.hibernate.dialect.HSQLDialect
13:33:57,479  INFO Configuration:600 - Reading mappings from resource: org/hibernate/test/joinedmapfilter/class.hbm.xml
13:33:57,837  INFO HbmBinder:349 - Mapping class: org.hibernate.test.joinedmapfilter.Toplevel -> toplevel
13:33:57,928  INFO HbmBinder:349 - Mapping class: org.hibernate.test.joinedmapfilter.ProductDetail -> product_detail
13:33:57,931  INFO HbmBinder:1473 - Mapping collection: org.hibernate.test.joinedmapfilter.ProductDetail.attributes -> product_detail_attrs
13:33:57,956  INFO DriverManagerConnectionProvider:64 - Using Hibernate built-in connection pool (not for production use!)
13:33:57,957  INFO DriverManagerConnectionProvider:65 - Hibernate connection pool size: 5
13:33:57,958  INFO DriverManagerConnectionProvider:68 - autocommit mode: false
13:33:57,962  INFO DriverManagerConnectionProvider:103 - using driver: org.hsqldb.jdbcDriver at URL: jdbc:hsqldb:target/test/db/hsqldb/hibernate
13:33:57,963  INFO DriverManagerConnectionProvider:109 - connection properties: {user=sa, password=****}
13:33:58,375  INFO SettingsFactory:114 - RDBMS: HSQL Database Engine, version: 1.8.0
13:33:58,375  INFO SettingsFactory:115 - JDBC driver: HSQL Database Engine Driver, version: 1.8.0
13:33:58,412  INFO Dialect:175 - Using dialect: org.hibernate.dialect.HSQLDialect
13:33:58,418  INFO TransactionFactoryFactory:59 - Using default transaction strategy (direct JDBC transactions)
13:33:58,424  INFO TransactionManagerLookupFactory:80 - No TransactionManagerLookup configured (in JTA environment, use of read-write or transactional second-level cache is not recommended)
13:33:58,424  INFO SettingsFactory:161 - Automatic flush during beforeCompletion(): disabled
13:33:58,425  INFO SettingsFactory:165 - Automatic session close at end of transaction: disabled
13:33:58,426  INFO SettingsFactory:172 - JDBC batch size: 15
13:33:58,427  INFO SettingsFactory:175 - JDBC batch updates for versioned data: disabled
13:33:58,429  INFO SettingsFactory:180 - Scrollable result sets: enabled
13:33:58,430  INFO SettingsFactory:188 - JDBC3 getGeneratedKeys(): disabled
13:33:58,431  INFO SettingsFactory:196 - Connection release mode: auto
13:33:58,434  INFO SettingsFactory:220 - Maximum outer join fetch depth: 5
13:33:58,435  INFO SettingsFactory:223 - Default batch fetch size: 1
13:33:58,436  INFO SettingsFactory:227 - Generate SQL with comments: disabled
13:33:58,436  INFO SettingsFactory:231 - Order SQL updates by primary key: disabled
13:33:58,437  INFO SettingsFactory:235 - Order SQL inserts for batching: disabled
13:33:58,438  INFO SettingsFactory:397 - Query translator: org.hibernate.hql.ast.ASTQueryTranslatorFactory
13:33:58,452  INFO ASTQueryTranslatorFactory:47 - Using ASTQueryTranslatorFactory
13:33:58,454  INFO SettingsFactory:243 - Query language substitutions: {}
13:33:58,454  INFO SettingsFactory:248 - JPA-QL strict compliance: disabled
13:33:58,455  INFO SettingsFactory:253 - Second-level cache: enabled
13:33:58,456  INFO SettingsFactory:257 - Query cache: enabled
13:33:58,459  INFO SettingsFactory:382 - Cache region factory : org.hibernate.cache.impl.bridge.RegionFactoryCacheProviderBridge
13:33:58,476  INFO RegionFactoryCacheProviderBridge:61 - Cache provider: org.hibernate.cache.HashtableCacheProvider
13:33:58,480  INFO SettingsFactory:267 - Optimize cache for minimal puts: disabled
13:33:58,481  INFO SettingsFactory:272 - Cache region prefix: joinedmapfilter
13:33:58,481  INFO SettingsFactory:276 - Structured second-level cache entries: disabled
13:33:58,482  INFO SettingsFactory:361 - Query cache factory: org.hibernate.cache.StandardQueryCacheFactory
13:33:58,498  INFO SettingsFactory:296 - Echoing all SQL to stdout
13:33:58,501  INFO SettingsFactory:305 - Statistics: enabled
13:33:58,502  INFO SettingsFactory:309 - Deleted entity synthetic identifier rollback: disabled
13:33:58,502  INFO SettingsFactory:324 - Default entity-mode: pojo
13:33:58,502  INFO SettingsFactory:328 - Named query checking : enabled
13:33:58,591  INFO SessionFactoryImpl:198 - building session factory
13:33:59,029  INFO SessionFactoryObjectFactory:105 - Not binding factory to JNDI, no JNDI name configured
13:33:59,046  INFO SchemaExport:226 - Running hbm2ddl schema export
13:33:59,048 DEBUG SchemaExport:242 - import file not found: /import.sql
13:33:59,048  INFO SchemaExport:251 - exporting generated schema to database
13:33:59,049 DEBUG SchemaExport:377 - 
    alter table product_detail_attrs 
        drop constraint FK8FE6F884D3BD1200
13:33:59,050 DEBUG SchemaExport:377 - 
    alter table toplevel 
        drop constraint FKC71C674FD3BD1200
13:33:59,050 DEBUG SchemaExport:377 - 
    drop table product_detail if exists
13:33:59,051 DEBUG SchemaExport:377 - 
    drop table product_detail_attrs if exists
13:33:59,051 DEBUG SchemaExport:377 - 
    drop table toplevel if exists
13:33:59,052 DEBUG SchemaExport:377 - 
    create table product_detail (
        product_detail_id bigint generated by default as identity (start with 1),
        long_value_again_one bigint not null,
        primary key (product_detail_id)
    )
13:33:59,054 DEBUG SchemaExport:377 - 
    create table product_detail_attrs (
        product_detail_id bigint not null,
        value varchar(255) not null,
        name varchar(255) not null,
        primary key (product_detail_id, name)
    )
13:33:59,055 DEBUG SchemaExport:377 - 
    create table toplevel (
        toplevel_id bigint generated by default as identity (start with 1),
        long_value_one bigint not null,
        product_detail_id bigint not null,
        description varchar(255),
        primary key (toplevel_id)
    )
13:33:59,056 DEBUG SchemaExport:377 - 
    alter table product_detail_attrs 
        add constraint FK8FE6F884D3BD1200 
        foreign key (product_detail_id) 
        references product_detail
13:33:59,057 DEBUG SchemaExport:377 - 
    alter table toplevel 
        add constraint FKC71C674FD3BD1200 
        foreign key (product_detail_id) 
        references product_detail
13:33:59,058  INFO SchemaExport:268 - schema export complete
13:33:59,064  INFO UpdateTimestampsCache:57 - starting update timestamps cache at region: joinedmapfilter.org.hibernate.cache.UpdateTimestampsCache
13:33:59,070  INFO StandardQueryCache:75 - starting query cache at region: joinedmapfilter.org.hibernate.cache.StandardQueryCache
13:33:59,077  INFO UnitTestCase:62 - Starting test [org.hibernate.test.joinedmapfilter.JoinedMapFilterTest#testJoinedMapFilter]
Hibernate: 
    insert 
    into
        product_detail
        (product_detail_id, long_value_again_one) 
    values
        (null, ?)
Hibernate: 
    call identity()
Hibernate: 
    insert 
    into
        toplevel
        (toplevel_id, long_value_one, product_detail_id, description) 
    values
        (null, ?, ?, ?)
Hibernate: 
    call identity()
Hibernate: 
    insert 
    into
        product_detail_attrs
        (product_detail_id, name, value) 
    values
        (?, ?, ?)
Hibernate: 
    insert 
    into
        product_detail_attrs
        (product_detail_id, name, value) 
    values
        (?, ?, ?)
Hibernate: 
    insert 
    into
        product_detail_attrs
        (product_detail_id, name, value) 
    values
        (?, ?, ?)
13:33:59,305 DEBUG AST:62 - Test
13:33:59,309 DEBUG JDBCTransaction:134 - commit
13:33:59,310 DEBUG AbstractFlushingEventListener:134 - processing flush-time cascades
13:33:59,310 DEBUG AbstractFlushingEventListener:177 - dirty checking collections
13:33:59,315 DEBUG Collections:199 - Collection found: [org.hibernate.test.joinedmapfilter.ProductDetail.attributes#1], was: [org.hibernate.test.joinedmapfilter.ProductDetail.attributes#1] (initialized)
13:33:59,316 DEBUG AbstractFlushingEventListener:108 - Flushed: 0 insertions, 0 updates, 0 deletions to 2 objects
13:33:59,317 DEBUG AbstractFlushingEventListener:114 - Flushed: 0 (re)creations, 0 updates, 0 removals to 1 collections
13:33:59,321 DEBUG Printer:106 - listing entities:
13:33:59,325 DEBUG Printer:113 - org.hibernate.test.joinedmapfilter.ProductDetail{attributes=[valueTwo, valueThree, valueOne], longValueAgainOne=987, productDetailId=1}
13:33:59,326 DEBUG Printer:113 - org.hibernate.test.joinedmapfilter.Toplevel{longValueOne=123, toplevelId=1, productDetail=org.hibernate.test.joinedmapfilter.ProductDetail#1, description=null}
13:33:59,326 DEBUG JDBCTransaction:147 - committed JDBC Connection
13:33:59,327 DEBUG ConnectionManager:427 - aggressively releasing JDBC connection
13:33:59,328 DEBUG ConnectionManager:464 - releasing JDBC connection [ (open PreparedStatements: 0, globally: 0) (open ResultSets: 0, globally: 0)]
13:33:59,328 DEBUG JDBCTransaction:82 - begin
13:33:59,328 DEBUG ConnectionManager:444 - opening JDBC connection
13:33:59,329 DEBUG JDBCTransaction:87 - current autocommit status: false
13:34:02,401 DEBUG QueryTranslatorImpl:272 - parse() - HQL: SELECT r FROM org.hibernate.test.joinedmapfilter.Toplevel AS r WHERE r.toplevelId=? AND r.productDetail.attributes[?]=?
13:34:02,448 DEBUG AST:292 - --- HQL AST ---
 \-[QUERY] 'query'
    +-[SELECT_FROM] 'SELECT_FROM'
    |  +-[FROM] 'FROM'
    |  |  \-[RANGE] 'RANGE'
    |  |     +-[DOT] '.'
    |  |     |  +-[DOT] '.'
    |  |     |  |  +-[DOT] '.'
    |  |     |  |  |  +-[DOT] '.'
    |  |     |  |  |  |  +-[IDENT] 'org'
    |  |     |  |  |  |  \-[IDENT] 'hibernate'
    |  |     |  |  |  \-[IDENT] 'test'
    |  |     |  |  \-[IDENT] 'joinedmapfilter'
    |  |     |  \-[IDENT] 'Toplevel'
    |  |     \-[ALIAS] 'r'
    |  \-[SELECT] 'SELECT'
    |     \-[IDENT] 'r'
    \-[WHERE] 'WHERE'
       \-[AND] 'AND'
          +-[EQ] '='
          |  +-[DOT] '.'
          |  |  +-[IDENT] 'r'
          |  |  \-[IDENT] 'toplevelId'
          |  \-[PARAM] '?'
          \-[EQ] '='
             +-[INDEX_OP] '['
             |  +-[DOT] '.'
             |  |  +-[DOT] '.'
             |  |  |  +-[IDENT] 'r'
             |  |  |  \-[IDENT] 'productDetail'
             |  |  \-[IDENT] 'attributes'
             |  \-[PARAM] '?'
             \-[PARAM] '?'

13:34:02,448 DEBUG ErrorCounter:91 - throwQueryException() : no errors
13:34:02,537 DEBUG HqlSqlBaseWalker:111 - select << begin [level=1, statement=select]
13:34:02,575 DEBUG FromElement:131 - FromClause{level=1} :  org.hibernate.test.joinedmapfilter.Toplevel (r) -> toplevel0_
13:34:02,579 DEBUG FromReferenceNode:74 - Resolved :  r -> toplevel0_.toplevel_id
13:34:02,589 DEBUG FromReferenceNode:74 - Resolved :  r -> toplevel0_.toplevel_id
13:34:02,593 DEBUG DotNode:591 - getDataType() : toplevelId -> org.hibernate.type.LongType@6e3e5e
13:34:02,596 DEBUG FromReferenceNode:74 - Resolved :  r.toplevelId -> toplevel0_.toplevel_id
13:34:02,607 DEBUG FromReferenceNode:74 - Resolved :  r -> toplevel0_.toplevel_id
13:34:02,609 DEBUG DotNode:591 - getDataType() : productDetail -> org.hibernate.type.ManyToOneType(org.hibernate.test.joinedmapfilter.ProductDetail)
13:34:02,610 DEBUG DotNode:390 - dereferenceEntityJoin() : generating join for productDetail in org.hibernate.test.joinedmapfilter.Toplevel {no alias} parent = [  ( . ( . toplevel0_.toplevel_id productDetail ) attributes ) ]
13:34:02,616 DEBUG FromElement:131 - FromClause{level=1} :  org.hibernate.test.joinedmapfilter.ProductDetail (no alias) -> productdet1_
13:34:02,617 DEBUG FromClause:257 - addJoinByPathMap() : r.productDetail -> product_detail productdet1_
13:34:02,618 DEBUG FromReferenceNode:74 - Resolved :  r.productDetail -> toplevel0_.product_detail_id
13:34:02,619 DEBUG DotNode:591 - getDataType() : attributes -> org.hibernate.type.MapType(org.hibernate.test.joinedmapfilter.ProductDetail.attributes)
13:34:02,624 DEBUG FromElement:131 - FromClause{level=1} :  null (no alias) -> attributes2_
13:34:02,626 DEBUG FromClause:347 - addCollectionJoinFromElementByPath() : r.productDetail.attributes -> product_detail_attrs
13:34:02,627 DEBUG DotNode:307 - dereferenceCollection() : Created new FROM element for r.productDetail.attributes : product_detail_attrs attributes2_
13:34:02,627 DEBUG IndexNode:115 - FROM element found for collection join path r.productDetail.attributes
13:34:02,643 DEBUG FromReferenceNode:74 - Resolved :  [ -> attributes2_.value
13:34:02,644 DEBUG HqlSqlBaseWalker:117 - select : finishing up [level=1, statement=select]
13:34:02,645 DEBUG HqlSqlWalker:535 - processQuery() :  ( SELECT ( {select clause} toplevel0_.toplevel_id ) ( FromClause{level=1} toplevel toplevel0_  product_detail_attrs attributes2_ ) ( WHERE ( AND ( = ( toplevel0_.toplevel_id toplevel0_.toplevel_id toplevelId ) ? ) ( = ( attributes2_.value ( . ( toplevel0_.product_detail_id toplevel0_.toplevel_id productDetail ) attributes ) ? ) ? ) ) ) )
13:34:02,665 DEBUG JoinProcessor:179 - Using FROM fragment [toplevel toplevel0_]
13:34:02,669 DEBUG SyntheticAndFactory:94 - Using unprocessed WHERE-fragment [toplevel0_.product_detail_id=productdet1_.product_detail_id]
13:34:02,670 DEBUG SyntheticAndFactory:120 - Using processed WHERE-fragment [toplevel0_.product_detail_id=productdet1_.product_detail_id]
13:34:02,671 DEBUG SyntheticAndFactory:94 - Using unprocessed WHERE-fragment [productdet1_.product_detail_id=attributes2_.product_detail_id and attributes2_.name = ?]
13:34:02,672 DEBUG SyntheticAndFactory:120 - Using processed WHERE-fragment [productdet1_.product_detail_id=attributes2_.product_detail_id and attributes2_.name = ?]
13:34:02,672 DEBUG HqlSqlBaseWalker:123 - select >> end [level=1, statement=select]
13:34:02,680 DEBUG AST:258 - --- SQL AST ---
 \-[SELECT] QueryNode: 'SELECT'  querySpaces (product_detail_attrs,toplevel,product_detail)
    +-[SELECT_CLAUSE] SelectClause: '{select clause}'
    |  +-[ALIAS_REF] IdentNode: 'toplevel0_.toplevel_id as toplevel1_0_' {alias=r, className=org.hibernate.test.joinedmapfilter.Toplevel, tableAlias=toplevel0_}
    |  \-[SQL_TOKEN] SqlFragment: 'toplevel0_.long_value_one as long2_0_, toplevel0_.product_detail_id as product3_0_, toplevel0_.description as descript4_0_'
    +-[FROM] FromClause: 'FROM' FromClause{level=1, fromElementCounter=2, fromElements=3, fromElementByClassAlias=[r], fromElementByTableAlias=[toplevel0_, productdet1_, attributes2_], fromElementsByPath=[r.productDetail], collectionJoinFromElementsByPath=[r.productDetail.attributes], impliedElements=[]}
    |  +-[FROM_FRAGMENT] FromElement: 'toplevel toplevel0_' FromElement{explicit,not a collection join,not a fetch join,fetch non-lazy properties,classAlias=r,role=null,tableName=toplevel,tableAlias=toplevel0_,origin=null,colums={,className=org.hibernate.test.joinedmapfilter.Toplevel}}
    |  +-[FROM_FRAGMENT] ImpliedFromElement: '' ImpliedFromElement{implied,collection join,not a fetch join,fetch non-lazy properties,classAlias=null,role=null,tableName=product_detail,tableAlias=productdet1_,origin=toplevel toplevel0_,colums={toplevel0_.product_detail_id ,className=org.hibernate.test.joinedmapfilter.ProductDetail}}
    |  \-[FROM_FRAGMENT] ImpliedFromElement: 'product_detail_attrs attributes2_' ImpliedFromElement{implied,collection join,not a fetch join,fetch non-lazy properties,classAlias=null,role=org.hibernate.test.joinedmapfilter.ProductDetail.attributes,tableName={none},tableAlias=attributes2_,origin=toplevel toplevel0_,colums={,className=null}}
    \-[WHERE] SqlNode: 'WHERE'
       +-[THETA_JOINS] SqlNode: '{theta joins}'
       |  +-[SQL_TOKEN] SqlFragment: 'toplevel0_.product_detail_id=productdet1_.product_detail_id'
       |  \-[SQL_TOKEN] SqlFragment: 'productdet1_.product_detail_id=attributes2_.product_detail_id and attributes2_.name = ?'
       \-[AND] SqlNode: 'AND'
          +-[EQ] BinaryLogicOperatorNode: '='
          |  +-[DOT] DotNode: 'toplevel0_.toplevel_id' {propertyName=toplevelId,dereferenceType=4,propertyPath=toplevelId,path=r.toplevelId,tableAlias=toplevel0_,className=org.hibernate.test.joinedmapfilter.Toplevel,classAlias=r}
          |  |  +-[ALIAS_REF] IdentNode: 'toplevel0_.toplevel_id' {alias=r, className=org.hibernate.test.joinedmapfilter.Toplevel, tableAlias=toplevel0_}
          |  |  \-[IDENT] IdentNode: 'toplevelId' {originalText=toplevelId}
          |  \-[PARAM] ParameterNode: '?' {ordinal=0, expectedType=org.hibernate.type.LongType@6e3e5e}
          \-[EQ] BinaryLogicOperatorNode: '='
             +-[INDEX_OP] IndexNode: 'attributes2_.value' {ImpliedFromElement{implied,collection join,not a fetch join,fetch non-lazy properties,classAlias=null,role=org.hibernate.test.joinedmapfilter.ProductDetail.attributes,tableName={none},tableAlias=attributes2_,origin=toplevel toplevel0_,colums={,className=null}}}
             |  +-[DOT] DotNode: '.' {propertyName=attributes,dereferenceType=3,propertyPath=attributes,path=r.productDetail.attributes,tableAlias=attributes2_,className=null,classAlias=null}
             |  |  +-[DOT] DotNode: 'toplevel0_.product_detail_id' {propertyName=productDetail,dereferenceType=1,propertyPath=productDetail,path=r.productDetail,tableAlias=productdet1_,className=org.hibernate.test.joinedmapfilter.ProductDetail,classAlias=null}
             |  |  |  +-[ALIAS_REF] IdentNode: 'toplevel0_.toplevel_id' {alias=r, className=org.hibernate.test.joinedmapfilter.Toplevel, tableAlias=toplevel0_}
             |  |  |  \-[IDENT] IdentNode: 'productDetail' {originalText=productDetail}
             |  |  \-[IDENT] IdentNode: 'attributes' {originalText=attributes}
             |  \-[PARAM] ParameterNode: '?' {ordinal=1, expectedType=null}
             \-[PARAM] ParameterNode: '?' {ordinal=2, expectedType=null}

13:34:02,681 DEBUG ErrorCounter:91 - throwQueryException() : no errors
13:34:03,477 DEBUG QueryTranslatorImpl:241 - HQL: SELECT r FROM org.hibernate.test.joinedmapfilter.Toplevel AS r WHERE r.toplevelId=? AND r.productDetail.attributes[?]=?
13:34:03,478 DEBUG QueryTranslatorImpl:242 - SQL: select toplevel0_.toplevel_id as toplevel1_0_, toplevel0_.long_value_one as long2_0_, toplevel0_.product_detail_id as product3_0_, toplevel0_.description as descript4_0_ from toplevel toplevel0_, product_detail_attrs attributes2_ where toplevel0_.product_detail_id=productdet1_.product_detail_id and productdet1_.product_detail_id=attributes2_.product_detail_id and attributes2_.name = ? and toplevel0_.toplevel_id=? and attributes2_.value=?
13:34:03,478 DEBUG ErrorCounter:91 - throwQueryException() : no errors
13:34:07,215 DEBUG AbstractFlushingEventListener:134 - processing flush-time cascades
13:34:07,216 DEBUG AbstractFlushingEventListener:177 - dirty checking collections
13:34:07,217 DEBUG Collections:199 - Collection found: [org.hibernate.test.joinedmapfilter.ProductDetail.attributes#1], was: [org.hibernate.test.joinedmapfilter.ProductDetail.attributes#1] (initialized)
13:34:07,218 DEBUG AbstractFlushingEventListener:108 - Flushed: 0 insertions, 0 updates, 0 deletions to 2 objects
13:34:07,218 DEBUG AbstractFlushingEventListener:114 - Flushed: 0 (re)creations, 0 updates, 0 removals to 1 collections
13:34:07,219 DEBUG Printer:106 - listing entities:
13:34:07,219 DEBUG Printer:113 - org.hibernate.test.joinedmapfilter.ProductDetail{attributes=[valueTwo, valueThree, valueOne], longValueAgainOne=987, productDetailId=1}
13:34:07,220 DEBUG Printer:113 - org.hibernate.test.joinedmapfilter.Toplevel{longValueOne=123, toplevelId=1, productDetail=org.hibernate.test.joinedmapfilter.ProductDetail#1, description=null}
13:34:07,230 DEBUG AbstractBatcher:410 - about to open PreparedStatement (open PreparedStatements: 0, globally: 0)
13:34:07,233 DEBUG SQL:111 - 
    select
        toplevel0_.toplevel_id as toplevel1_0_,
        toplevel0_.long_value_one as long2_0_,
        toplevel0_.product_detail_id as product3_0_,
        toplevel0_.description as descript4_0_ 
    from
        toplevel toplevel0_,
        product_detail_attrs attributes2_ 
    where
        toplevel0_.product_detail_id=productdet1_.product_detail_id 
        and productdet1_.product_detail_id=attributes2_.product_detail_id 
        and attributes2_.name = ? 
        and toplevel0_.toplevel_id=? 
        and attributes2_.value=?
Hibernate: 
    select
        toplevel0_.toplevel_id as toplevel1_0_,
        toplevel0_.long_value_one as long2_0_,
        toplevel0_.product_detail_id as product3_0_,
        toplevel0_.description as descript4_0_ 
    from
        toplevel toplevel0_,
        product_detail_attrs attributes2_ 
    where
        toplevel0_.product_detail_id=productdet1_.product_detail_id 
        and productdet1_.product_detail_id=attributes2_.product_detail_id 
        and attributes2_.name = ? 
        and toplevel0_.toplevel_id=? 
        and attributes2_.value=?
13:34:07,254 DEBUG JDBCExceptionReporter:92 - could not execute query [select toplevel0_.toplevel_id as toplevel1_0_, toplevel0_.long_value_one as long2_0_, toplevel0_.product_detail_id as product3_0_, toplevel0_.description as descript4_0_ from toplevel toplevel0_, product_detail_attrs attributes2_ where toplevel0_.product_detail_id=productdet1_.product_detail_id and productdet1_.product_detail_id=attributes2_.product_detail_id and attributes2_.name = ? and toplevel0_.toplevel_id=? and attributes2_.value=?]
java.sql.SQLException: Column not found: PRODUCTDET1_.PRODUCT_DETAIL_ID in statement [select toplevel0_.toplevel_id as toplevel1_0_, toplevel0_.long_value_one as long2_0_, toplevel0_.product_detail_id as product3_0_, toplevel0_.description as descript4_0_ from toplevel toplevel0_, product_detail_attrs attributes2_ where toplevel0_.product_detail_id=productdet1_.product_detail_id and productdet1_.product_detail_id=attributes2_.product_detail_id and attributes2_.name = ? and toplevel0_.toplevel_id=? and attributes2_.value=?]
	at org.hsqldb.jdbc.Util.throwError(Unknown Source)
	at org.hsqldb.jdbc.jdbcPreparedStatement.<init>(Unknown Source)
	at org.hsqldb.jdbc.jdbcConnection.prepareStatement(Unknown Source)
	at org.hibernate.jdbc.AbstractBatcher.getPreparedStatement(AbstractBatcher.java:534)
	at org.hibernate.jdbc.AbstractBatcher.getPreparedStatement(AbstractBatcher.java:452)
	at org.hibernate.jdbc.AbstractBatcher.prepareQueryStatement(AbstractBatcher.java:161)
	at org.hibernate.loader.Loader.prepareQueryStatement(Loader.java:1574)
	at org.hibernate.loader.Loader.doQuery(Loader.java:696)
	at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:259)
	at org.hibernate.loader.Loader.doList(Loader.java:2228)
	at org.hibernate.loader.Loader.listIgnoreQueryCache(Loader.java:2125)
	at org.hibernate.loader.Loader.list(Loader.java:2120)
	at org.hibernate.loader.hql.QueryLoader.list(QueryLoader.java:401)
	at org.hibernate.hql.ast.QueryTranslatorImpl.list(QueryTranslatorImpl.java:364)
	at org.hibernate.engine.query.HQLQueryPlan.performList(HQLQueryPlan.java:196)
	at org.hibernate.impl.SessionImpl.list(SessionImpl.java:1083)
	at org.hibernate.impl.QueryImpl.list(QueryImpl.java:102)
	at org.hibernate.test.joinedmapfilter.JoinedMapFilterTest.testJoinedMapFilter(JoinedMapFilterTest.java:127)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:585)
	at junit.framework.TestCase.runTest(TestCase.java:164)
	at org.hibernate.junit.functional.FunctionalTestCase.runTest(FunctionalTestCase.java:125)
	at junit.framework.TestCase.runBare(TestCase.java:130)
	at org.hibernate.junit.UnitTestCase.runBare(UnitTestCase.java:63)
	at junit.framework.TestResult$1.protect(TestResult.java:106)
	at junit.framework.TestResult.runProtected(TestResult.java:124)
	at junit.framework.TestResult.run(TestResult.java:109)
	at junit.framework.TestCase.run(TestCase.java:120)
	at junit.framework.TestSuite.runTest(TestSuite.java:230)
	at org.hibernate.junit.functional.FunctionalTestClassTestSuite.runTest(FunctionalTestClassTestSuite.java:115)
	at junit.framework.TestSuite.run(TestSuite.java:225)
	at org.hibernate.junit.functional.FunctionalTestClassTestSuite.run(FunctionalTestClassTestSuite.java:84)
	at org.eclipse.jdt.internal.junit.runner.junit3.JUnit3TestReference.run(JUnit3TestReference.java:130)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:460)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:673)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:386)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:196)
13:34:07,257  WARN JDBCExceptionReporter:100 - SQL Error: -28, SQLState: S0022
13:34:07,257 ERROR JDBCExceptionReporter:101 - Column not found: PRODUCTDET1_.PRODUCT_DETAIL_ID in statement [select toplevel0_.toplevel_id as toplevel1_0_, toplevel0_.long_value_one as long2_0_, toplevel0_.product_detail_id as product3_0_, toplevel0_.description as descript4_0_ from toplevel toplevel0_, product_detail_attrs attributes2_ where toplevel0_.product_detail_id=productdet1_.product_detail_id and productdet1_.product_detail_id=attributes2_.product_detail_id and attributes2_.name = ? and toplevel0_.toplevel_id=? and attributes2_.value=?]
13:34:07,290 DEBUG ConnectionManager:464 - releasing JDBC connection [ (open PreparedStatements: 1, globally: 1) (open ResultSets: 0, globally: 0)]
13:34:07,293  INFO UnitTestCase:80 - Completed test [org.hibernate.test.joinedmapfilter.JoinedMapFilterTest#testJoinedMapFilter]
13:34:07,303  INFO FunctionalTestClassTestSuite:139 - Destroying aggregated execution environment
13:34:07,304  INFO SessionFactoryImpl:901 - closing
13:34:07,305  INFO SchemaExport:226 - Running hbm2ddl schema export
13:34:07,306 DEBUG SchemaExport:242 - import file not found: /import.sql
13:34:07,306  INFO SchemaExport:251 - exporting generated schema to database
13:34:07,307 DEBUG SchemaExport:377 - 
    alter table product_detail_attrs 
        drop constraint FK8FE6F884D3BD1200
13:34:07,308 DEBUG SchemaExport:377 - 
    alter table toplevel 
        drop constraint FKC71C674FD3BD1200
13:34:07,308 DEBUG SchemaExport:377 - 
    drop table product_detail if exists
13:34:07,309 DEBUG SchemaExport:377 - 
    drop table product_detail_attrs if exists
13:34:07,310 DEBUG SchemaExport:377 - 
    drop table toplevel if exists
13:34:07,310  INFO SchemaExport:268 - schema export complete
13:34:07,311  INFO DriverManagerConnectionProvider:170 - cleaning up connection pool: jdbc:hsqldb:target/test/db/hsqldb/hibernate
13:34:07,317  INFO FunctionalTestClassTestSuite:92 - Completed test-suite [org.hibernate.test.joinedmapfilter.JoinedMapFilterTest]
