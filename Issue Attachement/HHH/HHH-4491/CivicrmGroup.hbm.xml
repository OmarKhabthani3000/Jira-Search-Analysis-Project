<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
                                   "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<!-- Generated 17/01/2009 13:22:56 by Hibernate Tools 3.2.2.GA -->
<hibernate-mapping>
 <class catalog="test" entity-name="CivicrmGroup"
  name="nz.org.wpc.crm.dao.CivicrmGroup" schema="public" table="civicrm_group">
  <id name="id" type="java.lang.Integer">
   <column name="id"/>
   <generator class="identity"/>
  </id>
  <many-to-one class="nz.org.wpc.crm.dao.CivicrmSavedSearch"
   entity-name="CivicrmSavedSearch"
   fetch="select" name="civicrmSavedSearch">
   <column name="saved_search_id"/>
  </many-to-one>
  <property generated="never" lazy="false" name="name" type="string">
   <column length="64" name="name" unique="true"/>
  </property>
  <property generated="never" lazy="false" name="title" type="string">
   <column length="64" name="title" unique="true"/>
  </property>
  <property generated="never" lazy="false" name="description" type="clob">
   <column name="description"/>
  </property>
  <property generated="never" lazy="false" name="source" type="string">
   <column length="64" name="source"/>
  </property>
  <property generated="never" lazy="false" name="isActive" type="boolean">
   <column name="is_active"/>
  </property>
  <property generated="never" lazy="false" name="visibility" type="string">
   <column length="31" name="visibility"/>
  </property>
  <property generated="never" lazy="false" name="whereClause" type="clob">
   <column name="where_clause"/>
  </property>
  <property generated="never" lazy="false" name="selectTables" type="clob">
   <column name="select_tables"/>
  </property>
  <property generated="never" lazy="false" name="whereTables" type="clob">
   <column name="where_tables"/>
  </property>
  <property generated="never" lazy="false" name="groupType" type="string">
   <column length="128" name="group_type"/>
  </property>
  <property generated="never" lazy="false" name="cacheDate" type="timestamp">
   <column length="23" name="cache_date"/>
  </property>
  <property generated="never" lazy="false" name="parents" type="clob">
   <column name="parents"/>
  </property>
  <property generated="never" lazy="false" name="children" type="clob">
   <column name="children"/>
  </property>
  <set inverse="true" name="civicrmGroupContacts" sort="unsorted">
   <key>
    <column name="group_id" not-null="true"/>
   </key>
   <one-to-many entity-name="CivicrmGroupContact"/>
  </set>
  <set inverse="true" name="civicrmSubscriptionHistories" sort="unsorted">
   <key>
    <column name="group_id"/>
   </key>
   <one-to-many class="nz.org.wpc.crm.dao.CivicrmSubscriptionHistory"/>
  </set>
  <set inverse="true" name="civicrmGroupContactCaches" sort="unsorted">
   <key>
    <column name="group_id" not-null="true"/>
   </key>
   <one-to-many class="nz.org.wpc.crm.dao.CivicrmGroupContactCache"/>
  </set>
  <set inverse="true" name="civicrmGroupNestingsForChildGroupId"  sort="unsorted">
   <key>
    <column name="child_group_id" not-null="true"/>
   </key>
   <one-to-many class="nz.org.wpc.crm.dao.CivicrmGroupNesting" entity-name='CivicrmGroupNesting'/>
  </set>
  <set inverse="true" name="civicrmMailingEventSubscribes" sort="unsorted">
   <key>
    <column name="group_id" not-null="true"/>
   </key>
   <one-to-many class="nz.org.wpc.crm.dao.CivicrmMailingEventSubscribe"/>
  </set>
  <set inverse="true" name="civicrmGroupOrganizations" sort="unsorted">
   <key>
    <column name="group_id" not-null="true"/>
   </key>
   <one-to-many class="nz.org.wpc.crm.dao.CivicrmGroupOrganization"/>
  </set>
  <set inverse="true" name="civicrmGroupNestingsForParentGroupId" sort="unsorted">
   <key>
    <column name="parent_group_id" not-null="true"/>
   </key>
   <one-to-many class="nz.org.wpc.crm.dao.CivicrmGroupNesting" entity-name='CivicrmGroupNesting'/>
  </set>
  <set inverse="true" name="civicrmUfGroupsForAddToGroupId" sort="unsorted">
   <key>
    <column name="add_to_group_id"/>
   </key>
   <one-to-many class="nz.org.wpc.crm.dao.CivicrmUfGroup"/>
  </set>
  <set inverse="true" name="civicrmUfGroupsForLimitListingsGroupId" sort="unsorted">
   <key>
    <column name="limit_listings_group_id"/>
   </key>
   <one-to-many class="nz.org.wpc.crm.dao.CivicrmUfGroup"/>
  </set>
 </class>
 <query name="CivicrmGroup.findByContactId">select cg.civicrmGroup &#xd;
from  	CivicrmGroupContact as cg &#xd;
where cg.civicrmContact.id=:contact and cg.status='Added'  &#xd;
  and cg.civicrmGroup  is not null</query>
</hibernate-mapping>
