


org.hibernate.exception.SQLGrammarException: could not load an entity: [com.almega.SPLASH.model.impl.SolutionImpl#65922] caught trying to run query: 

from com.almega.SPLASH.model.Graphics as Graphics where Graphics.FID = 'AR0106'

POJO (impl) classes (with <= denoting inheritance) are 

DataStructure <= Solution
DataStructure <= Feature <= Hardware <= Graphics

with Solution and Feature having bidirectional 1-1 association (Solution.resultingFeature & Feature.generatingSolution)


Extract of mapping file


<?xml version="1.0" ?>
<!DOCTYPE hibernate-mapping
	PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
	"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">

<hibernate-mapping>

...


	<class table="`DataStructure`" name="com.almega.mavis.shells.rad.impl.DataStructureImpl" lazy="false">
		<cache usage="read-write"/>
		<id name="id" type="java.lang.Long">
			<generator class="hilo">
				<param name="table">hi_value</param>
				<param name="column">next_value</param>
			</generator>
		</id>
		<discriminator column="subclass" type="string"/>
		<timestamp column="timestamp" unsaved-value="null" name="timestamp"/>
		<property column="`ModificationAccess`" name="ModificationAccess"/>

...
		

		<subclass name="com.almega.SPLASH.model.impl.SolutionImpl" lazy="false" discriminator-value="`Solution`">
...
			<join fetch="select" table="`Solution`">
				<key column="`id`"/>
				<property column="`SID`" name="SID"/>
				<property column="`Title`" name="Title"/>
				<property column="`Description`" name="Description" type="text"/>
				<property column="`CreatedAt`" name="CreatedAt"/>
				<property column="`LastUpdate`" name="LastUpdate"/>
				<property column="`GeneralStatus`" name="GeneralStatus"/>
...
				<many-to-one column="Feature_thatIs_resultingFeature" class="com.almega.SPLASH.model.impl.FeatureImpl" unique="true" access="field" name="resultingFeature"/>			</join>
...
			</join>
		</subclass>

...
		
		<subclass name="com.almega.SPLASH.model.impl.FeatureImpl" lazy="false" discriminator-value="`Feature`">
...
			<one-to-one property-ref="resultingFeature" class="com.almega.SPLASH.model.impl.SolutionImpl" access="field" name="generatingSolution"/>
...
			<join fetch="select" table="`Feature`">
				<key column="`id`"/>
				<property column="`Title`" name="Title"/>
				<property column="`Description`" name="Description" type="text"/>
				<property column="`FID`" name="FID"/>
				<property column="`Reusability`" name="Reusability"/>
				<property column="`Source`" name="Source"/>
				<property column="`Granularity`" name="Granularity"/>
				<property column="`LifecycleStatus`" name="LifecycleStatus"/>
				<property column="`DecompValidation`" name="DecompValidation"/>
				<property column="`DependValidation`" name="DependValidation"/>
...
			</join>
			<subclass name="com.almega.SPLASH.model.impl.HardwareImpl" lazy="true" discriminator-value="`Hardware`">
				<join fetch="select" table="`Hardware`">
					<key column="`id`"/>
					<property column="`Length`" name="Length"/>
					<property column="`Width`" name="Width"/>
					<property column="`Height`" name="Height"/>
					<property column="`Weight`" name="Weight"/>
					<property column="`Power`" name="Power"/>
					<property column="`PowerType`" name="PowerType"/>
				</join>
...				
				<subclass name="com.almega.SPLASH.model.impl.GraphicsImpl" lazy="false" discriminator-value="`Graphics`">
					<join fetch="select" table="`Graphics`">
						<key column="`id`"/>
					</join>
				</subclass>
...
			</subclass>
		</subclass>
...
	</class>

...

</hibernate-mapping>


Resulting SQL is


Hibernate: select graphicsim0_.id as id,
		 graphicsim0_.timestamp as timestamp76_,
		  graphicsim0_.`ModificationAccess` as Modifica4_76_,
		  graphicsim0_.AccessEntity_thatIs_owner as AccessEn5_76_,
		  graphicsim0_.AccessControlList_thatIs_aCL as AccessCo6_76_,
		  graphicsim0_.auditHistory as auditHis7_76_,
		  graphicsim0_1_.`Title` as Title2_96_,
		  graphicsim0_1_.`Description` as Descript3_96_,
		  graphicsim0_1_.`FID` as FID4_96_,
		  graphicsim0_1_.`Reusability` as Reusabil5_96_,
		  graphicsim0_1_.`Source` as Source6_96_,
		  graphicsim0_1_.`Granularity` as Granular7_96_,
		  graphicsim0_1_.`LifecycleStatus` as Lifecycl8_96_,
		  graphicsim0_1_.`DecompValidation` as DecompVa9_96_,
		  graphicsim0_1_.`DependValidation` as DependV10_96_, 
		  graphicsim0_1_.Pond_thatIs_primaryPond as Pond11_96_,
		  graphicsim0_2_.`Length` as Length2_97_,
		  graphicsim0_2_.`Width` as Width3_97_,
		  graphicsim0_2_.`Height` as Height4_97_, graphicsim0_2_.`Weight` as Weight5_97_,
		  graphicsim0_2_.`Power` as Power6_97_, graphicsim0_2_.`PowerType` as PowerType7_97_ 
		 
from `DataStructure` graphicsim0_ inner join `Feature` graphicsim0_1_ on graphicsim0_.id=graphicsim0_1_.`id` inner join `Hardware` graphicsim0_2_ on graphicsim0_.id=graphicsim0_2_.`id` inner join `Graphics` graphicsim0_3_ on graphicsim0_.id=graphicsim0_3_.`id` where graphicsim0_.subclass='`Graphics`' and graphicsim0_1_.`FID`='AR0106'


Hibernate: select solutionim0_.id as id0_,
		  solutionim0_.timestamp as timestamp76_0_,
		  solutionim0_.`ModificationAccess` as Modifica4_76_0_,
		  solutionim0_.AccessEntity_thatIs_owner as AccessEn5_76_0_,
		  solutionim0_.AccessControlList_thatIs_aCL as AccessCo6_76_0_,
		  solutionim0_.auditHistory as auditHis7_76_0_,
		  solutionim0_1_.`SID` as SID2_93_0_,
		  solutionim0_1_.`Title` as Title3_93_0_,
		  solutionim0_1_.`Description` as Descript4_93_0_,
		  solutionim0_1_.`CreatedAt` as CreatedAt5_93_0_,
		  solutionim0_1_.`LastUpdate` as LastUpdate6_93_0_,
		  solutionim0_1_.`GeneralStatus` as GeneralS7_93_0_,
		  solutionim0_1_.Person_thatIs_creator as Person8_93_0_,
		  solutionim0_1_.Feature_thatIs_resultingFeature as Feature9_93_0_,
		  solutionim0_1_.pond as pond93_0_ 
		 
from `DataStructure` solutionim0_ inner join `Solution` solutionim0_1_ on solutionim0_.id=solutionim0_1_.`id` 
where solutionim0_.Feature_thatIs_resultingFeature=? and solutionim0_.subclass='`Solution`'


Problem is that solutionim0_.Feature_thatIs_resultingFeature in where clause should be solutionim0_1_.Feature_thatIs_resultingFeature

