2023-03-23T12:50:18.299+01:00 DEBUG 17100 --- [    Test worker] org.hibernate.orm.query.plan.cache       : Creating and caching NativeQuery ParameterInterpretation - ParameterInterpretationImpl (insert into TAG (id, NAME) values (101, 'NAME for LINKED TAG 101')) : {
}
2023-03-23T12:50:18.332+01:00 DEBUG 17100 --- [    Test worker] org.hibernate.SQL                        : insert into TAG (id, NAME) values (101, 'NAME for LINKED TAG 101')
Hibernate: insert into TAG (id, NAME) values (101, 'NAME for LINKED TAG 101')
2023-03-23T12:50:18.339+01:00 DEBUG 17100 --- [    Test worker] org.hibernate.orm.query.plan.cache       : Creating and caching NativeQuery ParameterInterpretation - ParameterInterpretationImpl (insert into TAG (id, NAME, ID_TAG_LINKED) values (100, 'NAME for TAG 100', 101)) : {
}
2023-03-23T12:50:18.340+01:00 DEBUG 17100 --- [    Test worker] org.hibernate.SQL                        : insert into TAG (id, NAME, ID_TAG_LINKED) values (100, 'NAME for TAG 100', 101)
Hibernate: insert into TAG (id, NAME, ID_TAG_LINKED) values (100, 'NAME for TAG 100', 101)
2023-03-23T12:50:18.343+01:00 DEBUG 17100 --- [    Test worker] org.hibernate.orm.query.plan.cache       : Creating and caching NativeQuery ParameterInterpretation - ParameterInterpretationImpl (insert into ELEMENT (id, NAME, ID_TAG) values (200, 'NAME for ELEMENT 200', 100)) : {
}
2023-03-23T12:50:18.343+01:00 DEBUG 17100 --- [    Test worker] org.hibernate.SQL                        : insert into ELEMENT (id, NAME, ID_TAG) values (200, 'NAME for ELEMENT 200', 100)
Hibernate: insert into ELEMENT (id, NAME, ID_TAG) values (200, 'NAME for ELEMENT 200', 100)
2023-03-23T12:50:18.348+01:00 DEBUG 17100 --- [    Test worker] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction commit
2023-03-23T12:50:18.349+01:00 DEBUG 17100 --- [    Test worker] o.s.orm.jpa.JpaTransactionManager        : Committing JPA transaction on EntityManager [SessionImpl(330845433<open>)]
2023-03-23T12:50:18.349+01:00 DEBUG 17100 --- [    Test worker] o.h.e.t.internal.TransactionImpl         : committing
2023-03-23T12:50:18.353+01:00 DEBUG 17100 --- [    Test worker] org.postgresql.jdbc.PgConnection         :   setAutoCommit = true
2023-03-23T12:50:18.356+01:00 DEBUG 17100 --- [    Test worker] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(330845433<open>)] after transaction
2023-03-23T12:50:18.356+01:00 DEBUG 17100 --- [    Test worker] o.s.t.c.transaction.TransactionContext   : Committed transaction (1) for test class [com.example.demo.Issue3Test]; test method [issue3_tag_not_properly_set]
2023-03-23T12:50:18.357+01:00 DEBUG 17100 --- [    Test worker] o.s.orm.jpa.JpaTransactionManager        : Creating new transaction with name [com.example.demo.Issue3Test.issue3_tag_not_properly_set]: PROPAGATION_REQUIRED,ISOLATION_DEFAULT
2023-03-23T12:50:18.357+01:00 DEBUG 17100 --- [    Test worker] o.s.orm.jpa.JpaTransactionManager        : Opened new EntityManager [SessionImpl(988576609<open>)] for JPA transaction
2023-03-23T12:50:18.358+01:00 DEBUG 17100 --- [    Test worker] o.h.e.t.internal.TransactionImpl         : On TransactionImpl creation, JpaCompliance#isJpaTransactionComplianceEnabled == false
2023-03-23T12:50:18.358+01:00 DEBUG 17100 --- [    Test worker] o.h.e.t.internal.TransactionImpl         : begin
2023-03-23T12:50:18.358+01:00 DEBUG 17100 --- [    Test worker] org.postgresql.jdbc.PgConnection         :   setAutoCommit = false
2023-03-23T12:50:18.358+01:00 DEBUG 17100 --- [    Test worker] o.s.orm.jpa.JpaTransactionManager        : Exposing JPA transaction as JDBC [org.springframework.orm.jpa.vendor.HibernateJpaDialect$HibernateConnectionHandle@3ef26c78]
2023-03-23T12:50:18.358+01:00 DEBUG 17100 --- [    Test worker] o.s.t.c.transaction.TransactionContext   : Began transaction (2) for test class [com.example.demo.Issue3Test]; test method [issue3_tag_not_properly_set]; transaction manager [org.springframework.orm.jpa.JpaTransactionManager@15c14cbd]; rollback [true]
2023-03-23T12:50:18.381+01:00 DEBUG 17100 --- [    Test worker] o.s.orm.jpa.JpaTransactionManager        : Found thread-bound EntityManager [SessionImpl(988576609<open>)] for JPA transaction
2023-03-23T12:50:18.382+01:00 DEBUG 17100 --- [    Test worker] o.s.orm.jpa.JpaTransactionManager        : Participating in existing transaction
2023-03-23T12:50:18.449+01:00 DEBUG 17100 --- [    Test worker] org.hibernate.orm.sql.exec               : Skipping reading Query result cache data: cache-enabled = false, cache-mode = IGNORE
2023-03-23T12:50:18.515+01:00 DEBUG 17100 --- [    Test worker] org.hibernate.orm.results                : Initializer list
2023-03-23T12:50:18.517+01:00 DEBUG 17100 --- [    Test worker] org.hibernate.orm.results                :     com.example.demo.domain.issue3.Element.tag.{id} -> EmbeddableFetchInitializer(com.example.demo.domain.issue3.Element.tag.{id}) : `class com.example.demo.domain.issue3.PkComposite`@1846533447 (org.hibernate.metamodel.mapping.internal.EmbeddedIdentifierMappingImpl@20a72653)
2023-03-23T12:50:18.520+01:00 DEBUG 17100 --- [    Test worker] org.hibernate.orm.results                :     com.example.demo.domain.issue3.Element.tag.elements -> SelectEagerCollectionInitializer(com.example.demo.domain.issue3.Element.tag.elements)@1249347093 (PluralAttribute(com.example.demo.domain.issue3.Tag.elements))
2023-03-23T12:50:18.520+01:00 DEBUG 17100 --- [    Test worker] org.hibernate.orm.results                :     com.example.demo.domain.issue3.Element.tag.linkedTag.{id} -> EmbeddableFetchInitializer(com.example.demo.domain.issue3.Element.tag.linkedTag.{id}) : `class com.example.demo.domain.issue3.PkComposite`@2006326149 (org.hibernate.metamodel.mapping.internal.EmbeddedIdentifierMappingImpl@20a72653)
2023-03-23T12:50:18.520+01:00 DEBUG 17100 --- [    Test worker] org.hibernate.orm.results                :     com.example.demo.domain.issue3.Element.tag.linkedTag.elements -> SelectEagerCollectionInitializer(com.example.demo.domain.issue3.Element.tag.linkedTag.elements)@1376999853 (PluralAttribute(com.example.demo.domain.issue3.Tag.elements))
2023-03-23T12:50:18.521+01:00 DEBUG 17100 --- [    Test worker] org.hibernate.orm.results                :     com.example.demo.domain.issue3.Element.tag.linkedTag.linkedTag.{fk} -> EmbeddableResultInitializer(com.example.demo.domain.issue3.Element.tag.linkedTag.linkedTag.{fk})@1667199973 (EmbeddedAttributeMapping(NavigableRole[com.example.demo.domain.issue3.Tag.id])@255307196)
2023-03-23T12:50:18.523+01:00 DEBUG 17100 --- [    Test worker] org.hibernate.orm.results                :     com.example.demo.domain.issue3.Element.tag.linkedTag.linkedTag -> EntitySelectFetchInitializer(com.example.demo.domain.issue3.Element.tag.linkedTag.linkedTag)@1211815404 (ToOneAttributeMapping(NavigableRole[com.example.demo.domain.issue3.Tag.linkedTag])@11285367)
2023-03-23T12:50:18.525+01:00 DEBUG 17100 --- [    Test worker] org.hibernate.orm.results                :     com.example.demo.domain.issue3.Element.tag.linkedTag -> EntityJoinedFetchInitializer(com.example.demo.domain.issue3.Element.tag.linkedTag)@410298588 (ToOneAttributeMapping(NavigableRole[com.example.demo.domain.issue3.Tag.linkedTag])@11285367)
2023-03-23T12:50:18.525+01:00 DEBUG 17100 --- [    Test worker] org.hibernate.orm.results                :     com.example.demo.domain.issue3.Element.tag.{fk} -> EmbeddableResultInitializer(com.example.demo.domain.issue3.Element.tag.{fk})@714914851 (EmbeddedAttributeMapping(NavigableRole[com.example.demo.domain.issue3.Tag.id])@882346281)
2023-03-23T12:50:18.525+01:00 DEBUG 17100 --- [    Test worker] org.hibernate.orm.results                :     com.example.demo.domain.issue3.Element.tag -> EntityJoinedFetchInitializer(com.example.demo.domain.issue3.Element.tag)@1438724935 (ToOneAttributeMapping(NavigableRole[com.example.demo.domain.issue3.Element.tag])@1749959531)
2023-03-23T12:50:18.526+01:00 DEBUG 17100 --- [    Test worker] org.hibernate.orm.results                :     com.example.demo.domain.issue3.Element -> EntityResultInitializer(com.example.demo.domain.issue3.Element)@662472677 (SingleTableEntityPersister(com.example.demo.domain.issue3.Element))
2023-03-23T12:50:18.535+01:00 DEBUG 17100 --- [    Test worker] org.hibernate.SQL                        : select e1_0.id,e1_0.name,e1_0.id_tag,t1_0.id,l1_0.id_tag_linked,l1_0.name,t1_0.name from element e1_0 join tag t1_0 on t1_0.id=e1_0.id_tag left join tag l1_0 on l1_0.id=t1_0.id_tag_linked where e1_0.id=?
Hibernate: select e1_0.id,e1_0.name,e1_0.id_tag,t1_0.id,l1_0.id_tag_linked,l1_0.name,t1_0.name from element e1_0 join tag t1_0 on t1_0.id=e1_0.id_tag left join tag l1_0 on l1_0.id=t1_0.id_tag_linked where e1_0.id=?
2023-03-23T12:50:18.564+01:00 DEBUG 17100 --- [    Test worker] o.h.o.r.l.o.h.o.r.loading.embeddable     : Initializing composite instance [com.example.demo.domain.issue3.Element.tag.linkedTag.{id}]
2023-03-23T12:50:18.565+01:00 DEBUG 17100 --- [    Test worker] org.hibernate.orm.results                : Extracted JDBC value [3] - [100]
2023-03-23T12:50:18.567+01:00 DEBUG 17100 --- [    Test worker] o.h.o.r.l.o.h.o.r.loading.embeddable     : Created composite instance [com.example.demo.domain.issue3.Element.tag.linkedTag.{id}] : com.example.demo.domain.issue3.PkComposite@38322f24
2023-03-23T12:50:18.567+01:00 DEBUG 17100 --- [    Test worker] o.h.o.r.l.o.h.o.r.loading.embeddable     : Created composite instance [com.example.demo.domain.issue3.Element.tag.linkedTag.{id}]
2023-03-23T12:50:18.568+01:00 DEBUG 17100 --- [    Test worker] o.hibernate.orm.results.loading.entity   : (EntityJoinedFetchInitializer) Hydrated EntityKey (com.example.demo.domain.issue3.Element.tag.linkedTag): com.example.demo.domain.issue3.PkComposite@38322f24
2023-03-23T12:50:18.568+01:00 DEBUG 17100 --- [    Test worker] o.h.o.r.l.o.h.o.r.loading.embeddable     : Initializing composite instance [com.example.demo.domain.issue3.Element.tag.{id}]
2023-03-23T12:50:18.568+01:00 DEBUG 17100 --- [    Test worker] org.hibernate.orm.results                : Extracted JDBC value [3] - [100]
2023-03-23T12:50:18.568+01:00 DEBUG 17100 --- [    Test worker] o.h.o.r.l.o.h.o.r.loading.embeddable     : Created composite instance [com.example.demo.domain.issue3.Element.tag.{id}] : com.example.demo.domain.issue3.PkComposite@11db540b
2023-03-23T12:50:18.568+01:00 DEBUG 17100 --- [    Test worker] o.h.o.r.l.o.h.o.r.loading.embeddable     : Created composite instance [com.example.demo.domain.issue3.Element.tag.{id}]
2023-03-23T12:50:18.568+01:00 DEBUG 17100 --- [    Test worker] o.hibernate.orm.results.loading.entity   : (EntityJoinedFetchInitializer) Hydrated EntityKey (com.example.demo.domain.issue3.Element.tag): com.example.demo.domain.issue3.PkComposite@11db540b
2023-03-23T12:50:18.569+01:00 DEBUG 17100 --- [    Test worker] o.h.o.r.l.o.h.o.r.loading.embeddable     : Initializing composite instance [com.example.demo.domain.issue3.Element.tag.{fk}]
2023-03-23T12:50:18.570+01:00 DEBUG 17100 --- [    Test worker] org.hibernate.orm.results                : Extracted JDBC value [2] - [100]
2023-03-23T12:50:18.570+01:00 DEBUG 17100 --- [    Test worker] o.h.o.r.l.o.h.o.r.loading.embeddable     : Created composite instance [com.example.demo.domain.issue3.Element.tag.{fk}] : com.example.demo.domain.issue3.PkComposite@75e38460
2023-03-23T12:50:18.570+01:00 DEBUG 17100 --- [    Test worker] o.h.o.r.l.o.h.o.r.loading.embeddable     : Created composite instance [com.example.demo.domain.issue3.Element.tag.{fk}]
2023-03-23T12:50:18.570+01:00 DEBUG 17100 --- [    Test worker] o.hibernate.orm.results.loading.entity   : (EntityResultInitializer) Hydrated EntityKey (com.example.demo.domain.issue3.Element): com.example.demo.domain.issue3.PkComposite@6cb21878
2023-03-23T12:50:18.575+01:00 DEBUG 17100 --- [    Test worker] o.h.o.r.l.o.h.o.r.loading.collection     : (SelectEagerCollectionInitializer) Current row collection key : com.example.demo.domain.issue3.Element.tag.elements#com.example.demo.domain.issue3.PkComposite@11db540b
2023-03-23T12:50:18.575+01:00 DEBUG 17100 --- [    Test worker] o.h.o.r.l.o.h.o.r.loading.collection     : (SelectEagerCollectionInitializer) Current row collection key : com.example.demo.domain.issue3.Element.tag.linkedTag.elements#com.example.demo.domain.issue3.PkComposite@38322f24
2023-03-23T12:50:18.613+01:00 DEBUG 17100 --- [    Test worker] o.hibernate.orm.results.loading.entity   : (EntityJoinedFetchInitializer) Created new entity instance [com.example.demo.domain.issue3.Element.tag.linkedTag#com.example.demo.domain.issue3.PkComposite@38322f24] : 379957966
2023-03-23T12:50:18.613+01:00 DEBUG 17100 --- [    Test worker] o.hibernate.orm.results.loading.entity   : (EntityJoinedFetchInitializer) Found existing loading entry [com.example.demo.domain.issue3.Element.tag#com.example.demo.domain.issue3.PkComposite@11db540b] - using loading instance
2023-03-23T12:50:18.613+01:00 DEBUG 17100 --- [    Test worker] o.hibernate.orm.results.loading.entity   : (EntityJoinedFetchInitializer) Entity [com.example.demo.domain.issue3.Element.tag#com.example.demo.domain.issue3.PkComposite@11db540b] being loaded by another initializer [EntityJoinedFetchInitializer(com.example.demo.domain.issue3.Element.tag.linkedTag)] - skipping processing
2023-03-23T12:50:18.614+01:00 DEBUG 17100 --- [    Test worker] o.hibernate.orm.results.loading.entity   : (EntityResultInitializer) Created new entity instance [com.example.demo.domain.issue3.Element#com.example.demo.domain.issue3.PkComposite@6cb21878] : 523215139
2023-03-23T12:50:18.614+01:00 DEBUG 17100 --- [    Test worker] o.h.o.r.l.o.h.o.r.loading.embeddable     : Initializing composite instance [com.example.demo.domain.issue3.Element.tag.{id}]
2023-03-23T12:50:18.614+01:00 DEBUG 17100 --- [    Test worker] org.hibernate.orm.results                : Extracted JDBC value [3] - [100]
2023-03-23T12:50:18.614+01:00 DEBUG 17100 --- [    Test worker] o.h.o.r.l.o.h.o.r.loading.embeddable     : Initializing composite instance [com.example.demo.domain.issue3.Element.tag.linkedTag.{id}]
2023-03-23T12:50:18.614+01:00 DEBUG 17100 --- [    Test worker] org.hibernate.orm.results                : Extracted JDBC value [3] - [100]
2023-03-23T12:50:18.614+01:00 DEBUG 17100 --- [    Test worker] o.h.o.r.l.o.h.o.r.loading.embeddable     : Initializing composite instance [com.example.demo.domain.issue3.Element.tag.linkedTag.linkedTag.{fk}]
2023-03-23T12:50:18.614+01:00 DEBUG 17100 --- [    Test worker] org.hibernate.orm.results                : Extracted JDBC value [4] - [null]
2023-03-23T12:50:18.614+01:00 DEBUG 17100 --- [    Test worker] o.h.o.r.l.o.h.o.r.loading.embeddable     : Created composite instance [com.example.demo.domain.issue3.Element.tag.linkedTag.linkedTag.{fk}]
2023-03-23T12:50:18.614+01:00 DEBUG 17100 --- [    Test worker] o.h.o.r.l.o.h.o.r.loading.embeddable     : Skipping parent injection for null embeddable [com.example.demo.domain.issue3.Element.tag.linkedTag.linkedTag.{fk}]
2023-03-23T12:50:18.615+01:00 DEBUG 17100 --- [    Test worker] o.h.o.r.l.o.h.o.r.loading.embeddable     : Initializing composite instance [com.example.demo.domain.issue3.Element.tag.linkedTag.linkedTag.{fk}]
2023-03-23T12:50:18.619+01:00 DEBUG 17100 --- [    Test worker] org.hibernate.orm.results                : Extracted JDBC value [5] - [NAME for LINKED TAG 101]
2023-03-23T12:50:18.634+01:00 DEBUG 17100 --- [    Test worker] o.hibernate.orm.results.loading.entity   : (EntityJoinedFetchInitializer) Done materializing entityInstance : com.example.demo.domain.issue3.Element.tag.linkedTag#com.example.demo.domain.issue3.PkComposite@38322f24
2023-03-23T12:50:18.634+01:00 DEBUG 17100 --- [    Test worker] o.h.o.r.l.o.h.o.r.loading.embeddable     : Initializing composite instance [com.example.demo.domain.issue3.Element.tag.{fk}]
2023-03-23T12:50:18.634+01:00 DEBUG 17100 --- [    Test worker] org.hibernate.orm.results                : Extracted JDBC value [2] - [100]
2023-03-23T12:50:18.634+01:00 DEBUG 17100 --- [    Test worker] org.hibernate.orm.results                : Extracted JDBC value [1] - [NAME for ELEMENT 200]
2023-03-23T12:50:18.635+01:00 DEBUG 17100 --- [    Test worker] o.hibernate.orm.results.loading.entity   : (EntityResultInitializer) Done materializing entityInstance : com.example.demo.domain.issue3.Element#com.example.demo.domain.issue3.PkComposite@6cb21878
2023-03-23T12:50:18.635+01:00 DEBUG 17100 --- [    Test worker] org.hibernate.orm.results.loading        : Calling top-level assembler (0 / 1) : org.hibernate.sql.results.graph.entity.internal.EntityAssembler@157303d9
2023-03-23T12:50:18.645+01:00 DEBUG 17100 --- [    Test worker] org.hibernate.orm.sql.ast.create         : Created new SQL alias : e1_0
2023-03-23T12:50:18.645+01:00 DEBUG 17100 --- [    Test worker] org.hibernate.orm.sql.ast.create         : Registration of TableGroup [org.hibernate.sql.ast.tree.from.OneToManyTableGroup@7f449d0c] with identifierForTableGroup [com.example.demo.domain.issue3.Tag.elements] for NavigablePath [com.example.demo.domain.issue3.Tag.elements] 
2023-03-23T12:50:18.645+01:00 DEBUG 17100 --- [    Test worker] org.hibernate.orm.sql.ast.create         : Registration of TableGroup [StandardTableGroup(com.example.demo.domain.issue3.Tag.elements.{element})] with identifierForTableGroup [com.example.demo.domain.issue3.Tag.elements.{element}] for NavigablePath [com.example.demo.domain.issue3.Tag.elements.{element}] 
2023-03-23T12:50:18.645+01:00 DEBUG 17100 --- [    Test worker] org.hibernate.orm.sql.ast.create         : Registration of TableGroup [StandardVirtualTableGroup(com.example.demo.domain.issue3.Tag.elements.{fk})] with identifierForTableGroup [com.example.demo.domain.issue3.Tag.elements.{fk}] for NavigablePath [com.example.demo.domain.issue3.Tag.elements.{fk}] 
2023-03-23T12:50:18.646+01:00 DEBUG 17100 --- [    Test worker] org.hibernate.orm.sql.ast.create         : Registration of TableGroup [StandardVirtualTableGroup(com.example.demo.domain.issue3.Tag.elements.{element}.{id})] with identifierForTableGroup [com.example.demo.domain.issue3.Tag.elements.{element}.{id}] for NavigablePath [com.example.demo.domain.issue3.Tag.elements.{element}.{id}] 
2023-03-23T12:50:18.646+01:00 DEBUG 17100 --- [    Test worker] org.hibernate.orm.sql.ast.create         : Registration of TableGroup [StandardVirtualTableGroup(com.example.demo.domain.issue3.Tag.elements.{element}.tag.{fk})] with identifierForTableGroup [com.example.demo.domain.issue3.Tag.elements.{element}.tag.{fk}] for NavigablePath [com.example.demo.domain.issue3.Tag.elements.{element}.tag.{fk}] 
2023-03-23T12:50:18.649+01:00 DEBUG 17100 --- [    Test worker] org.hibernate.orm.results.graph.AST      : DomainResult Graph:
 \-CollectionDomainResult [com.example.demo.domain.issue3.Tag.elements]

2023-03-23T12:50:18.649+01:00 DEBUG 17100 --- [    Test worker] org.hibernate.orm.sql.ast.tree           : SQL AST Tree:
    SelectStatement {
      FromClause {
        OneToManyTableGroup (e1 : com.example.demo.domain.issue3.Tag.elements) {
          primaryTableReference : element as e1_0
          TableGroupJoins {
             join StandardVirtualTableGroup (null : com.example.demo.domain.issue3.Tag.elements.{fk}) {
              primaryTableReference : element as e1_0
            }
             join StandardVirtualTableGroup (null : com.example.demo.domain.issue3.Tag.elements.{element}.{id}) {
              primaryTableReference : element as e1_0
            }
             join StandardVirtualTableGroup (null : com.example.demo.domain.issue3.Tag.elements.{element}.tag.{fk}) {
              primaryTableReference : element as e1_0
            }
          }
        }
      }
    }

2023-03-23T12:50:18.662+01:00 DEBUG 17100 --- [    Test worker] org.hibernate.orm.sql.exec               : Skipping reading Query result cache data: cache-enabled = false, cache-mode = IGNORE
2023-03-23T12:50:18.669+01:00 DEBUG 17100 --- [    Test worker] org.hibernate.orm.results                : Initializer list
2023-03-23T12:50:18.670+01:00 DEBUG 17100 --- [    Test worker] org.hibernate.orm.results                :     com.example.demo.domain.issue3.Tag.elements.{fk} -> EmbeddableResultInitializer(com.example.demo.domain.issue3.Tag.elements.{fk})@1090502353 (EmbeddedAttributeMapping(NavigableRole[com.example.demo.domain.issue3.Tag.id])@882346281)
2023-03-23T12:50:18.670+01:00 DEBUG 17100 --- [    Test worker] org.hibernate.orm.results                :     com.example.demo.domain.issue3.Tag.elements.{element}.{id} -> EmbeddableFetchInitializer(com.example.demo.domain.issue3.Tag.elements.{element}.{id}) : `class com.example.demo.domain.issue3.PkComposite`@1476691574 (org.hibernate.metamodel.mapping.internal.EmbeddedIdentifierMappingImpl@6b67805a)
2023-03-23T12:50:18.670+01:00 DEBUG 17100 --- [    Test worker] org.hibernate.orm.results                :     com.example.demo.domain.issue3.Tag.elements.{element}.tag.{fk} -> EmbeddableResultInitializer(com.example.demo.domain.issue3.Tag.elements.{element}.tag.{fk})@379651454 (EmbeddedAttributeMapping(NavigableRole[com.example.demo.domain.issue3.Tag.id])@882346281)
2023-03-23T12:50:18.670+01:00 DEBUG 17100 --- [    Test worker] org.hibernate.orm.results                :     com.example.demo.domain.issue3.Tag.elements.{element}.tag -> EntitySelectFetchInitializer(com.example.demo.domain.issue3.Tag.elements.{element}.tag)@722806861 (ToOneAttributeMapping(NavigableRole[com.example.demo.domain.issue3.Element.tag])@1749959531)
2023-03-23T12:50:18.671+01:00 DEBUG 17100 --- [    Test worker] org.hibernate.orm.results                :     com.example.demo.domain.issue3.Tag.elements.{element} -> EntityJoinedFetchInitializer(com.example.demo.domain.issue3.Tag.elements.{element})@1465789551 (EntityCollectionPart(com.example.demo.domain.issue3.Tag.elements#{element})@7082894)
2023-03-23T12:50:18.672+01:00 DEBUG 17100 --- [    Test worker] org.hibernate.orm.results                :     com.example.demo.domain.issue3.Tag.elements -> BagInitializer(com.example.demo.domain.issue3.Tag.elements)@511208456 (PluralAttribute(com.example.demo.domain.issue3.Tag.elements))
2023-03-23T12:50:18.673+01:00 DEBUG 17100 --- [    Test worker] org.hibernate.SQL                        : select e1_0.id_tag,e1_0.id,e1_0.name from element e1_0 where e1_0.id_tag=?
Hibernate: select e1_0.id_tag,e1_0.id,e1_0.name from element e1_0 where e1_0.id_tag=?
2023-03-23T12:50:18.677+01:00 DEBUG 17100 --- [    Test worker] o.h.o.r.l.o.h.o.r.loading.embeddable     : Initializing composite instance [com.example.demo.domain.issue3.Tag.elements.{element}.{id}]
2023-03-23T12:50:18.678+01:00 DEBUG 17100 --- [    Test worker] org.hibernate.orm.results                : Extracted JDBC value [1] - [200]
2023-03-23T12:50:18.678+01:00 DEBUG 17100 --- [    Test worker] o.h.o.r.l.o.h.o.r.loading.embeddable     : Created composite instance [com.example.demo.domain.issue3.Tag.elements.{element}.{id}] : com.example.demo.domain.issue3.PkComposite@5aa686cf
2023-03-23T12:50:18.678+01:00 DEBUG 17100 --- [    Test worker] o.h.o.r.l.o.h.o.r.loading.embeddable     : Created composite instance [com.example.demo.domain.issue3.Tag.elements.{element}.{id}]
2023-03-23T12:50:18.678+01:00 DEBUG 17100 --- [    Test worker] o.hibernate.orm.results.loading.entity   : (EntityJoinedFetchInitializer) Hydrated EntityKey (com.example.demo.domain.issue3.Tag.elements.{element}): com.example.demo.domain.issue3.PkComposite@5aa686cf
2023-03-23T12:50:18.678+01:00 DEBUG 17100 --- [    Test worker] o.h.o.r.l.o.h.o.r.loading.embeddable     : Initializing composite instance [com.example.demo.domain.issue3.Tag.elements.{fk}]
2023-03-23T12:50:18.678+01:00 DEBUG 17100 --- [    Test worker] org.hibernate.orm.results                : Extracted JDBC value [0] - [100]
2023-03-23T12:50:18.678+01:00 DEBUG 17100 --- [    Test worker] o.h.o.r.l.o.h.o.r.loading.embeddable     : Created composite instance [com.example.demo.domain.issue3.Tag.elements.{fk}] : com.example.demo.domain.issue3.PkComposite@7e3a9bf
2023-03-23T12:50:18.678+01:00 DEBUG 17100 --- [    Test worker] o.h.o.r.l.o.h.o.r.loading.embeddable     : Created composite instance [com.example.demo.domain.issue3.Tag.elements.{fk}]
2023-03-23T12:50:18.678+01:00 DEBUG 17100 --- [    Test worker] o.h.o.r.l.o.h.o.r.loading.collection     : (BagInitializer) Current row collection key : com.example.demo.domain.issue3.Tag.elements#com.example.demo.domain.issue3.PkComposite@7e3a9bf
2023-03-23T12:50:18.678+01:00 DEBUG 17100 --- [    Test worker] o.h.o.r.l.o.h.o.r.loading.embeddable     : Initializing composite instance [com.example.demo.domain.issue3.Tag.elements.{fk}]
2023-03-23T12:50:18.678+01:00 DEBUG 17100 --- [    Test worker] org.hibernate.orm.results                : Extracted JDBC value [0] - [100]
2023-03-23T12:50:18.684+01:00 DEBUG 17100 --- [    Test worker] o.h.o.r.l.o.h.o.r.loading.collection     : (BagInitializer) Responsible for loading collection [com.example.demo.domain.issue3.Tag.elements#com.example.demo.domain.issue3.PkComposite@7e3a9bf] : org.hibernate.collection.spi.PersistentBag@310076828
2023-03-23T12:50:18.685+01:00 DEBUG 17100 --- [    Test worker] o.h.o.r.l.o.h.o.r.loading.embeddable     : Initializing composite instance [com.example.demo.domain.issue3.Tag.elements.{fk}]
2023-03-23T12:50:18.685+01:00 DEBUG 17100 --- [    Test worker] org.hibernate.orm.results                : Extracted JDBC value [0] - [100]
2023-03-23T12:50:18.685+01:00 DEBUG 17100 --- [    Test worker] o.h.o.r.l.o.h.o.r.loading.embeddable     : Initializing composite instance [com.example.demo.domain.issue3.Tag.elements.{element}.{id}]
2023-03-23T12:50:18.686+01:00 DEBUG 17100 --- [    Test worker] org.hibernate.orm.results                : Extracted JDBC value [1] - [200]
2023-03-23T12:50:18.686+01:00 DEBUG 17100 --- [    Test worker] o.h.o.r.l.o.h.o.r.loading.embeddable     : Initializing composite instance [com.example.demo.domain.issue3.Tag.elements.{element}.tag.{fk}]
2023-03-23T12:50:18.686+01:00 DEBUG 17100 --- [    Test worker] org.hibernate.orm.results                : Extracted JDBC value [0] - [100]
2023-03-23T12:50:18.687+01:00 DEBUG 17100 --- [    Test worker] o.h.o.r.l.o.h.o.r.loading.embeddable     : Created composite instance [com.example.demo.domain.issue3.Tag.elements.{element}.tag.{fk}] : com.example.demo.domain.issue3.PkComposite@416f3cd1
2023-03-23T12:50:18.687+01:00 DEBUG 17100 --- [    Test worker] o.h.o.r.l.o.h.o.r.loading.embeddable     : Created composite instance [com.example.demo.domain.issue3.Tag.elements.{element}.tag.{fk}]
2023-03-23T12:50:18.687+01:00 DEBUG 17100 --- [    Test worker] o.h.o.r.l.o.h.o.r.loading.embeddable     : Initializing composite instance [com.example.demo.domain.issue3.Tag.elements.{element}.tag.{fk}]
2023-03-23T12:50:18.687+01:00 DEBUG 17100 --- [    Test worker] org.hibernate.orm.results                : Extracted JDBC value [0] - [100]
2023-03-23T12:50:18.687+01:00 DEBUG 17100 --- [    Test worker] o.h.o.r.l.o.h.o.r.loading.collection     : (BagInitializer) Reading element from row for collection [com.example.demo.domain.issue3.Tag.elements#com.example.demo.domain.issue3.PkComposite@7e3a9bf] -> org.hibernate.collection.spi.PersistentBag@310076828
2023-03-23T12:50:18.688+01:00 DEBUG 17100 --- [    Test worker] org.hibernate.orm.results.loading        : Calling top-level assembler (0 / 1) : org.hibernate.sql.results.graph.collection.internal.EagerCollectionAssembler@b74eabb
2023-03-23T12:50:18.696+01:00 DEBUG 17100 --- [    Test worker] o.h.sql.results.internal.ResultsHelper   : Collection fully initialized: [com.example.demo.domain.issue3.Tag.elements#component[id]{id=100}]
2023-03-23T12:51:19.146+01:00  WARN 17100 --- [l-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m5s973ms830Âµs700ns).
2023-03-23T12:51:19.146+01:00 DEBUG 17100 --- [l-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Pool stats (total=10, active=1, idle=9, waiting=0)
2023-03-23T12:51:19.146+01:00 DEBUG 17100 --- [l-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Fill pool skipped, pool has sufficient level or currently being filled (queueDepth=0).
2023-03-23T12:51:21.535+01:00 DEBUG 17100 --- [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@179695c7 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 6, missCount = 1]
2023-03-23T12:51:21.537+01:00 DEBUG 17100 --- [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@179695c7 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 7, missCount = 1]
2023-03-23T12:51:21.538+01:00 DEBUG 17100 --- [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@179695c7 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 8, missCount = 1]
2023-03-23T12:51:21.538+01:00 DEBUG 17100 --- [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@179695c7 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 9, missCount = 1]
2023-03-23T12:51:21.540+01:00 DEBUG 17100 --- [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@179695c7 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 10, missCount = 1]
2023-03-23T12:51:21.543+01:00 DEBUG 17100 --- [    Test worker] org.springframework.test.context.cache   : Spring test ApplicationContext cache statistics: [DefaultContextCache@179695c7 size = 1, maxSize = 32, parentContextCount = 0, hitCount = 11, missCount = 1]
2023-03-23T12:51:21.544+01:00 DEBUG 17100 --- [    Test worker] o.s.orm.jpa.JpaTransactionManager        : Initiating transaction rollback
2023-03-23T12:51:21.544+01:00 DEBUG 17100 --- [    Test worker] o.s.orm.jpa.JpaTransactionManager        : Rolling back JPA transaction on EntityManager [SessionImpl(988576609<open>)]
2023-03-23T12:51:21.544+01:00 DEBUG 17100 --- [    Test worker] o.h.e.t.internal.TransactionImpl         : rolling back
2023-03-23T12:51:21.548+01:00 DEBUG 17100 --- [    Test worker] org.postgresql.jdbc.PgConnection         :   setAutoCommit = true
2023-03-23T12:51:21.550+01:00 DEBUG 17100 --- [    Test worker] o.s.orm.jpa.JpaTransactionManager        : Closing JPA EntityManager [SessionImpl(988576609<open>)] after transaction
2023-03-23T12:51:21.550+01:00 DEBUG 17100 --- [    Test worker] o.s.t.c.transaction.TransactionContext   : Rolled back transaction (2) for test class [com.example.demo.Issue3Test]; test method [issue3_tag_not_properly_set]
2023-03-23T12:51:21.551+01:00 DEBUG 17100 --- [    Test worker] tractDirtiesContextTestExecutionListener : After test method: class [Issue3Test], method [issue3_tag_not_properly_set], class annotated with @DirtiesContext [false] with mode [null], method annotated with @DirtiesContext [false] with mode [null]

Tag properties are wrong ! ==> expected: <NAME for TAG 100> but was: <NAME for LINKED TAG 101>
Expected :NAME for TAG 100
Actual   :NAME for LINKED TAG 101
<Click to see difference>

org.opentest4j.AssertionFailedError: Tag properties are wrong ! ==> expected: <NAME for TAG 100> but was: <NAME for LINKED TAG 101>
	at app//org.junit.jupiter.api.AssertionFailureBuilder.build(AssertionFailureBuilder.java:151)
	at app//org.junit.jupiter.api.AssertionFailureBuilder.buildAndThrow(AssertionFailureBuilder.java:132)
	at app//org.junit.jupiter.api.AssertEquals.failNotEqual(AssertEquals.java:197)
	at app//org.junit.jupiter.api.AssertEquals.assertEquals(AssertEquals.java:182)
	at app//org.junit.jupiter.api.Assertions.assertEquals(Assertions.java:1153)
	at app//com.example.demo.Issue3Test.issue3_tag_not_properly_set(Issue3Test.java:62)
	at java.base@17.0.5/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base@17.0.5/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base@17.0.5/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base@17.0.5/java.lang.reflect.Method.invoke(Method.java:568)
	at app//org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)
	at app//org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)
	at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)
	at app//org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)
	at app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)
	at app//org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)
	at app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)
	at app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)
	at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)
	at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)
	at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)
	at app//org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)
	at app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)
	at app//org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)
	at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)
	at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)
	at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)
	at app//org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base@17.0.5/java.util.ArrayList.forEach(ArrayList.java:1511)
	at app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base@17.0.5/java.util.ArrayList.forEach(ArrayList.java:1511)
	at app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at app//org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at app//org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at app//org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at app//org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at app//org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at app//org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)
	at java.base@17.0.5/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base@17.0.5/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base@17.0.5/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base@17.0.5/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy2/jdk.proxy2.$Proxy5.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:133)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:71)
	at app//worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at app//worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)

