Index: C:/Vladimirov/workspace-hibernate/Hibernate3/src/org/hibernate/type/EntityType.java
===================================================================
--- C:/Vladimirov/workspace-hibernate/Hibernate3/src/org/hibernate/type/EntityType.java	(revision 10050)
+++ C:/Vladimirov/workspace-hibernate/Hibernate3/src/org/hibernate/type/EntityType.java	(working copy)
@@ -37,6 +37,7 @@
 	protected final boolean isEmbeddedInXML;
 	private final boolean eager;
 	private final boolean unwrapProxy;
+    private volatile Class retunedClass;
 	
 	public boolean isEmbeddedInXML() {
 		return isEmbeddedInXML;
@@ -81,12 +82,19 @@
 		return nullSafeGet( rs, new String[] {name}, session, owner );
 	}
 
-	/**
-	 * This returns the wrong class for an entity with a proxy, or for
-	 * a named entity. Theoretically it should return the proxy class, 
-	 * but it doesn't.
-	 */
-	public final Class getReturnedClass() {
+    public final Class getReturnedClass() {
+        if (retunedClass == null) {
+            retunedClass = getReturnedClassI();
+        }
+        return retunedClass;
+    }
+
+    /**
+     * This returns the wrong class for an entity with a proxy, or for
+     * a named entity. Theoretically it should return the proxy class, 
+     * but it doesn't.
+     */
+	public final Class getReturnedClassI() {
 		try {
 			return ReflectHelper.classForName(associatedEntityName);
 		}
