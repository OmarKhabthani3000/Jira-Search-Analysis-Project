public CustodianAccountEty findOrCreateCustodianAccount(CustodianAccountRefEty accountRef, String name,
                                                                CustodianEty cust) {
            CustodianMgr mgr = new CustodianMgr();
            // retrieves an existing custodian with one account
            cust = mgr.findOrCreateCustodian(cust.getReference(), cust.getName(), cust.getPortfolio());
            // this account does not exist, instantiate a new one and associate it to the custodian
            CustodianAccountEty acc = mgr.findOrCreateCustodianAccount(accountRef, name, cust);
            // at this point the persistent bag of accounts is not initialized
            // if the next line is commented out (before the persist), then everything is fine (ie: 2 accounts in the custodian)
            // XXX acc.getCustodian().getAccounts().size();
            if (acc.getId() == null) {
                PortfolioDAO.getInstance().persist(acc);
            }
            // if line XXX stays commented the next line evaluates to: (java.lang.String) [CustodianAccountEty#1, CustodianAccountEty#2, CustodianAccountEty#2]
            // if line XXX is uncommented the next line evaluates to:  (java.lang.String) [CustodianAccountEty#1, CustodianAccountEty#2]
            acc.getCustodian().getAccounts().toString();
            return acc;
        }

    CustodianAccountEty findOrCreateCustodianAccount(CustodianAccountRefEty accountRef, String name, CustodianEty cust) {
        CustodianAccountEty account = CustodianDAO.getInstance().findCustodianAccountByReference(accountRef);
        if (account == null) {
            account = createCustodianAccount(accountRef, name, cust);
        }

        // force change of data in case it was already existing
        if (! account.getCustodian().getReference().equals(cust.getReference())) {
            cust.addAccount(account);
            // set principal status (account ref == cust ref)
            account.setPrincipal(cust.getReference().getNoCustodian().equals(accountRef.getNoCustodianAccount()));
        }

        return account;
    }

    private CustodianAccountEty createCustodianAccount(CustodianAccountRefEty accountRef, String name, CustodianEty cust) {
        CustodianAccountEty account;
        account = new CustodianAccountEty(accountRef, cust);
        account.setName(name);
        String noSubCustodian = accountRef.getNoCustodianAccount();
        String noCustodian = cust.getReference().getNoCustodian();
        account.setPrincipal(noSubCustodian == null || noSubCustodian.equals(noCustodian));
        return account;
    } 
    
    
    
==============================================================

TRACE

[INFO] Scanning for projects...
[INFO] ----------------------------------------------------------------------------
[INFO] Building Position Business
[INFO]    task-segment: [test]
[INFO] ----------------------------------------------------------------------------
[INFO] [resources:resources]
[INFO] Using default encoding to copy filtered resources.
[INFO] snapshot com.lodh.arte.stdlib:stdlib-core:2.1.4-SNAPSHOT: checking for updates from lodh-snapshot-repository
[INFO] snapshot com.lodh.arte.stdlib:stdlib-parent:2.1.4-SNAPSHOT: checking for updates from lodh-snapshot-repository
[INFO] snapshot com.lodh.position:PositionSA:1.5.0-SNAPSHOT: checking for updates from lodh-snapshot-repository
[INFO] snapshot com.lodh.position:PositionFramework:1.5.0-SNAPSHOT: checking for updates from lodh-snapshot-repository
[INFO] snapshot com.lodh.position:PositionInternalPublic:1.5.0-SNAPSHOT: checking for updates from lodh-snapshot-repository
[INFO] snapshot com.lodh.position:PositionPublic:1.5.0-SNAPSHOT: checking for updates from lodh-snapshot-repository
[INFO] snapshot com.lodh.transaction.prebooking:PositionKeeping-bus:1.3.6-SNAPSHOT: checking for updates from lodh-snapshot-repository
[INFO] snapshot com.lodh.arte.stdlib:stdlib-bus:2.1.4-SNAPSHOT: checking for updates from lodh-snapshot-repository
[INFO] snapshot com.lodh.arte.stdlib:stdlib-bus-generator:2.1.4-SNAPSHOT: checking for updates from lodh-snapshot-repository
[INFO] snapshot com.lodh.arte.stdlib:stdlib-server:2.1.4-SNAPSHOT: checking for updates from lodh-snapshot-repository
[INFO] snapshot com.lodh.position:PositionInterposInternalPublic:1.5.0-SNAPSHOT: checking for updates from lodh-snapshot-repository
[INFO] snapshot com.lodh.position:PositionInterposEntity:1.5.0-SNAPSHOT: checking for updates from lodh-snapshot-repository
[INFO] snapshot com.lodh.arte.stdlib:stdlib-parent:2.1.2-SNAPSHOT: checking for updates from lodh-snapshot-repository
[INFO] snapshot com.lodh.arte.stdlib:stdlib-biz:2.1.4-SNAPSHOT: checking for updates from lodh-snapshot-repository
[INFO] snapshot com.lodh.arte.stdlib:stdlib-jca:2.1.4-SNAPSHOT: checking for updates from lodh-snapshot-repository
[INFO] snapshot com.lodh.position:PositionEntity:1.5.0-SNAPSHOT: checking for updates from lodh-snapshot-repository
[INFO] snapshot com.lodh.position:PositionInstrumentEntity:1.5.0-SNAPSHOT: checking for updates from lodh-snapshot-repository
[INFO] snapshot com.lodh.position:PositionTestFramework:1.5.0-SNAPSHOT: checking for updates from lodh-snapshot-repository
[INFO] snapshot com.lodh.position:PositionDA:1.5.0-SNAPSHOT: checking for updates from lodh-snapshot-repository
[INFO] snapshot com.lodh.position:PositionInterposBusiness:1.5.0-SNAPSHOT: checking for updates from lodh-snapshot-repository
[INFO] snapshot com.lodh.position:PositionInterposDA:1.5.0-SNAPSHOT: checking for updates from lodh-snapshot-repository
[INFO] snapshot com.lodh.position:PositionBusinessUtil:1.5.0-SNAPSHOT: checking for updates from lodh-snapshot-repository
[INFO] [compiler:compile]
[INFO] Nothing to compile - all classes are up to date
[INFO] [resources:testResources]
[INFO] Using default encoding to copy filtered resources.
[INFO] [compiler:testCompile]
[INFO] Nothing to compile - all classes are up to date
[INFO] [surefire:test]
[INFO] Surefire report directory: E:\views\Position_Back\SchemaDirecteur\Position_Back\src\PositionBusiness\target\surefire-reports
2007-09-12 09:44:47,250 [INFO ] com.lodh.util.properties.search.ClasspathSearcher - START: Search properties in EAR (or jar for standalone application) with pattern 'META-INF/application.xml'
2007-09-12 09:44:47,265 [DEBUG] com.lodh.util.properties.search.ClasspathSearcher - Add file 'c:/soft/javalib/maven2/local-repository/com/lodh/position/PositionFramework/1.5.0-SNAPSHOT/PositionFramework-1.5.0-SNAPSHOT-tests.jar' in ressources to lookup for static properties.
2007-09-12 09:44:47,296 [INFO ] com.lodh.util.properties.search.ClasspathSearcher - END: Search properties in EAR. found : 0 element(s) in CP
2007-09-12 09:44:47,296 [INFO ] com.lodh.util.properties.search.ClasspathSearcher - START: Search properties in EAR (or jar for standalone application) with pattern 'WEB-INF/web.xml'
2007-09-12 09:44:47,296 [DEBUG] com.lodh.util.properties.search.ClasspathSearcher - Add file 'c:/soft/javalib/maven2/local-repository/com/lodh/position/PositionFramework/1.5.0-SNAPSHOT/PositionFramework-1.5.0-SNAPSHOT-tests.jar' in ressources to lookup for static properties.
2007-09-12 09:44:47,296 [INFO ] com.lodh.util.properties.search.ClasspathSearcher - END: Search properties in EAR. found : 0 element(s) in CP
2007-09-12 09:44:47,296 [INFO ] com.lodh.util.properties.search.ClasspathSearcher - START: Search properties in EAR (or jar for standalone application) with pattern 'com/lodh/.*properties'
2007-09-12 09:44:47,296 [DEBUG] com.lodh.util.properties.search.ClasspathSearcher - Add file 'c:/soft/javalib/maven2/local-repository/com/lodh/position/PositionFramework/1.5.0-SNAPSHOT/PositionFramework-1.5.0-SNAPSHOT-tests.jar' in ressources to lookup for static properties.
2007-09-12 09:44:47,296 [DEBUG] com.lodh.util.properties.search.ResourceSearcher - Found fileName = com/lodh/properties/application.properties
2007-09-12 09:44:47,343 [INFO ] com.lodh.util.properties.search.ClasspathSearcher - END: Search properties in EAR. found : 1 element(s) in CP
2007-09-12 09:44:47,359 [INFO ] com.lodh.util.properties.LodhProperties - *** Reading static properties from file 'com/lodh/properties/application.properties'
2007-09-12 09:44:47,359 [DEBUG] com.lodh.util.properties.PropertiesManager - 1 static properties files added
2007-09-12 09:44:47,359 [DEBUG] com.lodh.util.properties.search.ClasspathSearcher - START: Search properties in global CP with pattern '^Position/LODH/LOC/((?!/).)*.properties$'
2007-09-12 09:44:47,359 [DEBUG] com.lodh.util.properties.search.ClasspathSearcher - Found  Resource='/E:/views/Position_Back/SchemaDirecteur/Position_Back/src/PositionBusiness/target/test-classes/'
2007-09-12 09:44:47,359 [DEBUG] com.lodh.util.properties.search.ClasspathSearcher - Classpath to parse for dynamic properties is /E:/views/Position_Back/SchemaDirecteur/Position_Back/src/PositionBusiness/target/test-classes/
2007-09-12 09:44:47,390 [DEBUG] com.lodh.util.properties.search.ResourceSearcher - Found fileName = Position/LODH/LOC/position.properties
2007-09-12 09:44:47,390 [DEBUG] com.lodh.util.properties.search.ClasspathSearcher - END: Search properties in global CP. found : 1 element(s) in CP
2007-09-12 09:44:47,390 [INFO ] com.lodh.util.properties.LodhProperties - *** Reading dynamic properties from file 'Position/LODH/LOC/position.properties'
2007-09-12 09:44:47,406 [INFO ] com.lodh.util.properties.search.ClasspathSearcher - START: Search properties in EAR (or jar for standalone application) with pattern 'com/lodh/properties/application.properties'
2007-09-12 09:44:47,406 [DEBUG] com.lodh.util.properties.search.ClasspathSearcher - Add file 'c:/soft/javalib/maven2/local-repository/com/lodh/position/PositionFramework/1.5.0-SNAPSHOT/PositionFramework-1.5.0-SNAPSHOT-tests.jar' in ressources to lookup for static properties.
2007-09-12 09:44:47,406 [DEBUG] com.lodh.util.properties.search.ResourceSearcher - Found fileName = com/lodh/properties/application.properties
2007-09-12 09:44:47,406 [INFO ] com.lodh.util.properties.search.ClasspathSearcher - END: Search properties in EAR. found : 1 element(s) in CP
2007-09-12 09:44:47,406 [INFO ] com.lodh.util.properties.LodhProperties - *** Reading static properties from file 'com/lodh/properties/application.properties'
2007-09-12 09:44:47,406 [INFO ] com.lodh.util.properties.ApplicationPropertiesDynamic - - > Default connection Settings are : URL: null, Factory: weblogic.jndi.WLInitialContextFactory, Is Entity Dependant: false, Is Environment Dependant: false, Is NestedEnvironment Dependant: false (null)
2007-09-12 09:44:47,406 [INFO ] com.lodh.util.properties.ApplicationPropertiesDynamic - -> Connection properties for service referentiel are : URL: t3://renoir:9031, Factory: weblogic.jndi.WLInitialContextFactory, Is Entity Dependant: false, Is Environment Dependant: false, Is NestedEnvironment Dependant: false
2007-09-12 09:44:47,406 [DEBUG] com.lodh.util.properties.PropertiesManager - 1 dynamic properties files added
2007-09-12 09:44:47,406 [DEBUG] com.lodh.util.properties.ApplicationPropertiesDynamic - Property name 'PropertiesPath' cannot be updated because is not in file 'Memory_Properties'
2007-09-12 09:44:47,609 [INFO ] com.lodh.util.jpa.CallContext - no transaction manager: working in JSE mode
2007-09-12 09:44:47,625 [INFO ] com.lodh.util.jpa.CallContext - no file META-INF/Position-ds.properties found to further cutomize persistence unit
2007-09-12 09:44:47,625 [DEBUG] com.lodh.util.jpa.CallContext - init. factory for persistence unit Position with properties {hibernate.cache.use_minimal_puts=true, hibernate.connection.driver_class=org.hsqldb.jdbcDriver, hibernate.cache.provider_class=org.hibernate.cache.TreeCacheProvider, hibernate.cache.use_query_cache=true, hibernate.dialect=org.hibernate.dialect.HSQLDialect, hibernate.max_fetch_depth=3, hibernate.cache.use_second_level_cache=true, hibernate.cache.provider_configuration_file_resource_path=position/treecache.xml, hibernate.format_sql=true, hibernate.cache.use_structured_entr
ies=true, hibernate.jdbc.batch_size=0, hibernate.connection.username=sa, hibernate.cache.region_prefix=Position, hibernate.hbm2ddl.auto=create-drop, hibernate.connection.url=jdbc:hsqldb:mem:test_db;sql.enforce_strict_size=true, hibernate.connection.password=}
2007-09-12 09:44:47,687 [INFO ] org.hibernate.cfg.annotations.Version - Hibernate Annotations 3.3.0.GA
2007-09-12 09:44:47,703 [INFO ] org.hibernate.cfg.Environment - Hibernate 3.2.2
2007-09-12 09:44:47,703 [INFO ] org.hibernate.cfg.Environment - hibernate.properties not found
2007-09-12 09:44:47,703 [INFO ] org.hibernate.cfg.Environment - Bytecode provider name : cglib
2007-09-12 09:44:47,718 [INFO ] org.hibernate.cfg.Environment - using JDK 1.4 java.sql.Timestamp handling
2007-09-12 09:44:47,781 [INFO ] org.hibernate.ejb.Version - Hibernate EntityManager 3.3.1.GA
2007-09-12 09:44:48,093 [INFO ] org.hibernate.cfg.Configuration - Reading mappings from resource : com/lodh/position/named-queries-instrument.xml
2007-09-12 09:44:48,281 [INFO ] org.hibernate.cfg.Configuration - Reading mappings from resource : com/lodh/position/named-queries.xml
2007-09-12 09:44:48,375 [INFO ] org.hibernate.cfg.Configuration - Reading mappings from resource : com/lodh/position/mappings.xml
2007-09-12 09:44:48,734 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: Duration.findByCode => select d from DurationDefinitionEty d where d.duration = :durationCode
2007-09-12 09:44:48,734 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: CallDelay.findByCode => select cd from CallDelayDefinitionEty cd where cd.callDelay = :delayCode
2007-09-12 09:44:48,734 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: Counterpart.findByPortfolioRef => select cp from CounterpartEty cp where cp.portfolioRef = :portfolioRef
2007-09-12 09:44:48,734 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: SecurityInstrument.find => select s from SecurityInstrumentEty s where s.securityRef = :securityRef
2007-09-12 09:44:48,750 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: FwdSecurityInstrument.find => select s from ForwardSecurityInstrumentEty s where s.securityInstrument.securityRef = :securityRef and s.maturityDate = :maturityDate
2007-09-12 09:44:48,750 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: CashInstrument.find => select c from CashInstrumentEty c where c.currencyRef = :currencyRef and c.rubricCode = :rubricCode and c.accountTypeCode = :accountTypeCode
2007-09-12 09:44:48,750 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: FwdCashInstrument.find => select fc from ForwardCashInstrumentEty fc where fc.cashInstrument.currencyRef = :currencyRef and fc.cashInstrument.rubricCode = :rubricCode and fc.cashInstrument.accountTypeCode = :accountTypeCode and fc.maturityDate = :maturityDate
2007-09-12 09:44:48,750 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: FwdCounterValueInstrument.find => select fcv from ForwardCounterValueCashInstrumentEty fcv where fcv.fwdCashInstrument.cashInstrument.currencyRef = :currencyRef and fcv.fwdCashInstrument.cashInstrument.rubricCode = :rubricCode and fcv.fwdCashInstrument.cashInstrument.accountTypeCode = :accountTypeCode and fcv.fwdCashInstrument.maturityDate = :maturityDate and fcv.fwdSecurityInstrument.securityInstrument.securityRef = :securityRef and fcv.fwdSecurityInstrument.maturityDate = :maturityDate
2007-09-12 09:44:48,750 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: FwdForexInstrument.find => select ff from ForwardForexInstrumentEty ff where ff.fwdCashBoughtInstrument = :fwdCashBoughtInstrument and ff.fwdCashSoldInstrument = :fwdCashSoldInstrument and ff.operation = :operation and ff.openDate = :openDate and (ff.exchangeRate = :exchangeRate or (ff.exchangeRate is null and :exchangeRate is null))
2007-09-12 09:44:48,750 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: PrepaidFundInstrument.find => select pf from PrepaidFundInstrumentEty pf where pf.cashInstrument.currencyRef = :currencyRef and pf.cashInstrument.rubricCode = :rubricCode and pf.cashInstrument.accountTypeCode = :accountTypeCode and pf.securityInstrument.securityRef = :securityRef
2007-09-12 09:44:48,750 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: FixedLoanDepositInstrument.find => select fld from FixedLoanDepositInstrumentEty fld where fld.type = :type and fld.style = :style and (fld.maturityDate = :maturityDate or (fld.maturityDate is null and :maturityDate is null)) and (fld.startDate = :startDate or (fld.startDate is null and :startDate is null)) and (fld.interestRate = :interestRate or (fld.interestRate is null and :interestRate is null)) and (fld.contractRef.type = :contractRef_type or (fld.contractRef.type is null and :contractRef_typ
e is null )) and (fld.contractRef.value = :contractRef_value or (fld.contractRef.value is null and :contractRef_value is null )) and (fld.durationDef = :duration or (fld.durationDef is null and :duration is null)) and fld.cashInstrument = :cashInstrument and fld.counterpart.portfolioRef = :cptRef
2007-09-12 09:44:48,750 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: FixedLoanDepositInstrument.findNoCounterpart => select fld from FixedLoanDepositInstrumentEty fld where fld.type = :type and fld.style = :style and (fld.maturityDate = :maturityDate or (fld.maturityDate is null and :maturityDate is null)) and (fld.startDate = :startDate or (fld.startDate is null and :startDate is null)) and (fld.interestRate = :interestRate or (fld.interestRate is null and :interestRate is null)) and (fld.contractRef.type = :contractRef_type or (fld.contractRef.type is null and :co
ntractRef_type is null )) and (fld.contractRef.value = :contractRef_value or (fld.contractRef.value is null and :contractRef_value is null )) and (fld.durationDef = :duration or (fld.durationDef is null and :duration is null)) and fld.cashInstrument = :cashInstrument and fld.counterpart is null
2007-09-12 09:44:48,750 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: FixedLoanDepositInstrument.getByContractRef => select fld from FixedLoanDepositInstrumentEty fld where fld.contractRef = :contractRef
2007-09-12 09:44:48,750 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: OnCallLoanDepositInstrument.find => select ocld from OnCallLoanDepositInstrumentEty ocld where ocld.type = :type and ocld.style = :style and ocld.callDelayDef.callDelay = :callDelay and (ocld.startDate = :startDate or (ocld.startDate is null and :startDate is null)) and (ocld.interestRate = :interestRate or (ocld.interestRate is null and :interestRate is null)) and (ocld.contractRef.type = :contractRef_type or (ocld.contractRef.type is null and :contractRef_type is null )) and (ocld.contractRef.val
ue = :contractRef_value or (ocld.contractRef.value is null and :contractRef_value is null )) and ocld.cashInstrument = :cashInstrument and ocld.counterpart.portfolioRef = :counterpartRef
2007-09-12 09:44:48,750 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: OnCallLoanDepositInstrument.findNoCounterpart => select ocld from OnCallLoanDepositInstrumentEty ocld where ocld.type = :type and ocld.style = :style and ocld.callDelayDef.callDelay = :callDelay and (ocld.startDate = :startDate or (ocld.startDate is null and :startDate is null)) and (ocld.interestRate = :interestRate or (ocld.interestRate is null and :interestRate is null)) and (ocld.contractRef.type = :contractRef_type or (ocld.contractRef.type is null and :contractRef_type is null )) and (ocld.co
ntractRef.value = :contractRef_value or (ocld.contractRef.value is null and :contractRef_value is null )) and ocld.cashInstrument = :cashInstrument and ocld.counterpart is null
2007-09-12 09:44:48,765 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: OnCallLoanDepositInstrument.getByContractRef => select ocld from OnCallLoanDepositInstrumentEty ocld where ocld.contractRef = :contractRef
2007-09-12 09:44:48,765 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: InterestRateSwapInstrument.find => select irs from InterestRateSwapInstrumentEty irs where irs.deposit = :deposit and irs.loan = :loan
2007-09-12 09:44:48,765 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: AccountingContext.findFirst => select ac from AccountingContextEty ac
2007-09-12 09:44:48,765 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: User.findIdByUserName => select u from UserEty u where userName = :userName
2007-09-12 09:44:48,765 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: UserEty.findAll => select u from UserEty u
2007-09-12 09:44:48,765 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: AmountType.findByRef => select t from AmountTypeEty t where t.amountTypeCode = :ref
2007-09-12 09:44:48,765 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: CashPosition.find => select cp from CashPositionEty cp where cp.instrumentId = :instrumentId and cp.portfolio = :portfolio and cp.positionState = :state and (cp.participationRole = :cpr or (cp.participationRole is null and :cpr is null))
2007-09-12 09:44:48,781 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: CashPosition.findByIdInSrcSystem => select cp from CashPositionEty cp where cp.positionIdInSourceSystem = :id
2007-09-12 09:44:48,781 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: SecurityPosition.find => select sp from SecurityPositionEty sp where sp.instrumentId = :instrumentId and sp.portfolio = :portfolio and sp.positionState = :state and (sp.shortLong = :shortLong or (sp.shortLong is null and :shortLong is null) )
2007-09-12 09:44:48,796 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: Position.findByState => select p from PositionEty p where p.positionState = :state
2007-09-12 09:44:48,796 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: Position.findByPortfolioAndState => select p from PositionEty p where p.portfolio = :portfolio and p.positionState = :state
2007-09-12 09:44:48,796 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: Position.findByPortfolioRef => select p from PositionEty p where p.portfolio.portfolioRef.reference = :clidos and p.portfolio.portfolioRef.legalEntityRef = :entity
2007-09-12 09:44:48,796 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: SecurityPositionCustodian.find => select spc from SecurityPositionCustodianEty spc where spc.position = :position and spc.custodianAccount = :account
2007-09-12 09:44:48,796 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: FwdForexParticipationRole.find => select ffpr from ForwardForexParticipationRoleEty ffpr where (ffpr.contractRef.type= :contractType or (ffpr.contractRef.type is null and :contractType is null)) and (ffpr.contractRef.value = :contractRef or (ffpr.contractRef.value is null and :contractRef is null)) and ffpr.role = :role and ffpr.compositeId = :compositeId
2007-09-12 09:44:48,828 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: IRSwapParticipationRole.find => select irspr from InterestRateSwapParticipationRoleEty irspr where (irspr.contractRef.type= :contractType or (irspr.contractRef.type is null and :contractType is null)) and (irspr.contractRef.value = :contractRef or (irspr.contractRef.value is null and :contractRef is null)) and irspr.role = :role and irspr.compositeId = :compositeId
2007-09-12 09:44:48,828 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: SecurityCustodianInfo.findByState => SELECT new com.lodh.position.custodian.entity.SecurityCustodianInfo(spc.position.id, cus.id, spc.quantity) FROM SecurityPositionCustodianEty spc, CustodianAccountEty cusAcc, CustodianEty cus, PositionEty pos WHERE pos.positionState = :state AND spc.position = pos AND spc.custodianAccount = cusAcc AND cusAcc.custodian = cus
2007-09-12 09:44:48,828 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: Transaction.findByRef => select t from TransactionEty t where t.reference = :ref
2007-09-12 09:44:48,828 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: Transaction.findByOrderRefAndState => select t from TransactionEty t where t.state=:state and t.operation.operationRef.type = :orderType and t.operation.operationRef.reference = :orderRef
2007-09-12 09:44:48,828 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: Transaction.findAccountedByOrderRefAndExternalRefAndStateAndReversalStatus => select t from TransactionEty t where t.state = :state and t.externalReference = :extRef and t.operation.operationRef.type = :orderType and t.operation.operationRef.reference = :orderRef and t.reversalStatus = :reversal
2007-09-12 09:44:48,843 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: Transaction.findAccountedByOrderRefAndStateAndReversalStatus => select t from TransactionEty t where t.state = :state and t.operation.operationRef.type = :orderType and t.operation.operationRef.reference = :orderRef and t.reversalStatus = :reversal
2007-09-12 09:44:48,843 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: Operation.findByRef => select o from OperationEty o where o.operationRef.reference = :valueRef and o.operationRef.type = :typeRef
2007-09-12 09:44:48,843 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: Order.findByRef => select o from OrderEty o where o.operationRef.reference = :valueRef and o.operationRef.type = :typeRef
2007-09-12 09:44:48,843 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: Order.findVersions => select ov from com.lodh.position.entity.OrderVersionEty ov where ov.order = :order
2007-09-12 09:44:48,843 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: Order.findRootVersions => select ovRoot from com.lodh.position.entity.StockOrderVersionEty ovRoot, com.lodh.position.entity.StockOrderVersionEty ovSlave where ovSlave.order = :order and ovRoot.switchOrderVersion = ovSlave
2007-09-12 09:44:48,843 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: Order.findLatestVersion => select ov from com.lodh.position.entity.OrderVersionEty ov where ov.order = :order and ov.isLatestVersion = true
2007-09-12 09:44:48,843 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: Order.findLatestVersionByRef => select ov from com.lodh.position.entity.OrderVersionEty ov where ov.order.operationRef.reference = :valueRef and ov.order.operationRef.type = :typeRef and ov.isLatestVersion = true
2007-09-12 09:44:48,875 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: Order.findListLatestVersionByRef => select ov from com.lodh.position.entity.OrderVersionEty ov where ov.order.operationRef.reference in (:valueRefs) and ov.order.operationRef.type = :typeRef and ov.isLatestVersion = true
2007-09-12 09:44:48,875 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: Order.findCashOrdersByPortfolioRef => select ov from CashOrderVersionEty ov where ov.isLatestVersion = :isLatest and ov.order.isPending = :isPending and ov.debitPortfolio.portfolioRef = :portfolioRef
2007-09-12 09:44:48,875 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: Order.findCashInternalOrdersByPortfolioRef => select ov from CashInternalOrderVersionEty ov where ov.isLatestVersion = :isLatest and ov.order.isPending = :isPending and ( (( ov.debitPortfolio.portfolioRef.reference = :reference ) and ( ov.debitPortfolio.portfolioRef.legalEntityRef = :legalEntityRef )) or (( ov.creditPortfolio.portfolioRef.reference = :reference ) and ( ov.creditPortfolio.portfolioRef.legalEntityRef = :legalEntityRef ) ) )
2007-09-12 09:44:48,875 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: Order.findFixedLoanDepositOrdersByPortfolioRef => select ov from FixedLoanDepositOrderVersionEty ov where ov.isLatestVersion = :isLatest and ov.order.isPending = :isPending and ov.portfolio.portfolioRef = :portfolioRef
2007-09-12 09:44:48,875 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: Order.findOnCallDepositOrdersByPortfolioRef => select ov from OnCallLoanDepositOrderVersionEty ov where ov.isLatestVersion = :isLatest and ov.order.isPending = :isPending and ov.portfolio.portfolioRef = :portfolioRef
2007-09-12 09:44:48,890 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: Order.findStockOrdersByPortfolioRef => select ov from StockOrderVersionEty ov where ov.isLatestVersion = :isLatest and ov.order.isPending = :isPending and ov.portfolio.portfolioRef = :portfolioRef
2007-09-12 09:44:48,890 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: Order.findForexOrdersByPortfolioRef => select ov from ForexOrderVersionEty ov where ov.isLatestVersion = :isLatest and ov.order.isPending = :isPending and ov.portfolio.portfolioRef = :portfolioRef
2007-09-12 09:44:48,890 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: Order.findPendingOrders => select o from OrderEty o where o.isPending = :isPending
2007-09-12 09:44:48,890 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: Order.findPendingCashOrders => select ov from CashOrderVersionEty ov where ov.isLatestVersion = :isLatest and ov.order.isPending = :isPending
2007-09-12 09:44:48,890 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: Order.findPendingCashInternalOrders => select ov from CashInternalOrderVersionEty ov where ov.isLatestVersion = :isLatest and ov.order.isPending = :isPending
2007-09-12 09:44:48,890 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: Order.findPendingFixedLoanDepositOrders => select ov from FixedLoanDepositOrderVersionEty ov where ov.isLatestVersion = :isLatest and ov.order.isPending = :isPending
2007-09-12 09:44:48,890 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: Order.findPendingOnCallDepositOrders => select ov from OnCallLoanDepositOrderVersionEty ov where ov.isLatestVersion = :isLatest and ov.order.isPending = :isPending
2007-09-12 09:44:48,921 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: Order.findPendingStockOrders => select ov from StockOrderVersionEty ov where ov.isLatestVersion = :isLatest and ov.order.isPending = :isPending
2007-09-12 09:44:48,921 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: Order.findPendingForexOrders => select ov from ForexOrderVersionEty ov where ov.isLatestVersion = :isLatest and ov.order.isPending = :isPending
2007-09-12 09:44:48,921 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: Movement.findForTransaction => select m from com.lodh.position.entity.MovementEty m where m.transaction = :transaction
2007-09-12 09:44:48,921 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: Movement.findCashMovementsByIds => select m from CashMovementEty m where m.id in (:ids)
2007-09-12 09:44:48,921 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: Movement.findCashMovementsByIdsInSrcSystem => select m from CashMovementEty m where m.idMvtInSourceSystem in (:ids)
2007-09-12 09:44:48,921 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: Movement.findUnlinkedReversedCashMovements => select m from CashMovementEty m where m.idMvtRevInSourceSystem is not null and ((select count(r) from CashMovementEty r where r.idMvtInSourceSystem = m.idMvtRevInSourceSystem and r.reversed is null) > 0)
2007-09-12 09:44:48,937 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: Movement.countCashMovementsWithReversalNotExisting => select count(m) from CashMovementEty m where m.idMvtRevInSourceSystem is not null and ((select count(r) from CashMovementEty r where r.idMvtInSourceSystem = m.idMvtRevInSourceSystem and r.reversed is null) = 0)
2007-09-12 09:44:48,937 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: Transaction.getNumberOfCashMovements => select count(m) from CashMovementEty m where m.transaction = :transaction
2007-09-12 09:44:48,953 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: Movement.findSecurityMovementsByIds => select m from SecurityMovementEty m where m.id in (:ids)
2007-09-12 09:44:48,953 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: Movement.findSecurityMovementsByIdsInSrcSystem => select m from SecurityMovementEty m where m.idMvtInSourceSystem in (:ids)
2007-09-12 09:44:48,953 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: Transaction.getNumberOfSecurityMovements => select count(m) from SecurityMovementEty m where m.transaction = :transaction
2007-09-12 09:44:48,953 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: Movement.findUnlinkedReversedSecurityMovements => select m from SecurityMovementEty m where m.idMvtRevInSourceSystem is not null and ((select count(r) from SecurityMovementEty r where r.idMvtInSourceSystem = m.idMvtRevInSourceSystem and r.reversed is null) > 0)
2007-09-12 09:44:48,953 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: Movement.countSecurityMovementsWithReversalNotExisting => select count(m) from SecurityMovementEty m where m.idMvtRevInSourceSystem is not null and ((select count(r) from SecurityMovementEty r where r.idMvtInSourceSystem = m.idMvtRevInSourceSystem and r.reversed is null) = 0)
2007-09-12 09:44:48,953 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: Transaction.findMovements => select mvt from com.lodh.position.entity.MovementEty mvt where mvt.transaction = :transaction
2007-09-12 09:44:48,968 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: Portfolios.findAll => select p from PortfolioEty p
2007-09-12 09:44:48,968 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: Portfolio.findByCliDos => select portfolio from PortfolioEty portfolio where portfolio.portfolioRef.reference = :cliDos
2007-09-12 09:44:48,968 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: Portfolio.findByReference => select portfolio from PortfolioEty portfolio where portfolio.portfolioRef = :reference
2007-09-12 09:44:48,968 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: Portfolios.findByReference => select p from PortfolioEty p where p.portfolioRef.reference IN (:references)
2007-09-12 09:44:48,968 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: Portfolios.findInterestTypes => select t from PortfolioInterestTypeEty t where t.portfolio = :portfolio
2007-09-12 09:44:48,968 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: PortfolioInterestTypes.find => select t from PortfolioInterestTypeEty t where t.portfolio = :portfolio and t.startDate = :startDate
2007-09-12 09:44:49,000 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: Currency.findByCurrencyRef => select c from CurrencyEty c where c.currencyRef = :currencyRef
2007-09-12 09:44:49,000 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: Currency.findAll => select c from CurrencyEty c
2007-09-12 09:44:49,000 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: Custodian.findByRef => select c from CustodianEty c where c.reference = :ref
2007-09-12 09:44:49,000 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: CustodianAccount.findByRef => select c from CustodianAccountEty c where c.reference = :ref
2007-09-12 09:44:49,000 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: CustodianAccount.findByRefs => select c from CustodianAccountEty c where c.reference IN (:refs)
2007-09-12 09:44:49,000 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: ClientPortfolioCustodianAccount.findByRef => select c from ClientPortfolioCustodianAccountEty c where c.reference = :ref
2007-09-12 09:44:49,000 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: ClientPortfolioCustodianAccount.findByCustAndPfref => select c from ClientPortfolioCustodianAccountEty c where c.custodian.reference = :ref and c.clientPortfolio.portfolioRef = :pfref
2007-09-12 09:44:49,000 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: CustodianAccount.findMainAccountByCustodianRef => select c from CustodianAccountEty c where c.custodian.reference = :ref and c.isPrincipal = true
2007-09-12 09:44:49,015 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: CustodianAccount.findMainAccountsByCustodianRef => select c from CustodianAccountEty c where c.custodian.reference IN (:refs) and c.isPrincipal = true
2007-09-12 09:44:49,015 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: Counterpart.findByRef => select c from CounterpartEty c where c.portfolioRef.reference = :cliDos
2007-09-12 09:44:49,015 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: Beneficiary.findByClidosAndRubric => select b from BeneficiaryEty b where b.owner.portfolioRef.reference = :owner_reference and b.owner.portfolioRef.legalEntityRef = :owner_legalEntityRef and b.portfolio.portfolioRef.reference = :benef_reference and b.portfolio.portfolioRef.legalEntityRef = :benef_legalEntityRef and b.beneficiaryType = :type
2007-09-12 09:44:49,015 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: Cost.findMvtCost => select c from MovementCostEty c where c.securityMvt = :secuMvt and c.calcCcy = :calcCcy
2007-09-12 09:44:49,015 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: Cost.findPositionCostLOC90 => select c from PositionCostLOC90Ety c where c.securityPosition = :secuPos and c.viewType = :viewType and c.calcCcy = :calcCcy
2007-09-12 09:44:49,015 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: Cost.findPositionCosts => select c from com.lodh.position.cost.entity.AbstractPositionCostEty c where c.securityPosition = :secuPos and c.viewType = :viewType and c.calcCcy = :calcCcy
2007-09-12 09:44:49,046 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: Cost.findPositionCostWAC => select c from PositionCostWACEty c where c.securityPosition = :secuPos and c.viewType = :viewType and c.calcCcy = :calcCcy
2007-09-12 09:44:49,046 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: Interest.findInterestConditionByRef => select c from InterestConditionEty c where c.reference = :ref
2007-09-12 09:44:49,046 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: Interest.findInterestConditionsByRefs => select c from InterestConditionEty c where c.reference IN (:refs)
2007-09-12 09:44:49,046 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: Interest.findAccTypeIntTypeIntCond => select atitic from AccTypeIntTypeIntCondEty atitic where atitic.interestType = :interestType and atitic.accountType = :accountType and atitic.interestConditionDefinition = :icDef
2007-09-12 09:44:49,046 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: Interest.findInterestConditionDefinition => select icd from InterestConditionDefinitionEty icd where icd.interestCondition.reference = :reference and icd.limit = :limitAmount and icd.startDate = :startDate and icd.limitCurrencyRef = :limitCurrency and icd.limitType = :limitType and icd.debitCreditType = :debitCredit
2007-09-12 09:44:49,062 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding Named query: Interest.findCashPositionInterestCondition => select cpic from CashPositionInterestConditionEty cpic where cpic.cashPosition.positionIdInSourceSystem = :posIdInSrcSystem and cpic.interestConditionDefinition = :icd
2007-09-12 09:44:49,078 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding named native query: CashPosition.findForUpdate => select * from TBL_Position where Id_Portfolio = :portfolio and Id_Instrument = :instrumentId and Cd_Position_State = :state and (ID_COMPOSITE_PARTICIP_ROLE = :cprId or (ID_COMPOSITE_PARTICIP_ROLE is null and :cprId=-1)) for update
2007-09-12 09:44:49,078 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding named native query: CashPosition.findByIdInSrcSystemForUpdate => select * from TBL_Position where Id_In_Source_System = :id for update
2007-09-12 09:44:49,078 [INFO ] org.hibernate.cfg.annotations.QueryBinder - Binding named native query: Position.findByIdForUpdate => select p.* from TBL_POSITION p where p.ID_POSITION=:position for update
2007-09-12 09:44:49,109 [INFO ] org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.lodh.position.entity.UserEty
2007-09-12 09:44:49,140 [INFO ] org.hibernate.cfg.annotations.EntityBinder - Bind entity com.lodh.position.entity.UserEty on table Tbl_User
2007-09-12 09:44:49,203 [INFO ] org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.lodh.position.entity.PositionEty
2007-09-12 09:44:49,203 [INFO ] org.hibernate.cfg.annotations.EntityBinder - Bind entity com.lodh.position.entity.PositionEty on table Tbl_Position
2007-09-12 09:44:49,312 [INFO ] org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.lodh.position.entity.CashPositionEty
2007-09-12 09:44:49,328 [INFO ] org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.lodh.position.entity.SecurityPositionEty
2007-09-12 09:44:49,343 [INFO ] org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.lodh.position.entity.OperationEty
2007-09-12 09:44:49,343 [INFO ] org.hibernate.cfg.annotations.EntityBinder - Bind entity com.lodh.position.entity.OperationEty on table Tbl_Operation
2007-09-12 09:44:49,390 [INFO ] org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.lodh.position.entity.OrderEty
2007-09-12 09:44:49,390 [INFO ] org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.lodh.position.entity.CashOrderVersionEty
2007-09-12 09:44:49,390 [INFO ] org.hibernate.cfg.annotations.EntityBinder - Bind entity com.lodh.position.entity.CashOrderVersionEty on table Tbl_Cash_Order_Version
2007-09-12 09:44:49,421 [INFO ] org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.lodh.position.entity.CashInternalOrderVersionEty
2007-09-12 09:44:49,421 [INFO ] org.hibernate.cfg.annotations.EntityBinder - Bind entity com.lodh.position.entity.CashInternalOrderVersionEty on table Tbl_Int_Cash_Order_Version
2007-09-12 09:44:49,437 [INFO ] org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.lodh.position.entity.StockOrderVersionEty
2007-09-12 09:44:49,437 [INFO ] org.hibernate.cfg.annotations.EntityBinder - Bind entity com.lodh.position.entity.StockOrderVersionEty on table Tbl_Stock_Order_Version
2007-09-12 09:44:49,468 [INFO ] org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.lodh.position.entity.ForexOrderVersionEty
2007-09-12 09:44:49,468 [INFO ] org.hibernate.cfg.annotations.EntityBinder - Bind entity com.lodh.position.entity.ForexOrderVersionEty on table Tbl_Forex_Order_Version
2007-09-12 09:44:49,484 [INFO ] org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.lodh.position.entity.TransactionEty
2007-09-12 09:44:49,484 [INFO ] org.hibernate.cfg.annotations.EntityBinder - Bind entity com.lodh.position.entity.TransactionEty on table Tbl_Transaction
2007-09-12 09:44:49,515 [INFO ] org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.lodh.position.entity.AmountTypeEty
2007-09-12 09:44:49,515 [INFO ] org.hibernate.cfg.annotations.EntityBinder - Bind entity com.lodh.position.entity.AmountTypeEty on table Tbl_Amount_Type
2007-09-12 09:44:49,531 [INFO ] org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.lodh.position.entity.SecurityMovementEty
2007-09-12 09:44:49,531 [INFO ] org.hibernate.cfg.annotations.EntityBinder - Bind entity com.lodh.position.entity.SecurityMovementEty on table Tbl_Security_Movement
2007-09-12 09:44:49,578 [INFO ] org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.lodh.position.entity.CashMovementEty
2007-09-12 09:44:49,578 [INFO ] org.hibernate.cfg.annotations.EntityBinder - Bind entity com.lodh.position.entity.CashMovementEty on table Tbl_Cash_Movement
2007-09-12 09:44:49,593 [INFO ] org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.lodh.position.entity.CurrencyEty
2007-09-12 09:44:49,593 [INFO ] org.hibernate.cfg.annotations.EntityBinder - Bind entity com.lodh.position.entity.CurrencyEty on table Tbl_Currency
2007-09-12 09:44:49,593 [INFO ] org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.lodh.position.entity.AbstractCompositeParticipationRoleEty
2007-09-12 09:44:49,593 [INFO ] org.hibernate.cfg.annotations.EntityBinder - Bind entity com.lodh.position.entity.AbstractCompositeParticipationRoleEty on table Tbl_Composite_Particip_Role
2007-09-12 09:44:49,593 [INFO ] org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.lodh.position.entity.ForwardForexParticipationRoleEty
2007-09-12 09:44:49,593 [INFO ] org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.lodh.position.entity.InterestRateSwapParticipationRoleEty
2007-09-12 09:44:49,593 [INFO ] org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.lodh.position.entity.SecurityPositionCustodianEty
2007-09-12 09:44:49,593 [INFO ] org.hibernate.cfg.annotations.EntityBinder - Bind entity com.lodh.position.entity.SecurityPositionCustodianEty on table Tbl_Security_Pos_Custodian
2007-09-12 09:44:49,609 [INFO ] org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.lodh.position.entity.AccountingContextEty
2007-09-12 09:44:49,609 [INFO ] org.hibernate.cfg.annotations.EntityBinder - Bind entity com.lodh.position.entity.AccountingContextEty on table Tbl_Accounting_Context
2007-09-12 09:44:49,609 [INFO ] org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.lodh.position.entity.StockOrderExecutionEty
2007-09-12 09:44:49,609 [INFO ] org.hibernate.cfg.annotations.EntityBinder - Bind entity com.lodh.position.entity.StockOrderExecutionEty on table Tbl_Stock_Order_Execution
2007-09-12 09:44:49,640 [INFO ] org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.lodh.position.entity.FixedLoanDepositOrderVersionEty
2007-09-12 09:44:49,640 [INFO ] org.hibernate.cfg.annotations.EntityBinder - Bind entity com.lodh.position.entity.FixedLoanDepositOrderVersionEty on table Tbl_Fixed_Loan_Deposit_OV
2007-09-12 09:44:49,656 [INFO ] org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.lodh.position.entity.OnCallLoanDepositOrderVersionEty
2007-09-12 09:44:49,656 [INFO ] org.hibernate.cfg.annotations.EntityBinder - Bind entity com.lodh.position.entity.OnCallLoanDepositOrderVersionEty on table Tbl_On_Call_Loan_Deposit_OV
2007-09-12 09:44:49,656 [INFO ] org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.lodh.position.cost.entity.MovementCostEty
2007-09-12 09:44:49,656 [INFO ] org.hibernate.cfg.annotations.EntityBinder - Bind entity com.lodh.position.cost.entity.MovementCostEty on table Tbl_Movement_Cost_Value
2007-09-12 09:44:49,734 [INFO ] org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.lodh.position.cost.entity.AbstractPositionCostEty
2007-09-12 09:44:49,734 [INFO ] org.hibernate.cfg.annotations.EntityBinder - Bind entity com.lodh.position.cost.entity.AbstractPositionCostEty on table Tbl_Position_Cost_Value
2007-09-12 09:44:49,750 [INFO ] org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.lodh.position.cost.entity.PositionCostLOC90Ety
2007-09-12 09:44:49,750 [INFO ] org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.lodh.position.cost.entity.PositionCostWACEty
2007-09-12 09:44:49,750 [INFO ] org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.lodh.position.portfolio.entity.PortfolioEty
2007-09-12 09:44:49,750 [INFO ] org.hibernate.cfg.annotations.EntityBinder - Bind entity com.lodh.position.portfolio.entity.PortfolioEty on table Tbl_Portfolio
2007-09-12 09:44:49,765 [INFO ] org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.lodh.position.portfolio.entity.PortfolioInterestTypeEty
2007-09-12 09:44:49,765 [INFO ] org.hibernate.cfg.annotations.EntityBinder - Bind entity com.lodh.position.portfolio.entity.PortfolioInterestTypeEty on table Tbl_Portfolio_Interest_Type
2007-09-12 09:44:49,765 [INFO ] org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.lodh.position.portfolio.entity.BeneficiaryEty
2007-09-12 09:44:49,765 [INFO ] org.hibernate.cfg.annotations.EntityBinder - Bind entity com.lodh.position.portfolio.entity.BeneficiaryEty on table Tbl_Beneficiary
2007-09-12 09:44:49,765 [INFO ] org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.lodh.position.portfolio.entity.CashBeneficiaryEty
2007-09-12 09:44:49,781 [INFO ] org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.lodh.position.portfolio.entity.IncomeBeneficiaryEty
2007-09-12 09:44:49,781 [INFO ] org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.lodh.position.custodian.entity.CustodianEty
2007-09-12 09:44:49,781 [INFO ] org.hibernate.cfg.annotations.EntityBinder - Bind entity com.lodh.position.custodian.entity.CustodianEty on table Tbl_Custodian
2007-09-12 09:44:49,781 [INFO ] org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.lodh.position.custodian.entity.CustodianAccountEty
2007-09-12 09:44:49,781 [INFO ] org.hibernate.cfg.annotations.EntityBinder - Bind entity com.lodh.position.custodian.entity.CustodianAccountEty on table Tbl_Custodian_Account
2007-09-12 09:44:49,781 [INFO ] org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.lodh.position.custodian.entity.ClientPortfolioCustodianAccountEty
2007-09-12 09:44:49,781 [INFO ] org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.lodh.position.instrument.entity.InstrumentEty
2007-09-12 09:44:49,781 [INFO ] org.hibernate.cfg.annotations.EntityBinder - Bind entity com.lodh.position.instrument.entity.InstrumentEty on table Tbl_Instrument
2007-09-12 09:44:49,796 [INFO ] org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.lodh.position.instrument.entity.CashInstrumentEty
2007-09-12 09:44:49,796 [INFO ] org.hibernate.cfg.annotations.EntityBinder - Bind entity com.lodh.position.instrument.entity.CashInstrumentEty on table Tbl_Cash_Instrument
2007-09-12 09:44:49,796 [INFO ] org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.lodh.position.instrument.entity.SecurityInstrumentEty
2007-09-12 09:44:49,796 [INFO ] org.hibernate.cfg.annotations.EntityBinder - Bind entity com.lodh.position.instrument.entity.SecurityInstrumentEty on table Tbl_Security_Instrument
2007-09-12 09:44:49,796 [INFO ] org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.lodh.position.instrument.entity.PrepaidFundInstrumentEty
2007-09-12 09:44:49,812 [INFO ] org.hibernate.cfg.annotations.EntityBinder - Bind entity com.lodh.position.instrument.entity.PrepaidFundInstrumentEty on table Tbl_Prepaid_Fund_Instr
2007-09-12 09:44:49,812 [INFO ] org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.lodh.position.instrument.entity.ForwardCashInstrumentEty
2007-09-12 09:44:49,812 [INFO ] org.hibernate.cfg.annotations.EntityBinder - Bind entity com.lodh.position.instrument.entity.ForwardCashInstrumentEty on table Tbl_Fwd_Cash_Instr
2007-09-12 09:44:49,812 [INFO ] org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.lodh.position.instrument.entity.ForwardSecurityInstrumentEty
2007-09-12 09:44:49,812 [INFO ] org.hibernate.cfg.annotations.EntityBinder - Bind entity com.lodh.position.instrument.entity.ForwardSecurityInstrumentEty on table Tbl_Fwd_Security_Instr
2007-09-12 09:44:49,812 [INFO ] org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.lodh.position.instrument.entity.ForwardCounterValueCashInstrumentEty
2007-09-12 09:44:49,812 [INFO ] org.hibernate.cfg.annotations.EntityBinder - Bind entity com.lodh.position.instrument.entity.ForwardCounterValueCashInstrumentEty on table Tbl_Fwd_CounterVal_Instr
2007-09-12 09:44:49,812 [INFO ] org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.lodh.position.instrument.entity.FixedLoanDepositInstrumentEty
2007-09-12 09:44:49,812 [INFO ] org.hibernate.cfg.annotations.EntityBinder - Bind entity com.lodh.position.instrument.entity.FixedLoanDepositInstrumentEty on table Tbl_Fixed_Loan_Deposit
2007-09-12 09:44:49,828 [INFO ] org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.lodh.position.instrument.entity.OnCallLoanDepositInstrumentEty
2007-09-12 09:44:49,828 [INFO ] org.hibernate.cfg.annotations.EntityBinder - Bind entity com.lodh.position.instrument.entity.OnCallLoanDepositInstrumentEty on table Tbl_On_Call_Loan_Deposit
2007-09-12 09:44:49,828 [INFO ] org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.lodh.position.instrument.entity.DurationDefinitionEty
2007-09-12 09:44:49,828 [INFO ] org.hibernate.cfg.annotations.EntityBinder - Bind entity com.lodh.position.instrument.entity.DurationDefinitionEty on table Tbl_Duration_Def
2007-09-12 09:44:49,828 [INFO ] org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.lodh.position.instrument.entity.CallDelayDefinitionEty
2007-09-12 09:44:49,828 [INFO ] org.hibernate.cfg.annotations.EntityBinder - Bind entity com.lodh.position.instrument.entity.CallDelayDefinitionEty on table Tbl_Call_Delay_Def
2007-09-12 09:44:49,828 [INFO ] org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.lodh.position.instrument.entity.CompositeEty
2007-09-12 09:44:49,828 [INFO ] org.hibernate.cfg.annotations.EntityBinder - Bind entity com.lodh.position.instrument.entity.CompositeEty on table Tbl_Composite
2007-09-12 09:44:49,843 [INFO ] org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.lodh.position.instrument.entity.ForwardForexInstrumentEty
2007-09-12 09:44:49,843 [INFO ] org.hibernate.cfg.annotations.EntityBinder - Bind entity com.lodh.position.instrument.entity.ForwardForexInstrumentEty on table Tbl_Fwd_Forex_Composite
2007-09-12 09:44:49,859 [INFO ] org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.lodh.position.instrument.entity.CounterpartEty
2007-09-12 09:44:49,859 [INFO ] org.hibernate.cfg.annotations.EntityBinder - Bind entity com.lodh.position.instrument.entity.CounterpartEty on table Tbl_Counterpart
2007-09-12 09:44:49,859 [INFO ] org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.lodh.position.instrument.entity.InterestRateSwapInstrumentEty
2007-09-12 09:44:49,859 [INFO ] org.hibernate.cfg.annotations.EntityBinder - Bind entity com.lodh.position.instrument.entity.InterestRateSwapInstrumentEty on table Tbl_Interest_Swap_Composite
2007-09-12 09:44:49,875 [INFO ] org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.lodh.position.interest.entity.InterestConditionEty
2007-09-12 09:44:49,875 [INFO ] org.hibernate.cfg.annotations.EntityBinder - Bind entity com.lodh.position.interest.entity.InterestConditionEty on table Tbl_Interest_Condition
2007-09-12 09:44:49,890 [INFO ] org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.lodh.position.interest.entity.InterestConditionDefinitionEty
2007-09-12 09:44:49,890 [INFO ] org.hibernate.cfg.annotations.EntityBinder - Bind entity com.lodh.position.interest.entity.InterestConditionDefinitionEty on table Tbl_Interest_Condition_Def
2007-09-12 09:44:49,890 [INFO ] org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.lodh.position.interest.entity.InterestRateHistoEty
2007-09-12 09:44:49,890 [INFO ] org.hibernate.cfg.annotations.EntityBinder - Bind entity com.lodh.position.interest.entity.InterestRateHistoEty on table Tbl_Int_Cond_Ccy_Rate
2007-09-12 09:44:49,906 [INFO ] org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.lodh.position.interest.entity.CounterpartInterestConditionEty
2007-09-12 09:44:49,906 [INFO ] org.hibernate.cfg.annotations.EntityBinder - Bind entity com.lodh.position.interest.entity.CounterpartInterestConditionEty on table Tbl_Counterpart_Int_Cond
2007-09-12 09:44:49,906 [INFO ] org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.lodh.position.interest.entity.InstrumentInterestConditionEty
2007-09-12 09:44:49,906 [INFO ] org.hibernate.cfg.annotations.EntityBinder - Bind entity com.lodh.position.interest.entity.InstrumentInterestConditionEty on table Tbl_Instrument_Int_Cond
2007-09-12 09:44:49,906 [INFO ] org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.lodh.position.interest.entity.CashPositionInterestConditionEty
2007-09-12 09:44:49,906 [INFO ] org.hibernate.cfg.annotations.EntityBinder - Bind entity com.lodh.position.interest.entity.CashPositionInterestConditionEty on table Tbl_Cash_Pos_Int_Cond
2007-09-12 09:44:49,906 [INFO ] org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.lodh.position.interest.entity.CashPositionInterestHistoEty
2007-09-12 09:44:49,921 [INFO ] org.hibernate.cfg.annotations.EntityBinder - Bind entity com.lodh.position.interest.entity.CashPositionInterestHistoEty on table Tbl_Cash_Pos_Int_Histo
2007-09-12 09:44:49,937 [INFO ] org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.lodh.position.interest.entity.InterestUsanceEty
2007-09-12 09:44:49,937 [INFO ] org.hibernate.cfg.annotations.EntityBinder - Bind entity com.lodh.position.interest.entity.InterestUsanceEty on table Tbl_Interest_Usance
2007-09-12 09:44:49,937 [INFO ] org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.lodh.position.interest.entity.CashPositionInterestUsanceEty
2007-09-12 09:44:49,937 [INFO ] org.hibernate.cfg.annotations.EntityBinder - Bind entity com.lodh.position.interest.entity.CashPositionInterestUsanceEty on table Tbl_Cash_Pos_Int_Usance
2007-09-12 09:44:49,937 [INFO ] org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.lodh.position.interest.entity.InstrumentInterestUsanceEty
2007-09-12 09:44:49,937 [INFO ] org.hibernate.cfg.annotations.EntityBinder - Bind entity com.lodh.position.interest.entity.InstrumentInterestUsanceEty on table Tbl_Instrument_Int_Usance
2007-09-12 09:44:49,953 [INFO ] org.hibernate.cfg.AnnotationBinder - Binding entity from annotated class: com.lodh.position.interest.entity.AccTypeIntTypeIntCondEty
2007-09-12 09:44:49,953 [INFO ] org.hibernate.cfg.annotations.EntityBinder - Bind entity com.lodh.position.interest.entity.AccTypeIntTypeIntCondEty on table Tbl_Acc_Int_Type_Int_Cond
2007-09-12 09:44:49,984 [INFO ] org.hibernate.cfg.annotations.CollectionBinder - Mapping collection: com.lodh.position.entity.OperationEty.transactions -> Tbl_Transaction
2007-09-12 09:44:49,984 [INFO ] org.hibernate.cfg.annotations.CollectionBinder - Mapping collection: com.lodh.position.entity.StockOrderVersionEty.stockOrderExecutions -> Tbl_Stock_Order_Execution
2007-09-12 09:44:49,984 [INFO ] org.hibernate.cfg.annotations.CollectionBinder - Mapping collection: com.lodh.position.portfolio.entity.PortfolioEty.beneficiaries -> Tbl_Beneficiary
2007-09-12 09:44:49,984 [INFO ] org.hibernate.cfg.annotations.CollectionBinder - Mapping collection: com.lodh.position.custodian.entity.CustodianEty.accounts -> Tbl_Custodian_Account
2007-09-12 09:44:50,000 [INFO ] org.hibernate.validator.Version - Hibernate Validator 3.0.0.GA
2007-09-12 09:44:50,468 [INFO ] org.hibernate.connection.DriverManagerConnectionProvider - Using Hibernate built-in connection pool (not for production use!)
2007-09-12 09:44:50,468 [INFO ] org.hibernate.connection.DriverManagerConnectionProvider - Hibernate connection pool size: 20
2007-09-12 09:44:50,468 [INFO ] org.hibernate.connection.DriverManagerConnectionProvider - autocommit mode: true
2007-09-12 09:44:50,468 [INFO ] org.hibernate.connection.DriverManagerConnectionProvider - using driver: org.hsqldb.jdbcDriver at URL: jdbc:hsqldb:mem:test_db;sql.enforce_strict_size=true
2007-09-12 09:44:50,468 [INFO ] org.hibernate.connection.DriverManagerConnectionProvider - connection properties: {user=sa, password=****, autocommit=true, release_mode=auto}
2007-09-12 09:44:50,796 [INFO ] org.hibernate.cfg.SettingsFactory - RDBMS: HSQL Database Engine, version: 1.8.0
2007-09-12 09:44:50,796 [INFO ] org.hibernate.cfg.SettingsFactory - JDBC driver: HSQL Database Engine Driver, version: 1.8.0
2007-09-12 09:44:50,828 [INFO ] org.hibernate.dialect.Dialect - Using dialect: org.hibernate.dialect.HSQLDialect
2007-09-12 09:44:50,828 [INFO ] org.hibernate.transaction.TransactionFactoryFactory - Transaction strategy: org.hibernate.transaction.JDBCTransactionFactory
2007-09-12 09:44:50,828 [INFO ] org.hibernate.transaction.TransactionManagerLookupFactory - No TransactionManagerLookup configured (in JTA environment, use of read-write or transactional second-level cache is not recommended)
2007-09-12 09:44:50,828 [INFO ] org.hibernate.cfg.SettingsFactory - Automatic flush during beforeCompletion(): disabled
2007-09-12 09:44:50,828 [INFO ] org.hibernate.cfg.SettingsFactory - Automatic session close at end of transaction: disabled
2007-09-12 09:44:50,828 [INFO ] org.hibernate.cfg.SettingsFactory - Scrollable result sets: enabled
2007-09-12 09:44:50,828 [INFO ] org.hibernate.cfg.SettingsFactory - JDBC3 getGeneratedKeys(): disabled
2007-09-12 09:44:50,828 [INFO ] org.hibernate.cfg.SettingsFactory - Connection release mode: auto
2007-09-12 09:44:50,828 [INFO ] org.hibernate.cfg.SettingsFactory - Maximum outer join fetch depth: 3
2007-09-12 09:44:50,828 [INFO ] org.hibernate.cfg.SettingsFactory - Default batch fetch size: 1
2007-09-12 09:44:50,828 [INFO ] org.hibernate.cfg.SettingsFactory - Generate SQL with comments: disabled
2007-09-12 09:44:50,828 [INFO ] org.hibernate.cfg.SettingsFactory - Order SQL updates by primary key: disabled
2007-09-12 09:44:50,828 [INFO ] org.hibernate.cfg.SettingsFactory - Query translator: org.hibernate.hql.ast.ASTQueryTranslatorFactory
2007-09-12 09:44:50,828 [INFO ] org.hibernate.hql.ast.ASTQueryTranslatorFactory - Using ASTQueryTranslatorFactory
2007-09-12 09:44:50,828 [INFO ] org.hibernate.cfg.SettingsFactory - Query language substitutions: {}
2007-09-12 09:44:50,828 [INFO ] org.hibernate.cfg.SettingsFactory - JPA-QL strict compliance: enabled
2007-09-12 09:44:50,828 [INFO ] org.hibernate.cfg.SettingsFactory - Second-level cache: enabled
2007-09-12 09:44:50,828 [INFO ] org.hibernate.cfg.SettingsFactory - Query cache: enabled
2007-09-12 09:44:50,828 [INFO ] org.hibernate.cfg.SettingsFactory - Cache provider: org.hibernate.cache.TreeCacheProvider
2007-09-12 09:44:50,843 [INFO ] org.hibernate.cfg.SettingsFactory - Optimize cache for minimal puts: enabled
2007-09-12 09:44:50,843 [INFO ] org.hibernate.cfg.SettingsFactory - Cache region prefix: Position
2007-09-12 09:44:50,843 [INFO ] org.hibernate.cfg.SettingsFactory - Structured second-level cache entries: enabled
2007-09-12 09:44:50,843 [INFO ] org.hibernate.cfg.SettingsFactory - Query cache factory: org.hibernate.cache.StandardQueryCacheFactory
2007-09-12 09:44:50,843 [INFO ] org.hibernate.cfg.SettingsFactory - Statistics: disabled
2007-09-12 09:44:50,859 [INFO ] org.hibernate.cfg.SettingsFactory - Deleted entity synthetic identifier rollback: disabled
2007-09-12 09:44:50,859 [INFO ] org.hibernate.cfg.SettingsFactory - Default entity-mode: pojo
2007-09-12 09:44:50,859 [INFO ] org.hibernate.cfg.SettingsFactory - Named query checking : enabled
2007-09-12 09:44:51,031 [INFO ] org.hibernate.impl.SessionFactoryImpl - building session factory
2007-09-12 09:44:51,140 [INFO ] org.jboss.cache.PropertyConfigurator - Found existing property editor for org.w3c.dom.Element: org.jboss.util.propertyeditor.ElementEditor@ce796
2007-09-12 09:44:51,156 [INFO ] org.jboss.cache.PropertyConfigurator - attribute size: 1
2007-09-12 09:44:51,265 [INFO ] org.hibernate.transaction.TransactionManagerLookupFactory - No TransactionManagerLookup configured (in JTA environment, use of read-write or transactional second-level cache is not recommended)
2007-09-12 09:44:51,328 [INFO ] org.jboss.cache.factories.InterceptorChainFactory - interceptor chain is:
class org.jboss.cache.interceptors.CallInterceptor
class org.jboss.cache.interceptors.PessimisticLockInterceptor
class org.jboss.cache.interceptors.UnlockInterceptor
class org.jboss.cache.interceptors.TxInterceptor
class org.jboss.cache.interceptors.CacheMgmtInterceptor
2007-09-12 09:44:52,796 [INFO ] org.hibernate.impl.SessionFactoryObjectFactory - Not binding factory to JNDI, no JNDI name configured
2007-09-12 09:44:52,984 [INFO ] org.hibernate.tool.hbm2ddl.SchemaExport - Running hbm2ddl schema export
2007-09-12 09:44:52,984 [INFO ] org.hibernate.tool.hbm2ddl.SchemaExport - exporting generated schema to database
2007-09-12 09:44:53,093 [INFO ] org.hibernate.tool.hbm2ddl.SchemaExport - schema export complete
2007-09-12 09:44:53,296 [INFO ] org.hibernate.cache.UpdateTimestampsCache - starting update timestamps cache at region: Position.org.hibernate.cache.UpdateTimestampsCache
2007-09-12 09:44:53,296 [INFO ] org.hibernate.cache.StandardQueryCache - starting query cache at region: Position.org.hibernate.cache.StandardQueryCache
2007-09-12 09:44:54,265 [DEBUG] com.lodh.util.jpa.CallContext - factory initialized: org.hibernate.ejb.EntityManagerFactoryImpl@11fcdde
2007-09-12 09:44:54,328 [DEBUG] org.hibernate.SQL -
    select
        userety0_.Id_User as Id1_0_,
        userety0_.Dtt_Create as Dtt2_0_,
        userety0_.Id_User_Create as Id3_0_,
        userety0_.Id_UserName_Create as Id4_0_,
        userety0_.Dtt_Update as Dtt5_0_,
        userety0_.Id_User_Update as Id6_0_,
        userety0_.Id_UserName_Update as Id7_0_,
        userety0_.No_Version as No8_0_,
        userety0_.Is_Active as Is9_0_,
        userety0_.Nm_Sam_Account as Nm10_0_
    from
        Tbl_User userety0_
    where
        userety0_.Nm_Sam_Account=?
2007-09-12 09:44:54,375 [DEBUG] org.hibernate.SQL -
    insert
    into
        Tbl_User
        (Id_User, Dtt_Create, Id_User_Create, Id_UserName_Create, Dtt_Update, Id_User_Update, Id_UserName_Update, No_Version, Is_Active, Nm_Sam_Account)
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2007-09-12 09:44:54,390 [DEBUG] org.hibernate.SQL -
    call identity()
2007-09-12 09:44:54,390 [DEBUG] org.hibernate.SQL -
    select
        userety0_.Id_User as Id1_0_,
        userety0_.Dtt_Create as Dtt2_0_,
        userety0_.Id_User_Create as Id3_0_,
        userety0_.Id_UserName_Create as Id4_0_,
        userety0_.Dtt_Update as Dtt5_0_,
        userety0_.Id_User_Update as Id6_0_,
        userety0_.Id_UserName_Update as Id7_0_,
        userety0_.No_Version as No8_0_,
        userety0_.Is_Active as Is9_0_,
        userety0_.Nm_Sam_Account as Nm10_0_
    from
        Tbl_User userety0_
    where
        userety0_.Nm_Sam_Account=?
2007-09-12 09:44:54,390 [DEBUG] org.hibernate.SQL -
    insert
    into
        Tbl_User
        (Id_User, Dtt_Create, Id_User_Create, Id_UserName_Create, Dtt_Update, Id_User_Update, Id_UserName_Update, No_Version, Is_Active, Nm_Sam_Account)
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2007-09-12 09:44:54,390 [DEBUG] org.hibernate.SQL -
    call identity()
2007-09-12 09:44:54,390 [DEBUG] org.hibernate.SQL -
    select
        userety0_.Id_User as Id1_0_,
        userety0_.Dtt_Create as Dtt2_0_,
        userety0_.Id_User_Create as Id3_0_,
        userety0_.Id_UserName_Create as Id4_0_,
        userety0_.Dtt_Update as Dtt5_0_,
        userety0_.Id_User_Update as Id6_0_,
        userety0_.Id_UserName_Update as Id7_0_,
        userety0_.No_Version as No8_0_,
        userety0_.Is_Active as Is9_0_,
        userety0_.Nm_Sam_Account as Nm10_0_
    from
        Tbl_User userety0_
    where
        userety0_.Nm_Sam_Account=?
2007-09-12 09:44:54,437 [DEBUG] org.hibernate.SQL -
    insert
    into
        Tbl_User
        (Id_User, Dtt_Create, Id_User_Create, Id_UserName_Create, Dtt_Update, Id_User_Update, Id_UserName_Update, No_Version, Is_Active, Nm_Sam_Account)
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2007-09-12 09:44:54,437 [DEBUG] org.hibernate.SQL -
    call identity()

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running com.lodh.position.CustodianMgrTestCase
2007-09-12 09:44:54,531 [DEBUG] org.hibernate.SQL -
    delete
    from
        Tbl_Cash_Pos_Int_Cond
2007-09-12 09:44:54,531 [DEBUG] org.hibernate.SQL -
    delete
    from
        Tbl_Instrument_Int_Cond
2007-09-12 09:44:54,546 [DEBUG] org.hibernate.SQL -
    delete
    from
        Tbl_Acc_Int_Type_Int_Cond
2007-09-12 09:44:54,546 [DEBUG] org.hibernate.SQL -
    delete
    from
        Tbl_Interest_Condition_Def
2007-09-12 09:44:54,546 [DEBUG] org.hibernate.SQL -
    delete
    from
        Tbl_Interest_Condition
2007-09-12 09:44:54,578 [DEBUG] org.hibernate.SQL -
    delete
    from
        TBL_FIXED_LOAN_DEPOSIT_OV
2007-09-12 09:44:54,578 [DEBUG] org.hibernate.SQL -
    delete
    from
        TBL_ON_CALL_LOAN_DEPOSIT_OV
2007-09-12 09:44:54,578 [DEBUG] org.hibernate.SQL -
    update
        TBL_CASH_MOVEMENT
    set
        ID_CASH_MOVEMENT_REVERSED = NULL
2007-09-12 09:44:54,578 [DEBUG] org.hibernate.SQL -
    delete
    from
        TBL_ACCOUNTING_CONTEXT
2007-09-12 09:44:54,578 [DEBUG] org.hibernate.SQL -
    delete
    from
        TBL_CASH_MOVEMENT
2007-09-12 09:44:54,640 [DEBUG] org.hibernate.SQL -
    delete
    from
        TBL_MOVEMENT_COST_VALUE
2007-09-12 09:44:54,640 [DEBUG] org.hibernate.SQL -
    update
        TBL_SECURITY_MOVEMENT
    set
        ID_SECURITY_MOVEMENT_REVERSED = NULL
2007-09-12 09:44:54,640 [DEBUG] org.hibernate.SQL -
    delete
    from
        TBL_SECURITY_MOVEMENT
2007-09-12 09:44:54,640 [DEBUG] org.hibernate.SQL -
    update
        TBL_TRANSACTION
    set
        ID_TRANSACTION_REVERSED = NULL
2007-09-12 09:44:54,656 [DEBUG] org.hibernate.SQL -
    delete
    from
        TBL_TRANSACTION
2007-09-12 09:44:54,703 [DEBUG] org.hibernate.SQL -
    delete
    from
        TBL_POSITION_COST_VALUE
2007-09-12 09:44:54,703 [DEBUG] org.hibernate.SQL -
    delete
    from
        TBL_SECURITY_POS_CUSTODIAN
2007-09-12 09:44:54,703 [DEBUG] org.hibernate.SQL -
    delete
    from
        TBL_POSITION
2007-09-12 09:44:54,703 [DEBUG] org.hibernate.SQL -
    delete
    from
        TBL_COMPOSITE_PARTICIP_ROLE
2007-09-12 09:44:54,703 [DEBUG] org.hibernate.SQL -
    delete
    from
        TBL_INTEREST_SWAP_COMPOSITE
2007-09-12 09:44:54,781 [DEBUG] org.hibernate.SQL -
    delete
    from
        TBL_ON_CALL_LOAN_DEPOSIT
2007-09-12 09:44:54,781 [DEBUG] org.hibernate.SQL -
    delete
    from
        TBL_FWD_FOREX_COMPOSITE
2007-09-12 09:44:54,781 [DEBUG] org.hibernate.SQL -
    delete
    from
        TBL_COMPOSITE
2007-09-12 09:44:54,781 [DEBUG] org.hibernate.SQL -
    delete
    from
        TBL_FIXED_LOAN_DEPOSIT
2007-09-12 09:44:54,796 [DEBUG] org.hibernate.SQL -
    delete
    from
        TBL_FWD_COUNTERVAL_INSTR
2007-09-12 09:44:54,843 [DEBUG] org.hibernate.SQL -
    delete
    from
        TBL_PREPAID_FUND_INSTR
2007-09-12 09:44:54,843 [DEBUG] org.hibernate.SQL -
    delete
    from
        TBL_FWD_SECURITY_INSTR
2007-09-12 09:44:54,843 [DEBUG] org.hibernate.SQL -
    delete
    from
        TBL_SECURITY_INSTRUMENT
2007-09-12 09:44:54,843 [DEBUG] org.hibernate.SQL -
    delete
    from
        TBL_FWD_CASH_INSTR
2007-09-12 09:44:54,843 [DEBUG] org.hibernate.SQL -
    delete
    from
        TBL_CASH_INSTRUMENT
2007-09-12 09:44:54,921 [DEBUG] org.hibernate.SQL -
    delete
    from
        TBL_INSTRUMENT
2007-09-12 09:44:54,921 [DEBUG] org.hibernate.SQL -
    delete
    from
        TBL_STOCK_ORDER_EXECUTION
2007-09-12 09:44:54,937 [DEBUG] org.hibernate.SQL -
    update
        TBL_STOCK_ORDER_VERSION
    set
        ID_STOCK_ORDER_VERSION_SWITCH= NULL
2007-09-12 09:44:54,937 [DEBUG] org.hibernate.SQL -
    delete
    from
        TBL_STOCK_ORDER_VERSION
2007-09-12 09:44:54,937 [DEBUG] org.hibernate.SQL -
    delete
    from
        TBL_CASH_ORDER_VERSION
2007-09-12 09:44:54,984 [DEBUG] org.hibernate.SQL -
    delete
    from
        TBL_INT_CASH_ORDER_VERSION
2007-09-12 09:44:54,984 [DEBUG] org.hibernate.SQL -
    delete
    from
        TBL_FOREX_ORDER_VERSION
2007-09-12 09:44:54,984 [DEBUG] org.hibernate.SQL -
    delete
    from
        TBL_OPERATION
2007-09-12 09:44:54,984 [DEBUG] org.hibernate.SQL -
    delete
    from
        TBL_COUNTERPART
2007-09-12 09:44:54,984 [DEBUG] org.hibernate.SQL -
    delete
    from
        TBL_CUSTODIAN_ACCOUNT
2007-09-12 09:44:55,062 [DEBUG] org.hibernate.SQL -
    delete
    from
        TBL_CUSTODIAN
2007-09-12 09:44:55,062 [DEBUG] org.hibernate.SQL -
    delete
    from
        TBL_BENEFICIARY
2007-09-12 09:44:55,062 [DEBUG] org.hibernate.SQL -
    delete
    from
        TBL_PORTFOLIO_INTEREST_TYPE
2007-09-12 09:44:55,062 [DEBUG] org.hibernate.SQL -
    delete
    from
        TBL_PORTFOLIO
2007-09-12 09:44:55,062 [DEBUG] org.hibernate.SQL -
    delete
    from
        TBL_DURATION_DEF
2007-09-12 09:44:55,078 [DEBUG] org.hibernate.SQL -
    delete
    from
        TBL_CALL_DELAY_DEF
2007-09-12 09:44:55,125 [DEBUG] org.hibernate.SQL -
    delete
    from
        TBL_AMOUNT_TYPE
2007-09-12 09:44:55,125 [DEBUG] org.hibernate.SQL -
    delete
    from
        TBL_CURRENCY
2007-09-12 09:44:55,390 [DEBUG] org.hibernate.SQL -
    select
        portfolioe0_.Id_Portfolio as Id1_20_,
        portfolioe0_.Dtt_Create as Dtt2_20_,
        portfolioe0_.Id_User_Create as Id3_20_,
        portfolioe0_.Id_UserName_Create as Id4_20_,
        portfolioe0_.Dtt_Update as Dtt5_20_,
        portfolioe0_.Id_User_Update as Id6_20_,
        portfolioe0_.Id_UserName_Update as Id7_20_,
        portfolioe0_.No_Version as No8_20_,
        portfolioe0_.Cd_Language as Cd9_20_,
        portfolioe0_.Dt_Last_Perf_CCY_Change as Dt10_20_,
        portfolioe0_.Cd_Management_Unit as Cd11_20_,
        portfolioe0_.Nm_Portfolio as Nm12_20_,
        portfolioe0_.Cd_Nature_Dos as Cd13_20_,
        portfolioe0_.Cd_CCY_Perf as Cd14_20_,
        portfolioe0_.Cd_Legal_Entity as Cd15_20_,
        portfolioe0_.No_Portfolio_Ref as No16_20_,
        portfolioe0_.Cd_Portfolio_Type as Cd17_20_
    from
        Tbl_Portfolio portfolioe0_
    where
        portfolioe0_.Cd_Legal_Entity=?
        and portfolioe0_.No_Portfolio_Ref=?
2007-09-12 09:44:55,406 [DEBUG] org.hibernate.SQL -
    insert
    into
        Tbl_Portfolio
        (Id_Portfolio, Dtt_Create, Id_User_Create, Id_UserName_Create, Dtt_Update, Id_User_Update, Id_UserName_Update, No_Version, Cd_Language, Dt_Last_Perf_CCY_Change, Cd_Management_Unit, Nm_Portfolio, Cd_Nature_Dos, Cd_CCY_Perf, Cd_Legal_Entity, No_Portfolio_Ref, Cd_Portfolio_Type)
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2007-09-12 09:44:55,406 [DEBUG] org.hibernate.SQL -
    call identity()
2007-09-12 09:44:55,437 [DEBUG] org.hibernate.SQL -
    select
        portfolioe0_.Id_Portfolio as Id1_20_,
        portfolioe0_.Dtt_Create as Dtt2_20_,
        portfolioe0_.Id_User_Create as Id3_20_,
        portfolioe0_.Id_UserName_Create as Id4_20_,
        portfolioe0_.Dtt_Update as Dtt5_20_,
        portfolioe0_.Id_User_Update as Id6_20_,
        portfolioe0_.Id_UserName_Update as Id7_20_,
        portfolioe0_.No_Version as No8_20_,
        portfolioe0_.Cd_Language as Cd9_20_,
        portfolioe0_.Dt_Last_Perf_CCY_Change as Dt10_20_,
        portfolioe0_.Cd_Management_Unit as Cd11_20_,
        portfolioe0_.Nm_Portfolio as Nm12_20_,
        portfolioe0_.Cd_Nature_Dos as Cd13_20_,
        portfolioe0_.Cd_CCY_Perf as Cd14_20_,
        portfolioe0_.Cd_Legal_Entity as Cd15_20_,
        portfolioe0_.No_Portfolio_Ref as No16_20_,
        portfolioe0_.Cd_Portfolio_Type as Cd17_20_
    from
        Tbl_Portfolio portfolioe0_
    where
        portfolioe0_.Cd_Legal_Entity=?
        and portfolioe0_.No_Portfolio_Ref=?
2007-09-12 09:44:55,468 [DEBUG] org.hibernate.SQL -
    select
        custodiane0_.Id_Custodian as Id1_23_,
        custodiane0_.Dtt_Create as Dtt2_23_,
        custodiane0_.Id_User_Create as Id3_23_,
        custodiane0_.Id_UserName_Create as Id4_23_,
        custodiane0_.Dtt_Update as Dtt5_23_,
        custodiane0_.Id_User_Update as Id6_23_,
        custodiane0_.Id_UserName_Update as Id7_23_,
        custodiane0_.No_Version as No8_23_,
        custodiane0_.Nm_Custodian as Nm9_23_,
        custodiane0_.Id_Portfolio as Id11_23_,
        custodiane0_.NO_CUSTODIAN as NO10_23_
    from
        Tbl_Custodian custodiane0_
    where
        custodiane0_.NO_CUSTODIAN=?
2007-09-12 09:44:55,546 [DEBUG] org.hibernate.SQL -
    select
        custodiana0_.Id_Custodian_Account as Id2_24_,
        custodiana0_.Dtt_Create as Dtt3_24_,
        custodiana0_.Id_User_Create as Id4_24_,
        custodiana0_.Id_UserName_Create as Id5_24_,
        custodiana0_.Dtt_Update as Dtt6_24_,
        custodiana0_.Id_User_Update as Id7_24_,
        custodiana0_.Id_UserName_Update as Id8_24_,
        custodiana0_.No_Version as No9_24_,
        custodiana0_.Id_Custodian as Id16_24_,
        custodiana0_.No_External_Reference as No10_24_,
        custodiana0_.Is_Principal as Is11_24_,
        custodiana0_.Nm_Custodian_Account as Nm12_24_,
        custodiana0_.NO_CUSTODIAN_ACCOUNT as NO13_24_,
        custodiana0_.Id_Portfolio_Client as Id15_24_,
        custodiana0_.NO_SUB_ACCOUNT as NO14_24_,
        custodiana0_.Cd_Custodian_Account_Type as Cd1_24_
    from
        Tbl_Custodian_Account custodiana0_
    where
        custodiana0_.NO_CUSTODIAN_ACCOUNT=?
2007-09-12 09:44:55,609 [DEBUG] org.hibernate.SQL -
    insert
    into
        Tbl_Custodian
        (Id_Custodian, Dtt_Create, Id_User_Create, Id_UserName_Create, Dtt_Update, Id_User_Update, Id_UserName_Update, No_Version, Nm_Custodian, Id_Portfolio, NO_CUSTODIAN)
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2007-09-12 09:44:55,609 [DEBUG] org.hibernate.SQL -
    call identity()
2007-09-12 09:44:55,609 [DEBUG] org.hibernate.SQL -
    insert
    into
        Tbl_Custodian_Account
        (Id_Custodian_Account, Dtt_Create, Id_User_Create, Id_UserName_Create, Dtt_Update, Id_User_Update, Id_UserName_Update, No_Version, Id_Custodian, No_External_Reference, Is_Principal, Nm_Custodian_Account, NO_CUSTODIAN_ACCOUNT, Cd_Custodian_Account_Type)
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, 'CA')
2007-09-12 09:44:55,687 [DEBUG] org.hibernate.SQL -
    call identity()
2007-09-12 09:44:55,687 [DEBUG] org.hibernate.SQL -
    select
        custodiane0_.Id_Custodian as Id1_23_,
        custodiane0_.Dtt_Create as Dtt2_23_,
        custodiane0_.Id_User_Create as Id3_23_,
        custodiane0_.Id_UserName_Create as Id4_23_,
        custodiane0_.Dtt_Update as Dtt5_23_,
        custodiane0_.Id_User_Update as Id6_23_,
        custodiane0_.Id_UserName_Update as Id7_23_,
        custodiane0_.No_Version as No8_23_,
        custodiane0_.Nm_Custodian as Nm9_23_,
        custodiane0_.Id_Portfolio as Id11_23_,
        custodiane0_.NO_CUSTODIAN as NO10_23_
    from
        Tbl_Custodian custodiane0_
    where
        custodiane0_.NO_CUSTODIAN=?
2007-09-12 09:44:55,750 [DEBUG] org.hibernate.SQL -
    select
        portfolioe0_.Id_Portfolio as Id1_20_0_,
        portfolioe0_.Dtt_Create as Dtt2_20_0_,
        portfolioe0_.Id_User_Create as Id3_20_0_,
        portfolioe0_.Id_UserName_Create as Id4_20_0_,
        portfolioe0_.Dtt_Update as Dtt5_20_0_,
        portfolioe0_.Id_User_Update as Id6_20_0_,
        portfolioe0_.Id_UserName_Update as Id7_20_0_,
        portfolioe0_.No_Version as No8_20_0_,
        portfolioe0_.Cd_Language as Cd9_20_0_,
        portfolioe0_.Dt_Last_Perf_CCY_Change as Dt10_20_0_,
        portfolioe0_.Cd_Management_Unit as Cd11_20_0_,
        portfolioe0_.Nm_Portfolio as Nm12_20_0_,
        portfolioe0_.Cd_Nature_Dos as Cd13_20_0_,
        portfolioe0_.Cd_CCY_Perf as Cd14_20_0_,
        portfolioe0_.Cd_Legal_Entity as Cd15_20_0_,
        portfolioe0_.No_Portfolio_Ref as No16_20_0_,
        portfolioe0_.Cd_Portfolio_Type as Cd17_20_0_
    from
        Tbl_Portfolio portfolioe0_
    where
        portfolioe0_.Id_Portfolio=?
2007-09-12 09:44:55,812 [DEBUG] org.hibernate.SQL -
    select
        custodiana0_.Id_Custodian_Account as Id2_24_,
        custodiana0_.Dtt_Create as Dtt3_24_,
        custodiana0_.Id_User_Create as Id4_24_,
        custodiana0_.Id_UserName_Create as Id5_24_,
        custodiana0_.Dtt_Update as Dtt6_24_,
        custodiana0_.Id_User_Update as Id7_24_,
        custodiana0_.Id_UserName_Update as Id8_24_,
        custodiana0_.No_Version as No9_24_,
        custodiana0_.Id_Custodian as Id16_24_,
        custodiana0_.No_External_Reference as No10_24_,
        custodiana0_.Is_Principal as Is11_24_,
        custodiana0_.Nm_Custodian_Account as Nm12_24_,
        custodiana0_.NO_CUSTODIAN_ACCOUNT as NO13_24_,
        custodiana0_.Id_Portfolio_Client as Id15_24_,
        custodiana0_.NO_SUB_ACCOUNT as NO14_24_,
        custodiana0_.Cd_Custodian_Account_Type as Cd1_24_
    from
        Tbl_Custodian_Account custodiana0_
    where
        custodiana0_.NO_CUSTODIAN_ACCOUNT=?
2007-09-12 09:44:55,890 [DEBUG] org.hibernate.SQL -
    select
        accounts0_.Id_Custodian as Id16_2_,
        accounts0_.Id_Custodian_Account as Id2_2_,
        accounts0_.Id_Custodian_Account as Id2_24_1_,
        accounts0_.Dtt_Create as Dtt3_24_1_,
        accounts0_.Id_User_Create as Id4_24_1_,
        accounts0_.Id_UserName_Create as Id5_24_1_,
        accounts0_.Dtt_Update as Dtt6_24_1_,
        accounts0_.Id_User_Update as Id7_24_1_,
        accounts0_.Id_UserName_Update as Id8_24_1_,
        accounts0_.No_Version as No9_24_1_,
        accounts0_.Id_Custodian as Id16_24_1_,
        accounts0_.No_External_Reference as No10_24_1_,
        accounts0_.Is_Principal as Is11_24_1_,
        accounts0_.Nm_Custodian_Account as Nm12_24_1_,
        accounts0_.NO_CUSTODIAN_ACCOUNT as NO13_24_1_,
        accounts0_.Id_Portfolio_Client as Id15_24_1_,
        accounts0_.NO_SUB_ACCOUNT as NO14_24_1_,
        accounts0_.Cd_Custodian_Account_Type as Cd1_24_1_,
        portfolioe1_.Id_Portfolio as Id1_20_0_,
        portfolioe1_.Dtt_Create as Dtt2_20_0_,
        portfolioe1_.Id_User_Create as Id3_20_0_,
        portfolioe1_.Id_UserName_Create as Id4_20_0_,
        portfolioe1_.Dtt_Update as Dtt5_20_0_,
        portfolioe1_.Id_User_Update as Id6_20_0_,
        portfolioe1_.Id_UserName_Update as Id7_20_0_,
        portfolioe1_.No_Version as No8_20_0_,
        portfolioe1_.Cd_Language as Cd9_20_0_,
        portfolioe1_.Dt_Last_Perf_CCY_Change as Dt10_20_0_,
        portfolioe1_.Cd_Management_Unit as Cd11_20_0_,
        portfolioe1_.Nm_Portfolio as Nm12_20_0_,
        portfolioe1_.Cd_Nature_Dos as Cd13_20_0_,
        portfolioe1_.Cd_CCY_Perf as Cd14_20_0_,
        portfolioe1_.Cd_Legal_Entity as Cd15_20_0_,
        portfolioe1_.No_Portfolio_Ref as No16_20_0_,
        portfolioe1_.Cd_Portfolio_Type as Cd17_20_0_
    from
        Tbl_Custodian_Account accounts0_
    left outer join
        Tbl_Portfolio portfolioe1_
            on accounts0_.Id_Portfolio_Client=portfolioe1_.Id_Portfolio
    where
        accounts0_.Id_Custodian=?
2007-09-12 09:44:55,968 [DEBUG] org.hibernate.SQL -
    select
        custodiane0_.Id_Custodian as Id1_23_,
        custodiane0_.Dtt_Create as Dtt2_23_,
        custodiane0_.Id_User_Create as Id3_23_,
        custodiane0_.Id_UserName_Create as Id4_23_,
        custodiane0_.Dtt_Update as Dtt5_23_,
        custodiane0_.Id_User_Update as Id6_23_,
        custodiane0_.Id_UserName_Update as Id7_23_,
        custodiane0_.No_Version as No8_23_,
        custodiane0_.Nm_Custodian as Nm9_23_,
        custodiane0_.Id_Portfolio as Id11_23_,
        custodiane0_.NO_CUSTODIAN as NO10_23_
    from
        Tbl_Custodian custodiane0_
    where
        custodiane0_.NO_CUSTODIAN=?
2007-09-12 09:44:56,109 [DEBUG] org.hibernate.SQL -
    select
        portfolioe0_.Id_Portfolio as Id1_20_0_,
        portfolioe0_.Dtt_Create as Dtt2_20_0_,
        portfolioe0_.Id_User_Create as Id3_20_0_,
        portfolioe0_.Id_UserName_Create as Id4_20_0_,
        portfolioe0_.Dtt_Update as Dtt5_20_0_,
        portfolioe0_.Id_User_Update as Id6_20_0_,
        portfolioe0_.Id_UserName_Update as Id7_20_0_,
        portfolioe0_.No_Version as No8_20_0_,
        portfolioe0_.Cd_Language as Cd9_20_0_,
        portfolioe0_.Dt_Last_Perf_CCY_Change as Dt10_20_0_,
        portfolioe0_.Cd_Management_Unit as Cd11_20_0_,
        portfolioe0_.Nm_Portfolio as Nm12_20_0_,
        portfolioe0_.Cd_Nature_Dos as Cd13_20_0_,
        portfolioe0_.Cd_CCY_Perf as Cd14_20_0_,
        portfolioe0_.Cd_Legal_Entity as Cd15_20_0_,
        portfolioe0_.No_Portfolio_Ref as No16_20_0_,
        portfolioe0_.Cd_Portfolio_Type as Cd17_20_0_
    from
        Tbl_Portfolio portfolioe0_
    where
        portfolioe0_.Id_Portfolio=?
2007-09-12 09:44:56,187 [DEBUG] org.hibernate.SQL -
    select
        custodiana0_.Id_Custodian_Account as Id2_24_,
        custodiana0_.Dtt_Create as Dtt3_24_,
        custodiana0_.Id_User_Create as Id4_24_,
        custodiana0_.Id_UserName_Create as Id5_24_,
        custodiana0_.Dtt_Update as Dtt6_24_,
        custodiana0_.Id_User_Update as Id7_24_,
        custodiana0_.Id_UserName_Update as Id8_24_,
        custodiana0_.No_Version as No9_24_,
        custodiana0_.Id_Custodian as Id16_24_,
        custodiana0_.No_External_Reference as No10_24_,
        custodiana0_.Is_Principal as Is11_24_,
        custodiana0_.Nm_Custodian_Account as Nm12_24_,
        custodiana0_.NO_CUSTODIAN_ACCOUNT as NO13_24_,
        custodiana0_.Id_Portfolio_Client as Id15_24_,
        custodiana0_.NO_SUB_ACCOUNT as NO14_24_,
        custodiana0_.Cd_Custodian_Account_Type as Cd1_24_
    from
        Tbl_Custodian_Account custodiana0_
    where
        custodiana0_.NO_CUSTODIAN_ACCOUNT=?
2007-09-12 09:44:56,250 [DEBUG] org.hibernate.SQL -
    insert
    into
        Tbl_Custodian_Account
        (Id_Custodian_Account, Dtt_Create, Id_User_Create, Id_UserName_Create, Dtt_Update, Id_User_Update, Id_UserName_Update, No_Version, Id_Custodian, No_External_Reference, Is_Principal, Nm_Custodian_Account, NO_CUSTODIAN_ACCOUNT, Cd_Custodian_Account_Type)
    values
        (null, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, 'CA')
2007-09-12 09:44:56,250 [DEBUG] org.hibernate.SQL -
    call identity()
2007-09-12 09:44:56,250 [DEBUG] org.hibernate.SQL -
    select
        accounts0_.Id_Custodian as Id16_2_,
        accounts0_.Id_Custodian_Account as Id2_2_,
        accounts0_.Id_Custodian_Account as Id2_24_1_,
        accounts0_.Dtt_Create as Dtt3_24_1_,
        accounts0_.Id_User_Create as Id4_24_1_,
        accounts0_.Id_UserName_Create as Id5_24_1_,
        accounts0_.Dtt_Update as Dtt6_24_1_,
        accounts0_.Id_User_Update as Id7_24_1_,
        accounts0_.Id_UserName_Update as Id8_24_1_,
        accounts0_.No_Version as No9_24_1_,
        accounts0_.Id_Custodian as Id16_24_1_,
        accounts0_.No_External_Reference as No10_24_1_,
        accounts0_.Is_Principal as Is11_24_1_,
        accounts0_.Nm_Custodian_Account as Nm12_24_1_,
        accounts0_.NO_CUSTODIAN_ACCOUNT as NO13_24_1_,
        accounts0_.Id_Portfolio_Client as Id15_24_1_,
        accounts0_.NO_SUB_ACCOUNT as NO14_24_1_,
        accounts0_.Cd_Custodian_Account_Type as Cd1_24_1_,
        portfolioe1_.Id_Portfolio as Id1_20_0_,
        portfolioe1_.Dtt_Create as Dtt2_20_0_,
        portfolioe1_.Id_User_Create as Id3_20_0_,
        portfolioe1_.Id_UserName_Create as Id4_20_0_,
        portfolioe1_.Dtt_Update as Dtt5_20_0_,
        portfolioe1_.Id_User_Update as Id6_20_0_,
        portfolioe1_.Id_UserName_Update as Id7_20_0_,
        portfolioe1_.No_Version as No8_20_0_,
        portfolioe1_.Cd_Language as Cd9_20_0_,
        portfolioe1_.Dt_Last_Perf_CCY_Change as Dt10_20_0_,
        portfolioe1_.Cd_Management_Unit as Cd11_20_0_,
        portfolioe1_.Nm_Portfolio as Nm12_20_0_,
        portfolioe1_.Cd_Nature_Dos as Cd13_20_0_,
        portfolioe1_.Cd_CCY_Perf as Cd14_20_0_,
        portfolioe1_.Cd_Legal_Entity as Cd15_20_0_,
        portfolioe1_.No_Portfolio_Ref as No16_20_0_,
        portfolioe1_.Cd_Portfolio_Type as Cd17_20_0_
    from
        Tbl_Custodian_Account accounts0_
    left outer join
        Tbl_Portfolio portfolioe1_
            on accounts0_.Id_Portfolio_Client=portfolioe1_.Id_Portfolio
    where
        accounts0_.Id_Custodian=?
2007-09-12 09:44:56,343 [DEBUG] org.hibernate.SQL -
    update
        Tbl_Custodian
    set
        Dtt_Create=?,
        Id_User_Create=?,
        Id_UserName_Create=?,
        Dtt_Update=?,
        Id_User_Update=?,
        Id_UserName_Update=?,
        No_Version=?,
        Nm_Custodian=?,
        Id_Portfolio=?,
        NO_CUSTODIAN=?
    where
        Id_Custodian=?
        and No_Version=?
Tests run: 1, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 2.031 sec <<< FAILURE!

Results :

Failed tests:
  testCreateCustodianAccount(com.lodh.position.CustodianMgrTestCase)

Tests run: 1, Failures: 1, Errors: 0, Skipped: 0

[INFO] ------------------------------------------------------------------------
[ERROR] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] There are test failures.
[INFO] ------------------------------------------------------------------------
[INFO] For more information, run Maven with the -e switch
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 18 seconds
[INFO] Finished at: Wed Sep 12 09:44:56 CEST 2007
[INFO] Final Memory: 12M/254M
[INFO] ------------------------------------------------------------------------

E:\views\Position_Back\SchemaDirecteur\Position_Back\src\PositionBusiness>




=================================== 

TEST ERROR

-------------------------------------------------------------------------------
Test set: com.lodh.position.CustodianMgrTestCase
-------------------------------------------------------------------------------
Tests run: 1, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 2.031 sec <<< FAILURE!
testCreateCustodianAccount(com.lodh.position.CustodianMgrTestCase)  Time elapsed: 1.844 sec  <<< FAILURE!
junit.framework.AssertionFailedError: expected:<2> but was:<3>
	at junit.framework.Assert.fail(Assert.java:47)
	at junit.framework.Assert.failNotEquals(Assert.java:277)
	at junit.framework.Assert.assertEquals(Assert.java:64)
	at junit.framework.Assert.assertEquals(Assert.java:195)
	at junit.framework.Assert.assertEquals(Assert.java:201)
	at com.lodh.position.CustodianMgrTestCase.testCreateCustodianAccount(CustodianMgrTestCase.java:58)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:585)
	at junit.framework.TestCase.runTest(TestCase.java:168)
	at junit.framework.TestCase.runBare(TestCase.java:134)
	at junit.framework.TestResult$1.protect(TestResult.java:110)
	at junit.framework.TestResult.runProtected(TestResult.java:128)
	at junit.framework.TestResult.run(TestResult.java:113)
	at junit.framework.TestCase.run(TestCase.java:124)
	at junit.framework.TestSuite.runTest(TestSuite.java:232)
	at junit.framework.TestSuite.run(TestSuite.java:227)
	at org.junit.internal.runners.OldTestClassRunner.run(OldTestClassRunner.java:76)
	at org.apache.maven.surefire.junit4.JUnit4TestSet.execute(JUnit4TestSet.java:62)
	at org.apache.maven.surefire.suite.AbstractDirectoryTestSuite.executeTestSet(AbstractDirectoryTestSuite.java:138)
	at org.apache.maven.surefire.suite.AbstractDirectoryTestSuite.execute(AbstractDirectoryTestSuite.java:125)
	at org.apache.maven.surefire.Surefire.run(Surefire.java:132)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
	at java.lang.reflect.Method.invoke(Method.java:585)
	at org.apache.maven.surefire.booter.SurefireBooter.runSuitesInProcess(SurefireBooter.java:290)
	at org.apache.maven.surefire.booter.SurefireBooter.main(SurefireBooter.java:818)

