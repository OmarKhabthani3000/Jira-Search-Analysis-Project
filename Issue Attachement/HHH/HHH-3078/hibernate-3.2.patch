--- orig/hibernate-3.2/src/org/hibernate/tuple/entity/PojoEntityTuplizer.java	2006-07-13 20:09:20.000000000 +0300
+++ new/hibernate-3.2/src/org/hibernate/tuple/entity/PojoEntityTuplizer.java	2008-01-22 11:07:22.482528500 +0200
@@ -5,6 +5,7 @@
 import java.lang.reflect.Modifier;
 import java.util.HashSet;
 import java.util.Iterator;
+import java.util.LinkedHashSet;
 import java.util.Map;
 import java.util.Set;
 
@@ -91,8 +92,7 @@
 	protected ProxyFactory buildProxyFactory(PersistentClass persistentClass, Getter idGetter, Setter idSetter) {
 		// determine the id getter and setter methods from the proxy interface (if any)
         // determine all interfaces needed by the resulting proxy
-		HashSet proxyInterfaces = new HashSet();
-		proxyInterfaces.add( HibernateProxy.class );
+		HashSet proxyInterfaces = new LinkedHashSet();
 		
 		Class mappedClass = persistentClass.getMappedClass();
 		Class proxyInterface = persistentClass.getProxyInterface();
@@ -126,6 +126,7 @@
 				proxyInterfaces.add( subclassProxy );
 			}
 		}
+		proxyInterfaces.add( HibernateProxy.class );
 
 		Iterator properties = persistentClass.getPropertyIterator();
 		Class clazz = persistentClass.getMappedClass();
